{"version":3,"sources":["webpack://BetterDiscord/webpack/bootstrap","webpack://BetterDiscord/external \"electron\"","webpack://BetterDiscord/external \"path\"","webpack://BetterDiscord/external \"fs\"","webpack://BetterDiscord/external \"crypto\"","webpack://BetterDiscord/external \"node-fetch\"","webpack://BetterDiscord/external \"events\"","webpack://BetterDiscord/external \"module\"","webpack://BetterDiscord/./src/0globals.js","webpack://BetterDiscord/./src/modules/webpackModules.js","webpack://BetterDiscord/./src/modules/dataStore.js","webpack://BetterDiscord/./src/modules/bdEvents.js","webpack://BetterDiscord/./src/modules/pluginModule.js","webpack://BetterDiscord/./src/ui/tooltip.js","webpack://BetterDiscord/./src/ui/tooltipWrap.js","webpack://BetterDiscord/./src/modules/pluginCertifier.js","webpack://BetterDiscord/./src/modules/contentManager.js","webpack://BetterDiscord/./src/modules/domtools.js","webpack://BetterDiscord/./src/modules/themeModule.js","webpack://BetterDiscord/./src/modules/v2.js","webpack://BetterDiscord/./src/modules/utils.js","webpack://BetterDiscord/./src/modules/settingsPanelSidebar.js","webpack://BetterDiscord/./src/modules/coloredText.js","webpack://BetterDiscord/./src/modules/24hour.js","webpack://BetterDiscord/./src/ui/settingsTitle.js","webpack://BetterDiscord/./src/ui/tabBarSeparator.js","webpack://BetterDiscord/./src/ui/publicservers/serverCard.js","webpack://BetterDiscord/./src/modules/hooks.js","webpack://BetterDiscord/./src/ui/publicservers/publicServers.js","webpack://BetterDiscord/./src/svg/bug_hunter.jsx","webpack://BetterDiscord/./src/svg/circus.jsx","webpack://BetterDiscord/./src/modules/distant.js","webpack://BetterDiscord/./src/modules/Layers.jsx","webpack://BetterDiscord/./src/modules/publicServers.js","webpack://BetterDiscord/./src/modules/voiceMode.js","webpack://BetterDiscord/./src/modules/classNormalizer.js","webpack://BetterDiscord/./src/modules/devMode.js","webpack://BetterDiscord/./src/ui/components/switch.jsx","webpack://BetterDiscord/./src/ui/switch.js","webpack://BetterDiscord/./src/ui/margintop.jsx","webpack://BetterDiscord/./src/ui/settingsGroup.jsx","webpack://BetterDiscord/./src/ui/sectionedSettingsPanel.js","webpack://BetterDiscord/./src/ui/checkbox.js","webpack://BetterDiscord/./src/ui/cssEditorDetached.js","webpack://BetterDiscord/./src/ui/cssEditor.js","webpack://BetterDiscord/./src/ui/errorBoundary.js","webpack://BetterDiscord/./src/ui/contentColumn.js","webpack://BetterDiscord/./src/ui/reloadIcon.js","webpack://BetterDiscord/./src/ui/xSvg.js","webpack://BetterDiscord/./src/ui/icons/edit.jsx","webpack://BetterDiscord/./src/ui/icons/delete.jsx","webpack://BetterDiscord/./src/ui/addoncard.jsx","webpack://BetterDiscord/./src/ui/icons/downarrow.jsx","webpack://BetterDiscord/./src/ui/components/dropdown.jsx","webpack://BetterDiscord/./src/ui/icons/search.jsx","webpack://BetterDiscord/./src/ui/components/search.jsx","webpack://BetterDiscord/./src/ui/addonlist.jsx","webpack://BetterDiscord/./src/modules/CustomRichPresence.js","webpack://BetterDiscord/./src/ui/presenceSettings.jsx","webpack://BetterDiscord/./src/ui/AccountInfos.jsx","webpack://BetterDiscord/./src/modules/AntiAdDM.js","webpack://BetterDiscord/./src/modules/blurPrivate.js","webpack://BetterDiscord/./src/modules/disableTyping.js","webpack://BetterDiscord/./src/ui/ApiPreview.jsx","webpack://BetterDiscord/./src/ui/icons/history.jsx","webpack://BetterDiscord/./src/modules/popoutWindow.js","webpack://BetterDiscord/./src/modules/settingsPanel.js","webpack://BetterDiscord/./src/ui/bdLogo.js","webpack://BetterDiscord/./src/svg/Lightcord.jsx","webpack://BetterDiscord/./src/modules/emojiModule.js","webpack://BetterDiscord/./src/modules/core.js","webpack://BetterDiscord/./src/modules/bdApi.js","webpack://BetterDiscord/./src/localStorageFix.js","webpack://BetterDiscord/./src/index.js","webpack://BetterDiscord/./src/loadingIcon.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","minimumDiscordVersion","currentDiscordVersion","window","DiscordNative","remoteApp","getVersion","minSupportedVersion","bbdVersion","bbdChangelog","description","changes","title","type","items","settings","id","info","implemented","hidden","cat","category","experimental","process","platform","defaultCookie","settingsCookie","settingsRPC","defaultRPC","Date","now","lightcordSettings","defaultLightcordSettings","bdpluginErrors","bdthemeErrors","bdConfig","BetterDiscordConfig","bdthemes","bdplugins","pluginCookie","themeCookie","req","webpackJsonp","push","__extra_id__","find","filter","default","mod","findAll","findByProps","propNames","every","prop","undefined","findByPrototypes","protoNames","protoProp","findByDisplayName","displayName","Lightcord","BetterDiscord","WebpackModules","fs","path","releaseChannel","globals","app","getReleaseChannel","dataPath","env","APPDATA","join","HOME","XDG_CONFIG_HOME","constructor","this","data","stable","canary","ptb","pluginData","DataStore","initialize","existsSync","BDFile","writeFileSync","JSON","stringify","parse","readFileSync","settingsFile","__non_webpack_require__","unlinkSync","assign","setBDData","err","console","error","Utils","alert","_injectionPath","_configFile","resolve","injectionPath","_BDFile","_settingsFile","getPluginFile","pluginName","ContentManager","pluginsFolder","getSettingGroup","setSettingGroup","getBDData","getPluginData","setPluginData","deletePluginData","EventEmitter","super","BDEvents","dispatch","eventName","args","emit","off","eventAction","removeListener","PluginModule","loadPlugins","async","loadPluginData","splice","plugins","keys","length","plugin","getName","load","file","filename","message","stack","start","showToast","Promise","setTimeout","savePluginData","remote","getCurrentWebContents","on","channelSwitch","startPlugin","reload","stopPlugin","stop","enablePlugin","enable","disablePlugin","disable","togglePlugin","toggle","loadPlugin","loadContent","showContentErrors","values","log","unloadPlugin","filenameOrName","bdplugin","unloadContent","delete","fullPath","reloadPlugin","enabled","reloadContent","edit","shell","openItem","updatePluginList","results","loadNewContent","added","removed","saved","newMessage","onMessage","onSwitch","rawObserver","e","observer","TooltipClasses","TooltipLayers","getTooltipClasses","getTooltipLayers","getClass","sideOrColor","upperCase","toUpperCase","slice","tooltipClass","classExists","toPx","EmulatedTooltip","node","text","options","style","side","preventFlip","disabled","attachEvents","jQuery","label","toLowerCase","element","document","createElement","className","layer","disabledPointerEvents","tooltipElement","tooltip","labelElement","tooltipContent","pointerElement","tooltipPointer","append","addEventListener","show","MutationObserver","mutations","forEach","mutation","nodes","Array","from","removedNodes","directMatch","indexOf","parentMatch","some","parent","contains","hide","disconnect","observe","body","subtree","childList","querySelector","removeDa","BDModules","popouts","layerContainer","getBoundingClientRect","top","offsetHeight","screenHeight","left","offsetWidth","screenWidth","remove","_className","textContent","container","canShowAbove","showAbove","showBelow","canShowBelow","canShowLeft","showLeft","showRight","canShowRight","classList","add","setProperty","centerHorizontally","centerVertically","nodecenter","React","Component","props","BDV2","reactDom","findDOMNode","Tooltip","componentWillUnmount","render","children","cache","cache2","PluginCertifier","patch","attachment","nextTick","getElementById","url","startsWith","endsWith","nodeFetch","headers","electron","sendSync","then","res","status","Error","hash","crypto","Buffer","alloc","chunk","concat","update","hashResult","digest","hashToUrl","checkHash","result","div","childNodes","flowerStarModule","flowerStarContainer","childModule","childContainer","suspect","parentNode","borderColor","nextNode","child","tagName","preventDefault","stopImmediatePropagation","showConfirmationModal","harm","confirmText","cancelText","danger","onCancel","onConfirm","href","includes","react","tooltipWrap","width","height","svg","viewBox","x","y","mask","fill","pointerEvents","official","span","display","float","flowerStar","stroke","color","onClick","link","getKeyedArray","content","buffer","installPath","contentManager","_pluginsFolder","_themesFolder","catch","cursor","fill-rule","class","renderToElements","elem","processAttachment","isTrusted","tests","threats","checkViruses","resultCallback","removeCallback","isHarmful","no_comments","toString","replace","trim","test","scrpt","exec","split","pop","json","processFile","__path","isFromLoader","createReadStream","addonCache","timestamp","saveAddonCache","basename","obj","arr","k","save","generateKey","encryptSettingsCache","cipher","encrypted","final","Api","ensureExported","ObjectStorage","localStorageModule","localStorage","impl","set","btoa","setInterval","val","safeJSONParse","atob","isArray","Module","globalPaths","MetaError","originalJSRequire","_extensions","originalCSSRequire","splitRegex","escapedAtRegex","hasPatched","timeCache","watchers","patchExtensions","getContentRequire","realpathSync","loadAddonCertifierCache","dataStore","decipher","decrypted","decryptSettingsCache","watchContent","contentType","isPlugin","baseFolder","themesFolder","fileEnding","watch","persistent","eventType","statSync","code","pluginModule","themeModule","unloadTheme","isFile","stats","mtime","getTime","loadTheme","reloadTheme","unwatchContent","close","extractMeta","firstLine","parseOldMeta","parseNewMeta","meta","rawMeta","substring","lastIndexOf","parsed","testJSON","format","block","out","field","accum","line","charAt","substr","self","originalRequire","possiblePath","Reflect","apply","arguments","stripBOM","atimeMs","modified","mtimeMs","size","css","_compile","isEmpty","warn","makePlaceholderPlugin","getAuthor","getDescription","source","website","escapeID","isLoaded","cantUnload","basedir","files","readdirSync","contentList","map","f","errors","loadAllContent","loadThemes","DOMTools","head","script","src","onload","timing","_","duration","performance","requestAnimationFrame","animate","time","timeFraction","progress","selector","parseHTML","NodeList","nodeType","query","baseElement","querySelectorAll","html","fragment","template","innerHTML","cloneNode","textNode","createTextNode","spanElement","nodeValue","classes","flat","classname","indicator","oldName","newName","thisNode","thatNode","prepend","targetNode","insertBefore","nextSibling","newNode","nextElementSibling","next","matches","previous","previousElementSibling","num","indexInParent","parentElement","parents","closest","attribute","global","getComputedStyle","parseInt","clientWidth","clientHeight","_listeners","event","delegate","callback","namespace","hasDelegate","eventFunc","target","cancel","removeEventListener","listeners","newCancel","findIndex","matchFilter","listener","defaultFilter","list","__offAll","onMount","wrappedCallback","unsubscribe","subscribe","addedNodes","onMountChange","onUnmount","elements","domWrapper","appendChild","Element","DOM","ThemeModule","loadThemeData","themes","theme","addStyle","unescape","saveThemeData","enableTheme","bdEvents","version","disableTheme","removeStyle","toggleTheme","bdtheme","updateThemeList","editorDetached","protect","theModule","isDefault","clear","sort","getToken","getEmail","showToken","proxy","Proxy","getOwnPropertyDescriptor","func","__proto__","findByUniqueProperties","internal","getInternalInstance","V2","joinBD1","InviteActions","acceptInviteAndTransitionToInviteChannel","leaveBD1","GuildActions","leaveGuild","joinBD2","leaveBD2","joinLC","leaveLC","anchor","anchorUnderlineOnHover","guildsWrapper","wrapper","unreadMentionsBar","guilds","guildsError","selected","pill","blobContainer","defaultProps","search","submit","activateRagingDemon","dismiss","openDM","userId","selfId","UserStore","getCurrentUser","privateChannelId","ChannelStore","getDMFromUserId","PrivateChannelActions","selectPrivateChannel","ChannelActions","openPrivateChannel","parseSettings","reduce","setting","Math","max","documentElement","innerWidth","innerHeight","_windowConfigFile","transparent","frame","charCodeAt","channelTextArea","titleWrapper","textarea","focus","selectionStart","selectionEnd","execCommand","moduleName","groupCollapsed","groupEnd","string","replacement","RegExp","method","params","what","methodName","before","after","instead","once","silent","force","origMethod","canceled","thisObject","methodArguments","cancelPatch","originalMethod","callOriginalMethod","returnValue","tempRet","suppressErrors","__monkeyPatched","__originalMethod","sidebar","hasNotice","form","bottom","toastWrapper","icon","timeout","toastElem","innerText","modalModule","modal","inner","hideOnFullscreen","headerModule","header","responsiveWidthMobile","footer2Module","focusLock","backdrop","backdropWithLayer","footer","addClass","closingListeners","onClose","pluginErrors","themeErrors","generateTab","el","tabs","removeClass","scroller","index","click","ModalStack","ChangelogClasses","TextElement","FlexChild","Titles","Changelog","selectable","MarkdownParser","image","subtitle","ce","changelogItems","entry","margin","marginTop","renderHeader","Child","grow","shrink","tag","Tags","H4","Sizes","SMALL","Colors","STANDARD","date","renderFooter","Anchor","AnchorClasses","joinSupportServer","stopPropagation","supportLink","defaultFooter","onScroll","ModalActions","Markdown","ConfirmationModal","emptyFunction","openModal","red","modalKey","V2_SettingsPanel_Sidebar","panels","register","panel","component","getComponent","Settings","devMode","section","LCitems","LCDevItems","injectColoredText","cancelColoredText","MessageComponent","monkeyPatch","childrenMessageContent","messageContent","originalType","roleColor","colorString","removeColoredText","classNameMarkup","markup","inject24Hour","cancel24Hour","twelveHour","convert","matched","match","padStart","cancelCozy","TimeFormatter","cancelCompact","remove24Hour","V2C_SettingsTitle","reactComponent","V2C_TabBarSeparator","V2C_ServerCard","server","iconUrl","fallback","state","imageError","joined","guildList","identifier","cardModule","card","cardPrimary","flexModule","flexChild","_horizontalReverse","wrapModule","noWrap","streamerModeEnabled","marginBottom8","pinned","ref","onError","handleError","draggable","horizontal","members","flex","categories","minHeight","backgroundColor","setState","useState","SettingsView","V2C_PublicServers","setInitialState","changeCategory","searchKeyDown","checkConnection","connect","GuildStore","AvatarDefaults","SortedGuildStore","hooks","componentDidMount","selectedCategory","loading","servers","connection","user","categorySlugs","fetch","searchEndPoint","end","term","categoryButtons","total","serverCard","acceptInvite","invite_code","joinEndPoint","credentials","windowOptions","round","screenX","screenY","win","joinWindow","webContents","loadURL","setMenuBarVisibility","resizable","maximizable","minimizable","alwaysOnTop","center","webPreferences","nodeIntegration","getFlattenedGuildIds","defaultList","DEFAULT_AVATARS","ServerCard","online","nativejoin","floor","random","response","onSetSection","sections","searchInput","getThis","setValue","marginLeft","serchinput","refs","searchinput","onKeyDown","onChange","placeholder","maxLength","which","notConnected","columnModule","contentColumnDefault","contentColumn","SettingsTitle","bdServer","marginBottom","lineHeight","forceUpdate","useEffect","TabBarSeparator","fontSize","username","discriminator","padding","BugHunterBadge","Circus","xmlns","cx","cy","uuidv4","awaitingBadgesPromises","badgesToFetch","_cache","badges","DistantServer","newPromise","badge","Constants","defaultUsers","fetchedBadges","users","handleRequest","Routes","responseBody","promise","user_id","LightcordError","route","SERVER_URL","Authorization","reject","scopes","layers","Layers","inject","isInjected","classNameLayers","v2","ReactInstance","FindReact","createLayer","getLayer","lay","LayerModules","Layer","animation","Value","keydown","ev","componentWillEnter","toValue","componentWillLeave","interpolation","interpolate","inputRange","outputRange","opacity","transform","scale","Div","__SECRET_EMOTION__","position","right","overflow","WebkitBoxOrient","WebkitBoxDirection","msFlexDirection","flexDirection","zIndex","paddingTop","_appendButton","V2_PublicServers","rootId","btn","guildClasses","listItem","circleButtonMask","classNametutorialContainer","downloadProgress","tutorialContainer","button","addButton","guildPatch","GuildList","webpackModules","GuildListOld","removeButton","randClass","ClassNormalizer","unpatchClassModules","moduleFilter","revertElement","patchClassModules","normalizeElement","patchDOMMethods","patchClassModule","unpatchClassModule","shouldIgnore","isNaN","baseClassName","componentName","classNames","normalClass","camelCase","newString","clen","newClass","toRemove","DOMTokenList","token","tokens","debugListener","copySelectorListener","startDebugListener","startCopySelector","stopDebugListener","stopCopySelector","getSelector","classLayer","classItems","menu","cm","cmWrap","styleFlexible","accommodateScrollbar","clientY","clientX","setAttribute","scrollerClasses","scrollerWrap","scrollerThemed","themeGhostHairline","removeCM","keyCode","cmg","cmi","item","labelContainer","colorDefault","NativeModule","copy","queryAll","focused","separator","scrollHeight","names","unshift","ownerDocument","entries","Switch","checked","switch","Components","inputs","classnames","getClassName","SwitchItem","beta","userSettingsVoice","formModule","switchItem","betaClassNames","marginModule","marginTop60","MarginTop","V2C_SettingsGroup","renderOldSettings","buttonComponent","componentDidCatch","errInfo","FormSection","FormText","hideBorder","DEFAULT","Themes","note","setImmediate","V2C_SectionedSettingsPanel","SettingsGroup","V2C_Checkbox","checkboxElement","checkbox","checkboxInner","V2C_CssEditorDetached","updateCss","saveCss","editor","ace","setTheme","session","setMode","setShowPrintMargin","setFontSize","destroy","updateLineCount","lineCount","lines","lineNumbers","indentUnit","scrollbarStyle","_ccss","ccss","_root","injectRoot","detachedRoot","insertAfter","Checkbox","borderRadius","borderRight","borderLeft","saveSettings","attach","unmountComponentAtNode","root","getValue","V2C_CssEditor","detachedEditor","detach","detached","componentDidUpdate","prevProps","prevState","codeMirror","arg","droot","injectDetachedRoot","BDErrorBoundary","hasError","originalRender","configurable","V2C_ContentColumn","V2C_ReloadIcon","V2C_XSvg","fillRule","Edit","Delete","anchorClasses","V2C_PluginCard","showSettings","hasSettings","addon","getSettingsPanel","settingsPanel","reloads","trusted","closeSettings","panelRef","current","settingsOpen","settingspanel","cardNode","cTop","scrollTop","cBottom","eTop","offsetTop","eBottom","isHidden","thisNodeOffset","offset","containerOffset","original","endPoint","getString","XSvg","dangerouslySetInnerHTML","__html","buildTitle","author","nameIndex","versionIndex","authorIndex","LayerStack","popLayer","makeLink","makeButton","action","unmounted","links","invite","tester","donate","patreon","settingsComponent","authorId","authorLink","isScanning","DownArrow","Select","open","dropdown","createRef","showMenu","hideMenu","opt","isOpen","Search","onFocus","onBlur","CardList","ascending","isPlugins","cookie","manager","reverse","onAddonChanges","openFolder","openPath","confirmDelete","BdApi","toLocaleLowerCase","getProps","getAddons","sortedAddons","a","b","cap","first","second","localeCompare","rendered","renderCheckUpdates","ZeresPluginLibrary","PluginUpdates","checkAll","tooltipIsShowing","onMouseLeave","Button","look","hoverColor","onRightClick","checkUpdateButton","refreshIcon","addonCards","sortOptions","directions","dispatcher","Dispatcher","ActionTypes","pid","game","application_id","details","timestamps","assets","large_image","small_image","sendGame","LOCAL_ACTIVITY_UPDATE","socketId","activity","formatedGame","applicationId","getAssets","V2C_PresenceSettingsModules","V2C_PresenceSettings","preview","isfetching","fetchAssets","assetComponents","Set","updateWhenFetched","comp","defaultSetting","RPCProps","CustomRichPresence","asset","updatePreview","marginBottom20","optionsComponents","RpcPreview","ohgodohfuck","openExternal","_optionsComponents","InputText","InputNumber","InputChoice","choices","inputTextModules","InputNumberModules","InputChoiceModules","PureComponent","removeKeybind","defaultMarginh5","colorStandard","size32","_horizontal","inputMini","size16","size20","input","TextInput","lastEdited","isTiming","rowModule","marginModule2","colorModule","sizeModule","inputModule","sizeModule2","row","size14","h5","Divider","colorTransparent","clipboard","Dropdown","emptyClasses","popoutModules","UserPopoutComponent","PopoutProps","profileModules","UserProfileComponent","ProfileProps","connectedProfileStore","DividerModules","divider","dividerDefault","active","changeTab","tab","setActive","Tab","rpc","isActive","Profile","Popout","PresenceErrorCatcher","emptyStateImage","emptyState","emptyStateHeader","emptyStateSubtext","role","tabindex","UserPopout","userModule","render1","guildId","channelId","disableUserProfileLink","_UserPopout","popout","excludeProperties","UserProfile","render2","render3","render4","profile","scrollbarModule1","scrollbarGhostHairline","GuildModule","getGuilds","relationShipModule","getRelationships","sessionModule","getSessions","V2C_AccountInfos","CodeContent","getProfileValue","language","getStatistics","getSessionValue","sessionsRaw","sessions","sessionId","clientInfo","os","client","activities","repeat","createdAt","avatarURL","avatar","getAvatarURL","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","flags","hasPremiumSubscription","email","mfaEnabled","mobile","phone","verified","nsfwAllowed","relations","friends","isFriend","blocked","isBlocked","hightlightJS","highlight","messageModule1","messageModule2","listLanguages","DiscordModules","ChannelModule","getChannel","hasChannel","addRelationship","DMModule","closePrivateChannel","antiDM","bot","guild_id","channel","channel_id","EmbedsContains","location","embeds","embed","fields","selectors","standardSidebarView","defaultClassName","selects","userSettingsAccount","paymentSourceRow","subText","descriptionWrapper","viewBody","userSettingsSecurity","getSelectors","startTyping","typingModule","stopTyping","DisableTyping","ApiPreview","states","allComponents","general","AlertBox","compName","compPath","ComponentPreview","AllPreviews","getStrForProp","lang","String","$$typeof","for","generateCode","openTag","propStrings","childrenProp","str","propObject","isLast","childrenData","help","success","SettingSubTitle","searchable","Tabs","ErrorCatcher","CodeBlock","History","windows","Map","init","popoutModule","getWindow","applyThemes","removeThemes","themeName","existing","removeAttribute","BDSidebarHeader","sidebarComponents","Separator","Header","Item","changelogButton","showChangelogModal","isClearingCache","updateSettings","registerComponents","makeComponent","lightcordComponent","PresenceComponent","AccountInfosComponent","ApiPreviewComponent","coreComponent","customCssComponent","renderAddonPane","getSettings","publicServersModule","voiceMode","tfHour","coloredText","setWindowPreference","dMode","callRingingBeat","settingsStore","showCurrentGame","updateRemoteSettings","ipcRenderer","AntiAdDM","blurPrivate","disableTyping","appSettings","relaunch","popoutWindow","core","methods","NotificationsUseShim","loadSettings","renderSidebar","SectionedSettingsPanel","coreSettings","isChecked","ipc","send","actual","clearable","invoke","argv","clearCache","PresenceSettings","CssEditor","ContentList","prefix","SettingComponent","BDLogo","clipRule","strokeLinecap","strokeLinejoin","LightcordLogo","x1","y1","x2","y2","gradientTransform","gradientUnits","stopColor","EmojiRegex","CustomEmojiModule","CustomEmoji","EmojiModuleApi","getCustomEmojiById","AutocompleteModule","AutoCompletionTemplates","getAutocompleteOptions","EmojiModuleQuery","queryEmojiResults","Messages","EMOJI_MATCHING","guildModule","getGuild","isFetching","emojiSearch","getDisambiguatedEmojiContext","LIGHTCORD_EMOJIS","arg1","arg2","condition","setEmojiUsable","queryResults","renderResults","D","emojis","EMOJI","Emoji","emoji","uniqueName","sentinel","guild","getPlainText","isAnimated","animated","managed","originalName","getRawText","cancelEmojiRender","cancelEmoteRender","getNestedProp","newContent","hasParsed","raw","words","word","emojiId","jumboable","shift","u","onHover","R","Title","classNameLayer","classNameSocialLinks","classNameModal","EmojiFilterModule","isEmojiDisabled","isUsable","usable","surrogates","diversity","Core","setConfig","config","hasStarted","setMethods","ED","WebSocket","patchAttributes","initSettings","checkForGuilds","initializeSettings","getElementsByClassName","initObserver","previousVersion","EmojiModule","patchSocial","patchGuildPills","patchGuildListItems","patchGuildSeparator","patchMessageHeader","patchMemberList","patchAttachment","haveInstalledDefault","logo","attribsPatchs","cancelPatchAttributes","DiscordTag","DiscordTagComp","badgeDiv","TooltipWrap","applyBadges","timesChecked","blob","deferLoaded","readyState","injectExternals","getPredicateSections","settingModule","poped","mlen","animating","socialLinks","getAttribute","socialPatch","TabBar","socialModule1","newOne","returnVal","classNameColorMuted","sizes","classNameVersionHash","colorMuted","versionHash","branch","buildInfo","additional","size12","commit","originalVersions","chat","blockDiv","distant","getBadges","scope","div2","guildListItemsPatch","GuildClasses","getGuildClasses","listItemClass","blobClass","GuildComponent","return","guildData","unread","audio","video","animatable","guildPillPatch","guildPill","hovered","guildSeparatorPatch","Guilds","guildComponents","GuildSeparator","AttachmentPatch","Attachment","messageHeaderPatch","MessageHeader","memberListPatch","MemberListItem","renderDecorators","updateInjector","ReactDom","ReactComponent","WindowConfigFile","getAllWindowPreferences","getWindowPreference","addScript","removeScript","mainCore","protos","getData","loadData","saveData","setData","deleteData","onRemoved","isPluginEnabled","isThemeEnabled","isSettingEnabled","enableSetting","disableSetting","toggleSetting","makeAddonAPI","folder","isEnabled","getAll","Plugins","contentWindowGetter","HTMLIFrameElement","contentWindow","writable","Function","oOpen","XMLHttpRequest","localStorageFix","v2Loader","loadingIcon","deprecateGlobal","globalKeys","Globals","CoreWrapper"],"mappings":"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","file":"index.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = require(\"electron\");","module.exports = require(\"path\");","module.exports = require(\"fs\");","module.exports = require(\"crypto\");","module.exports = require(\"node-fetch\");","module.exports = require(\"events\");","module.exports = require(\"module\");","export const minimumDiscordVersion = \"0.0.308\";\nexport const currentDiscordVersion = (window.DiscordNative && window.DiscordNative.remoteApp && window.DiscordNative.remoteApp.getVersion && window.DiscordNative.remoteApp.getVersion()) || \"0.0.308\";\nexport const minSupportedVersion = \"0.3.0\";\nexport const bbdVersion = \"0.3.5\";\nexport const bbdChangelog = {\n    description: \"Big things are coming.\",\n    changes: [\n        {\n            title: \"Bug Fixes\",\n            type: \"fixed\",\n            items: [\n                \"Some fixes related to showing modals in the `BdApi`.\",\n                \"Fixed the open folder buttons for plugins and themes\"\n            ]\n        }\n    ]\n};\n\nexport const settings = {\n    \"Custom css live update\":     {id: \"bda-css-0\", info: \"\",                                                  implemented: true,  hidden: true,  cat: \"core\"},\n    \"Custom css auto udpate\":     {id: \"bda-css-1\", info: \"\",                                                  implemented: true,  hidden: true,  cat: \"core\"},\n    \"BetterDiscord Blue\":         {id: \"bda-gs-b\",  info: \"Replace Discord blue with BD Blue\",                 implemented: false,  hidden: false, cat: \"core\"},\n\n    /* Core */\n    /* ====== */\n    \"Public Servers\":             {id: \"bda-gs-1\",  info: \"Display public servers button\",                     implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Minimal Mode\":               {id: \"bda-gs-2\",  info: \"Hide elements and reduce the size of elements.\",    implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Voice Mode\":                 {id: \"bda-gs-4\",  info: \"Only show voice chat\",                              implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Hide Channels\":              {id: \"bda-gs-3\",  info: \"Hide channels in minimal mode\",                     implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Dark Mode\":                  {id: \"bda-gs-5\",  info: \"Make certain elements dark by default(wip)\",        implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Voice Disconnect\":           {id: \"bda-dc-0\",  info: \"Disconnect from voice server when closing Discord\", implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"24 Hour Timestamps\":         {id: \"bda-gs-6\",  info: \"Replace 12hr timestamps with proper ones\",          implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Colored Text\":               {id: \"bda-gs-7\",  info: \"Make text color the same as role color\",            implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Normalize Classes\":          {id: \"fork-ps-4\", info: \"Adds stable classes to elements to help themes. (e.g. adds .da-channels to .channels-Ie2l6A)\", implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n\n    /* Content */\n    \"Content Error Modal\":        {id: \"fork-ps-1\", info: \"Shows a modal with plugin/theme errors\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Scan Plugins\":               {id: \"fork-ps-6\", info: \"Scan plugins for any threat that can be hidden inside.\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Show Toasts\":                {id: \"fork-ps-2\", info: \"Shows a small notification for important information\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Scroll To Settings\":         {id: \"fork-ps-3\", info: \"Auto-scrolls to a plugin's settings when the button is clicked (only if out of view)\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Automatic Loading\":          {id: \"fork-ps-5\", info: \"Automatically loads, reloads, and unloads plugins and themes\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Enable Edit Button\":         {id: \"fork-ps-7\", info: \"Enable an Edit Button on the plugin and theme panel.\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Themes in Popout Window\":    {id: \"lightcord-9\", info: \"Enable themes in Popout Window. (For example, when detaching screenshare.)\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\", experimental: true},\n\n    /* Developer */\n    \"Developer Mode\":         \t  {id: \"bda-gs-8\", info: \"Developer Mode Toggle\", implemented: true, hidden: false, cat: \"core\", category: \"developer settings\"},\n    \"Copy Selector\":\t\t\t  {id: \"fork-dm-1\", info: \"Adds a \\\"Copy Selector\\\" option to context menus when developer mode is active\", implemented: true, hidden: false, cat: \"core\", category: \"developer settings\"},\n\n    /** Lightcord */\n    \"Disable BetterDiscord\":      {id: \"bd-disable\",  info: \"Disable Betterdiscord (plugins, themes, etc) (Not implemented).\", implemented: false, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Blur Personal Information\":  {id: \"lightcord-6\", info: \"Blur sensitive informations like email, payment infos and more.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Calling Ring Beat\":          {id: \"lightcord-2\", info: \"Enable Discord's special calling beat.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Developer Options\":          {id: \"lightcord-1\", info: \"Enable Discord's & Lightcord's Internal Developer Options. This allow the \\\"Experiments\\\" tab, the \\\"Developer Options\\\" tab and the \\\"Lightcord Api\\\" section.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Ad Block\":                   {id: \"lightcord-4\", info: \"Block any BOT that dms you with an invite link. Even in an embed.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Enable Lightcord Servers\":   {id: \"lightcord-5\", info: \"Enable Lightcord's servers. Disabling this will disable custom badges.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Disable typing\":             {id: \"lightcord-7\", info: \"Don't let other see you're typing.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Lightcord Tabs\":             {id: \"lightcord-8\", info: \"Allows you to launch multiple instances of Lightcord in the same window.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\", experimental: true},\n    \"Use Notification Shim\":      {id: \"lightcord-10\", info: \"Basically don't use Windows's Notifications.\", implemented: true, hidden: process.platform !== \"win32\", cat: \"lightcord\", category: \"Lightcord\", experimental: false},\n\n    /** Lightcord Window */\n    \"Always-on-Top\":              {id: \"lightcord-3\", info: \"Enable the window's Always-on-Top mode, where Lightcord stays on top of other applications.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Window\"},\n    \"No Window Bounds\":           {id: \"no_window_bound\", info: \"Disable Window Bounds. Can be useful if you use a window manager.\", implemented: true, hidden: process.platform !== \"linux\", cat: \"lightcord\", category: \"Window\"},\n    \"Enable Glasstron\":           {id: \"enable_glasstron\", info: \"Enable Glasstron. If you're not using transparent themes, this can reduce lag.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Window\"},\n    \n    /** RichPresence */\n    \"Enable\":                     {id: \"lightcord-presence-1\", info: \"Enable RichPresence below.\", implemented: true, hidden: false, cat: \"status\"}\n};\n\nexport const defaultCookie = {\n    \"bda-gs-1\": true,\n    \"bda-gs-2\": false,\n    \"bda-gs-3\": false,\n    \"bda-gs-4\": false,\n    \"bda-gs-5\": true,\n    \"bda-gs-6\": false,\n    \"bda-gs-7\": false,\n    \"bda-gs-8\": false,\n    \"bda-es-0\": true,\n    \"bda-es-1\": true,\n    \"bda-es-2\": true,\n    \"bda-es-4\": false,\n    \"bda-es-6\": true,\n    \"bda-es-7\": true,\n    \"bda-gs-b\": false,\n    \"bda-es-8\": true,\n    \"bda-dc-0\": false,\n    \"bda-css-0\": false,\n    \"bda-css-1\": false,\n    \"bda-es-9\": true,\n    \"fork-dm-1\": false,\n    \"fork-ps-1\": true,\n    \"fork-ps-2\": true,\n    \"fork-ps-3\": true,\n    \"fork-ps-4\": true,\n    \"fork-ps-5\": true,\n    \"fork-ps-6\": true,\n    \"fork-ps-7\": false,\n    \"fork-es-2\": false,\n    \"fork-es-3\": true,\n    \"fork-wp-1\": false,\n    \"fork-wp-2\": false,\n    \"fork-beta\": true,\n    \"lightcord-1\": false,\n    \"lightcord-2\": true,\n    \"lightcord-presence-1\": false,\n    \"lightcord-3\": false,\n    \"lightcord-4\": false,\n    \"lightcord-5\": true,\n    \"lightcord-6\": true,\n    \"lightcord-7\": false,\n    \"lightcord-8\": false,\n    \"lightcord-9\": false,\n    \"lightcord-10\": false,\n    \"no_window_bound\": false,\n};\n\n\nexport const settingsCookie = {};\n\nexport const settingsRPC = {};\nexport const defaultRPC = {\n    \"name\": \"Lightcord\",\n    \"application_id\": \"711416957718757418\",\n    \"state\": \"Lightcord Client\",\n    \"details\": \"Browsing Discord\",\n    \"timestamps.start\": Date.now(),\n    \"assets.small\": null,\n    \"assets.large\": \"712323821037682791\"\n}\n\nexport const lightcordSettings = {};\nexport const defaultLightcordSettings = {};\n\nexport const bdpluginErrors = [];\nexport const bdthemeErrors = []; // define for backwards compatibility\n\nexport const bdConfig = Object.create(BetterDiscordConfig);\n\nexport const bdthemes = {};\nexport const bdplugins = {};\n\nexport const pluginCookie = {};\nexport const themeCookie = {};","const req = webpackJsonp.push([[], {__extra_id__: (module, exports, req) => module.exports = req}, [[\"__extra_id__\"]]]);\ndelete req.m.__extra_id__;\ndelete req.c.__extra_id__;\nconst find = (filter) => {\n    for (const i in req.c) {\n        if (req.c.hasOwnProperty(i)) {\n            const m = req.c[i].exports;\n            if (m && m.__esModule && m.default && filter(m.default)) return m.default;\n            if (m && filter(m))\treturn m;\n        }\n    }\n    // console.warn(\"Cannot find loaded module in cache\");\n    return null;\n};\n\nconst findAll = (filter) => {\n    const modules = [];\n    for (const i in req.c) {\n        if (req.c.hasOwnProperty(i)) {\n            const m = req.c[i].exports;\n            if (m && m.__esModule && m.default && filter(m.default)) modules.push(m.default);\n            else if (m && filter(m)) modules.push(m);\n        }\n    }\n    return modules;\n};\n\nconst findByProps = (...propNames) => find(module => propNames.every(prop => module[prop] !== undefined));\nconst findByPrototypes = (...protoNames) => find(module => module.prototype && protoNames.every(protoProp => module.prototype[protoProp] !== undefined));\nconst findByDisplayName = (displayName) => find(module => module.displayName === displayName);\n\nlet mod =  {find, findAll, findByProps, findByPrototypes, findByDisplayName};\nexport default mod\n\nwindow.Lightcord.BetterDiscord.WebpackModules = mod","import Utils from \"./utils\";\nimport ContentManager from \"./contentManager\";\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst releaseChannel = DiscordNative.globals ? DiscordNative.globals.releaseChannel : DiscordNative.app ? DiscordNative.app.getReleaseChannel() : \"stable\";\n\nlet dataPath = \"\";\nif (process.platform === \"win32\") dataPath = process.env.APPDATA;\nelse if (process.platform === \"darwin\") dataPath = path.join(process.env.HOME, \"Library\", \"Preferences\");\nelse dataPath = process.env.XDG_CONFIG_HOME ? process.env.XDG_CONFIG_HOME : path.join(process.env.HOME, \".config\");\ndataPath = path.join(dataPath, \"BetterDiscord\");\n\nexport default new class DataStore {\n    constructor() {\n        this.data = {settings: {stable: {}, canary: {}, ptb: {}}};\n        this.pluginData = {};\n        window.Lightcord.BetterDiscord.DataStore = this\n    }\n\n    initialize() {\n        try {\n            if (!fs.existsSync(this.BDFile)) fs.writeFileSync(this.BDFile, JSON.stringify(this.data, null, 4), \"utf-8\");\n            const data = JSON.parse(fs.readFileSync(this.BDFile, \"utf-8\"))\n            if (data.hasOwnProperty(\"settings\")) this.data = data;\n            if (!fs.existsSync(this.settingsFile)) return;\n            let settings = __non_webpack_require__(this.settingsFile);\n            fs.unlinkSync(this.settingsFile);\n            if (settings.hasOwnProperty(\"settings\")) settings = Object.assign({stable: {}, canary: {}, ptb: {}}, {[releaseChannel]: settings});\n            else settings = Object.assign({stable: {}, canary: {}, ptb: {}}, settings);\n            this.setBDData(\"settings\", settings);\n        }\n        catch (err) {\n            console.error(err);\n            Utils.alert(\"Corrupt Storage\", \"The bd storage has somehow become corrupt. You may either try to salvage the file or delete it then reload.\");\n        }\n    }\n\n    get injectionPath() {\n        return this._injectionPath = null;\n    }\n\n    get configFile() {return this._configFile || (this._configFile = path.resolve(this.injectionPath, \"betterdiscord\", \"config.json\"));}\n    get BDFile() {return this._BDFile || (this._BDFile = path.resolve(dataPath, \"bdstorage.json\"));}\n    get settingsFile() {return this._settingsFile || (this._settingsFile = path.resolve(dataPath, \"bdsettings.json\"));}\n    getPluginFile(pluginName) {return path.resolve(ContentManager.pluginsFolder, pluginName + \".config.json\");}\n\n    getSettingGroup(key) {\n        return this.data.settings[releaseChannel][key] || null;\n    }\n\n    setSettingGroup(key, data) {\n        this.data.settings[releaseChannel][key] = data;\n        fs.writeFileSync(this.BDFile, JSON.stringify(this.data, null, 4), \"utf-8\");\n    }\n\n    getBDData(key) {\n        return this.data[key] || \"\";\n    }\n\n    setBDData(key, value) {\n        this.data[key] = value;\n        fs.writeFileSync(this.BDFile, JSON.stringify(this.data, null, 4), \"utf-8\");\n    }\n\n    getPluginData(pluginName, key) {\n        if (this.pluginData[pluginName] !== undefined) return this.pluginData[pluginName][key];\n        if (!fs.existsSync(this.getPluginFile(pluginName))) return undefined;\n        this.pluginData[pluginName] = JSON.parse(fs.readFileSync(this.getPluginFile(pluginName)));\n        return this.pluginData[pluginName][key];\n    }\n\n    setPluginData(pluginName, key, value) {\n        if (value === undefined) return;\n        if (this.pluginData[pluginName] === undefined) this.pluginData[pluginName] = {};\n        this.pluginData[pluginName][key] = value;\n        fs.writeFileSync(this.getPluginFile(pluginName), JSON.stringify(this.pluginData[pluginName], null, 4), \"utf-8\");\n    }\n\n    deletePluginData(pluginName, key) {\n        if (this.pluginData[pluginName] === undefined) this.pluginData[pluginName] = {};\n        delete this.pluginData[pluginName][key];\n        fs.writeFileSync(this.getPluginFile(pluginName), JSON.stringify(this.pluginData[pluginName], null, 4), \"utf-8\");\n    }\n};","/* BDEvents */\nconst EventEmitter = require(\"events\");\nexport default new class BDEvents extends EventEmitter {\n    constructor(){\n        super()\n        window.Lightcord.BetterDiscord.BDEvents = this\n    }\n    dispatch(eventName, ...args) {this.emit(eventName, ...args);}\n    off(eventName, eventAction) {this.removeListener(eventName, eventAction);}\n};","import {bdpluginErrors, pluginCookie, settingsCookie, bdplugins} from \"../0globals\";\nimport ContentManager from \"./contentManager\";\nimport DataStore from \"./dataStore\";\nimport BDEvents from \"./bdEvents\";\nimport Utils from \"./utils\";\n\nclass PluginModule {\n    constructor(){\n        window.Lightcord.BetterDiscord.PluginModule = this\n    }\n    get folder() {return ContentManager.pluginsFolder;}\n}\n\nPluginModule.prototype.loadPlugins = async function () {\n    this.loadPluginData();\n    bdpluginErrors.splice(0, 0, ...(await ContentManager.loadPlugins()));\n    const plugins = Object.keys(bdplugins);\n    for (let i = 0; i < plugins.length; i++) {\n        let plugin, name;\n\n        try {\n            plugin = bdplugins[plugins[i]].plugin;\n            name = plugin.getName();\n            if (plugin.load && typeof(plugin.load) == \"function\") plugin.load();\n        } catch (err) {\n            pluginCookie[name] = false;\n            Utils.err(\"Plugins\", name + \" could not be loaded.\", err);\n            bdpluginErrors.push({name: name, file: bdplugins[plugins[i]].filename, message: \"load() could not be fired.\", error: {message: err.message, stack: err.stack}});\n            continue;\n        }\n\n        if (!pluginCookie[name]) pluginCookie[name] = false;\n\n        if (pluginCookie[name]) {\n            try {\n                plugin.start();\n                if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin.getName()} v${plugin.getVersion()} has started.`);\n            } catch (err) {\n                pluginCookie[name] = false;\n                Utils.err(\"Plugins\", name + \" could not be started.\", err);\n                bdpluginErrors.push({name: name, file: bdplugins[plugins[i]].filename, message: \"start() could not be fired.\", error: {message: err.message, stack: err.stack}});\n            }\n        }\n\n        await new Promise((resolve) => setTimeout(resolve, 10))\n    }\n    this.savePluginData();\n\n    require(\"electron\").remote.getCurrentWebContents().on(\"did-navigate-in-page\", this.channelSwitch.bind(this));\n    // if (settingsCookie[\"fork-ps-5\"]) ContentManager.watchContent(\"plugin\");\n};\n\nPluginModule.prototype.startPlugin = function(plugin, reload = false) {\n    try {\n        bdplugins[plugin].plugin.start();\n        if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${bdplugins[plugin].plugin.getName()} v${bdplugins[plugin].plugin.getVersion()} has started.`);\n    }\n    catch (err) {\n        if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${bdplugins[plugin].plugin.getName()} v${bdplugins[plugin].plugin.getVersion()} could not be started.`, {type: \"error\"});\n        pluginCookie[plugin] = false;\n        this.savePluginData();\n        Utils.err(\"Plugins\", plugin + \" could not be started.\", err);\n    }\n};\n\nPluginModule.prototype.stopPlugin = function(plugin, reload = false) {\n    try {\n        bdplugins[plugin].plugin.stop();\n        if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${bdplugins[plugin].plugin.getName()} v${bdplugins[plugin].plugin.getVersion()} has stopped.`);\n    }\n    catch (err) {\n        if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${bdplugins[plugin].plugin.getName()} v${bdplugins[plugin].plugin.getVersion()} could not be stopped.`, {type: \"error\"});\n        Utils.err(\"Plugins\", bdplugins[plugin].plugin.getName() + \" could not be stopped.\", err);\n    }\n};\n\nPluginModule.prototype.enablePlugin = function (plugin, reload = false) {\n    if (pluginCookie[plugin]) return;\n    pluginCookie[plugin] = true;\n    this.savePluginData();\n    this.startPlugin(plugin, reload);\n};\n\nPluginModule.prototype.enable = function (plugin, reload = false) {\n    return this.enablePlugin(plugin, reload);\n};\n\nPluginModule.prototype.disablePlugin = function (plugin, reload = false) {\n    if (!pluginCookie[plugin]) return;\n    pluginCookie[plugin] = false;\n    this.savePluginData();\n    this.stopPlugin(plugin, reload);\n};\n\nPluginModule.prototype.disable = function (plugin, reload = false) {\n    return this.disablePlugin(plugin, reload);\n};\n\nPluginModule.prototype.togglePlugin = function (plugin) {\n    if (pluginCookie[plugin]) this.disablePlugin(plugin);\n    else this.enablePlugin(plugin);\n};\n\nPluginModule.prototype.toggle = function (plugin, reload = false) {\n    return this.togglePlugin(plugin, reload);\n};\n\nPluginModule.prototype.loadPlugin = async function(filename) {\n    const error = await ContentManager.loadContent(filename, \"plugin\");\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({plugins: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${filename} could not be loaded.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${filename} could not be loaded.`, error);\n    }\n    const plugin = Object.values(bdplugins).find(p => (console.log(p.filename, filename)) || p.filename == filename).plugin;\n    try { if (plugin.load && typeof(plugin.load) == \"function\") plugin.load();}\n    catch (err) {if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({plugins: [err]});}\n    Utils.log(\"ContentManager\", `${plugin.getName()} v${plugin.getVersion()} was loaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin.getName()} v${plugin.getVersion()} was loaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"plugin-loaded\", plugin.getName());\n};\n\nPluginModule.prototype.unloadPlugin = function(filenameOrName) {\n    const bdplugin = Object.values(bdplugins).find(p => p.filename == filenameOrName) || bdplugins[filenameOrName];\n    if (!bdplugin) return;\n    const plugin = bdplugin.plugin.getName();\n    if (pluginCookie[plugin]) this.disablePlugin(plugin, true);\n    const error = ContentManager.unloadContent(bdplugins[plugin].filename, \"plugin\");\n    delete bdplugins[plugin];\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({plugins: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin} could not be unloaded. It may have not been loaded yet.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${plugin} could not be unloaded. It may have not been loaded yet.`, error);\n    }\n    Utils.log(\"ContentManager\", `${plugin} was unloaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin} was unloaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"plugin-unloaded\", plugin);\n};\n\nPluginModule.prototype.delete = function(filenameOrName) {\n    const bdplugin = Object.values(bdplugins).find(p => p.filename == filenameOrName) || bdplugins[filenameOrName];\n    if (!bdplugin) return;\n    this.unloadPlugin(bdplugin.filename);\n    const fullPath = require(\"path\").resolve(ContentManager.pluginsFolder, bdplugin.filename);\n    require(\"fs\").unlinkSync(fullPath);\n};\n\nPluginModule.prototype.reloadPlugin = async function(filenameOrName) {\n    const bdplugin = Object.values(bdplugins).find(p => p.filename == filenameOrName) || bdplugins[filenameOrName];\n    if (!bdplugin) return this.loadPlugin(filenameOrName);\n    const plugin = bdplugin.plugin.getName();\n    const enabled = pluginCookie[plugin];\n    if (enabled) this.stopPlugin(plugin, true);\n    const error = await ContentManager.reloadContent(bdplugins[plugin].filename, \"plugin\");\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({plugins: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin} could not be reloaded.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${plugin} could not be reloaded.`, error);\n    }\n    if (bdplugins[plugin].plugin.load && typeof(bdplugins[plugin].plugin.load) == \"function\") bdplugins[plugin].plugin.load();\n    if (enabled) this.startPlugin(plugin, true);\n    Utils.log(\"ContentManager\", `${plugin} v${bdplugins[plugin].plugin.getVersion()} was reloaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin} v${bdplugins[plugin].plugin.getVersion()} was reloaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"plugin-reloaded\", plugin);\n};\n\nPluginModule.prototype.reload = function(name) {\n    return this.reloadPlugin(name);\n};\n\nPluginModule.prototype.edit = function(filenameOrName) {\n    console.log(\"Edit \" + filenameOrName);\n    const bdplugin = Object.values(bdplugins).find(p => p.filename == filenameOrName) || bdplugins[filenameOrName];\n    if (!bdplugin) return;\n    const fullPath = require(\"path\").resolve(ContentManager.pluginsFolder, bdplugin.filename);\n    console.log(\"Edit \" + fullPath);\n    require(\"electron\").shell.openItem(`${fullPath}`);\n};\n\nPluginModule.prototype.updatePluginList = function() {\n    const results = ContentManager.loadNewContent(\"plugin\");\n    for (const filename of results.added) this.loadPlugin(filename);\n    for (const name of results.removed) this.unloadPlugin(name);\n};\n\nPluginModule.prototype.loadPluginData = function () {\n    const saved = DataStore.getSettingGroup(\"plugins\");\n    if (saved) {\n        Object.assign(pluginCookie, saved);\n    }\n};\n\nPluginModule.prototype.savePluginData = function () {\n    DataStore.setSettingGroup(\"plugins\", pluginCookie);\n};\n\nPluginModule.prototype.newMessage = function () {\n    const plugins = Object.keys(bdplugins);\n    for (let i = 0; i < plugins.length; i++) {\n        const plugin = bdplugins[plugins[i]].plugin;\n        if (!pluginCookie[plugin.getName()]) continue;\n        if (typeof plugin.onMessage === \"function\") {\n            try { plugin.onMessage(); }\n            catch (err) { Utils.err(\"Plugins\", \"Unable to fire onMessage for \" + plugin.getName() + \".\", err); }\n        }\n    }\n};\n\nPluginModule.prototype.channelSwitch = function () {\n    const plugins = Object.keys(bdplugins);\n    for (let i = 0; i < plugins.length; i++) {\n        const plugin = bdplugins[plugins[i]].plugin;\n        if (!pluginCookie[plugin.getName()]) continue;\n        if (typeof plugin.onSwitch === \"function\") {\n            try { plugin.onSwitch(); }\n            catch (err) { Utils.err(\"Plugins\", \"Unable to fire onSwitch for \" + plugin.getName() + \".\", err); }\n        }\n    }\n};\n\nPluginModule.prototype.rawObserver = function(e) {\n    const plugins = Object.keys(bdplugins);\n    for (let i = 0; i < plugins.length; i++) {\n        const plugin = bdplugins[plugins[i]].plugin;\n        if (!pluginCookie[plugin.getName()]) continue;\n        if (typeof plugin.observer === \"function\") {\n            try { plugin.observer(e); }\n            catch (err) { Utils.err(\"Plugins\", \"Unable to fire observer for \" + plugin.getName() + \".\", err); }\n        }\n    }\n};\n\nexport default new PluginModule();","/**\n * Tooltip that automatically show and hide themselves on mouseenter and mouseleave events.\n * Will also remove themselves if the node to watch is removed from DOM through\n * a MutationObserver.\n *\n * Note this is not using Discord's internals but normal DOM manipulation and emulates\n * Discord's own tooltips as closely as possible.\n *\n * @module EmulatedTooltip\n * @version 0.0.1\n */\n\nimport Utils from \"../modules/utils\";\nimport WebpackModules from \"../modules/webpackModules\";\nlet TooltipClasses\nfunction getTooltipClasses(){\n\tif(TooltipClasses)return TooltipClasses\n\treturn TooltipClasses = WebpackModules.findByProps(\"tooltip\", \"tooltipBlack\");\n}\nlet TooltipLayers\nfunction getTooltipLayers(){\n\tif(TooltipLayers)return TooltipLayers\n\treturn TooltipLayers = WebpackModules.findByProps(\"layer\", \"layerContainer\");\n}\n\nconst getClass = function(sideOrColor) {\n    const upperCase = sideOrColor[0].toUpperCase() + sideOrColor.slice(1);\n    const tooltipClass = getTooltipClasses()[`tooltip${upperCase}`];\n    if (tooltipClass) return tooltipClass;\n    return null;\n};\n\nconst classExists = function(sideOrColor) {\n    return getClass(sideOrColor) ? true : false;\n};\n\nconst toPx = function(value) {\n    return `${value}px`;\n};\n\nexport default class EmulatedTooltip {\n\t/**\n\t *\n\t * @constructor\n\t * @param {(HTMLElement|jQuery)} node - DOM node to monitor and show the tooltip on\n\t * @param {string} tip - string to show in the tooltip\n\t * @param {object} options - additional options for the tooltip\n\t * @param {string} [options.style=black] - correlates to the discord styling/colors (black, brand, green, grey, red, yellow)\n\t * @param {string} [options.side=top] - can be any of top, right, bottom, left\n\t * @param {boolean} [options.preventFlip=false] - prevents moving the tooltip to the opposite side if it is too big or goes offscreen\n     * @param {boolean} [options.disabled=false] - whether the tooltip should be disabled from showing on hover\n     * @param {boolean} [options.attachEvents=true] - whether the tooltip should listen to mouseenter and mouseleave events.\n\t */\n\tconstructor(node, text, options = {}) {\n\t\tconst {style = \"black\", side = \"top\", preventFlip = false, disabled = false, attachEvents = true} = options;\n\t\tthis.node = node instanceof jQuery ? node[0] : node;\n        this.label = text;\n        this.style = style.toLowerCase();\n\t\tthis.side = side.toLowerCase();\n        this.preventFlip = preventFlip;\n        this.disabled = disabled;\n\n        if (!classExists(this.side)) return Utils.err(\"EmulatedTooltip\", `Side ${this.side} does not exist.`);\n\t\tif (!classExists(this.style)) return Utils.err(\"EmulatedTooltip\", `Style ${this.style} does not exist.`);\n\t\t\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.className = getTooltipLayers().layer + \" \" + getTooltipLayers().disabledPointerEvents;\n\n\t\tthis.tooltipElement = document.createElement(\"div\");\n\t\tthis.tooltipElement.className = `${getTooltipClasses().tooltip} ${getClass(this.style)}`;\n\n\t\tthis.labelElement = document.createElement(\"div\");\n\t\tthis.labelElement.className = getTooltipClasses().tooltipContent\n\n\t\tconst pointerElement = document.createElement(\"div\");\n\t\tpointerElement.className = getTooltipClasses().tooltipPointer;\n\n\t\tthis.tooltipElement.append(pointerElement);\n\t\tthis.tooltipElement.append(this.labelElement);\n\t\tthis.element.append(this.tooltipElement);\n\n\t\tif(attachEvents){\n\t\t\tthis.node.addEventListener(\"mouseenter\", () => {\n\t\t\t\tif (this.disabled) return;\n\t\t\t\tthis.show();\n\t\n\t\t\t\tconst observer = new MutationObserver((mutations) => {\n\t\t\t\t\tmutations.forEach((mutation) => {\n\t\t\t\t\t\tconst nodes = Array.from(mutation.removedNodes);\n\t\t\t\t\t\tconst directMatch = nodes.indexOf(this.node) > -1;\n\t\t\t\t\t\tconst parentMatch = nodes.some(parent => parent.contains(this.node));\n\t\t\t\t\t\tif (directMatch || parentMatch) {\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\tobserver.observe(document.body, {subtree: true, childList: true});\n\t\t\t});\n\t\n\t\t\tthis.node.addEventListener(\"mouseleave\", () => {\n\t\t\t\tthis.hide();\n\t\t\t});\n\t\t}\n    }\n\n    /** Container where the tooltip will be appended. */\n    get container() { \n\t\treturn document.querySelector(\".\"+Utils.removeDa(BDModules.get(e => e.popouts)[0].popouts)+\" ~ .\"+Utils.removeDa(BDModules.get(e => e.layerContainer)[0].layerContainer)); \n\t}\n    /** Boolean representing if the tooltip will fit on screen above the element */\n    get canShowAbove() { return this.node.getBoundingClientRect().top - this.element.offsetHeight >= 0; }\n    /** Boolean representing if the tooltip will fit on screen below the element */\n    get canShowBelow() { return this.node.getBoundingClientRect().top + this.node.offsetHeight + this.element.offsetHeight <= Utils.screenHeight; }\n    /** Boolean representing if the tooltip will fit on screen to the left of the element */\n    get canShowLeft() { return this.node.getBoundingClientRect().left - this.element.offsetWidth >= 0; }\n    /** Boolean representing if the tooltip will fit on screen to the right of the element */\n\tget canShowRight() { return this.node.getBoundingClientRect().left + this.node.offsetWidth + this.element.offsetWidth <= Utils.screenWidth; }\n\n    /** Hides the tooltip. Automatically called on mouseleave. */\n\thide() {\n        this.element.remove();\n        this.tooltipElement.className = this._className;\n\t}\n\n    /** Shows the tooltip. Automatically called on mouseenter. Will attempt to flip if position was wrong. */\n\tshow() {\n        this.tooltipElement.className = `${getTooltipClasses().tooltip} ${getClass(this.style)}`;\n\t\tthis.labelElement.textContent = this.label;\n\t\tthis.container.append(this.element);\n\n\t\tif (this.side == \"top\") {\n\t\t\tif (this.canShowAbove || (!this.canShowAbove && this.preventFlip)) this.showAbove();\n\t\t\telse this.showBelow();\n\t\t}\n\n\t\tif (this.side == \"bottom\") {\n\t\t\tif (this.canShowBelow || (!this.canShowBelow && this.preventFlip)) this.showBelow();\n\t\t\telse this.showAbove();\n\t\t}\n\n\t\tif (this.side == \"left\") {\n\t\t\tif (this.canShowLeft || (!this.canShowLeft && this.preventFlip)) this.showLeft();\n\t\t\telse this.showRight();\n\t\t}\n\n\t\tif (this.side == \"right\") {\n\t\t\tif (this.canShowRight || (!this.canShowRight && this.preventFlip)) this.showRight();\n\t\t\telse this.showLeft();\n\t\t}\n\t}\n\n    /** Force showing the tooltip above the node. */\n\tshowAbove() {\n\t\tthis.tooltipElement.classList.add(getClass(\"top\"));\n\t\tthis.element.style.setProperty(\"top\", toPx(this.node.getBoundingClientRect().top - this.element.offsetHeight - 10));\n\t\tthis.centerHorizontally();\n\t}\n\n    /** Force showing the tooltip below the node. */\n\tshowBelow() {\n\t\tthis.tooltipElement.classList.add(getClass(\"bottom\"));\n\t\tthis.element.style.setProperty(\"top\", toPx(this.node.getBoundingClientRect().top + this.node.offsetHeight + 10));\n\t\tthis.centerHorizontally();\n\t}\n\n    /** Force showing the tooltip to the left of the node. */\n\tshowLeft() {\n\t\tthis.tooltipElement.classList.add(getClass(\"left\"));\n\t\tthis.element.style.setProperty(\"left\", toPx(this.node.getBoundingClientRect().left - this.element.offsetWidth - 10));\n\t\tthis.centerVertically();\n\t}\n\n    /** Force showing the tooltip to the right of the node. */\n\tshowRight() {\n\t\tthis.tooltipElement.classList.add(getClass(\"right\"));\n\t\tthis.element.style.setProperty(\"left\", toPx(this.node.getBoundingClientRect().left + this.node.offsetWidth + 10));\n\t\tthis.centerVertically();\n\t}\n\n\tcenterHorizontally() {\n        const nodecenter = this.node.getBoundingClientRect().left + (this.node.offsetWidth / 2);\n        this.element.style.setProperty(\"left\", toPx(nodecenter - (this.element.offsetWidth / 2)));\n\t}\n\n\tcenterVertically() {\n\t\tconst nodecenter = this.node.getBoundingClientRect().top + (this.node.offsetHeight / 2);\n\t\tthis.element.style.setProperty(\"top\", toPx(nodecenter - (this.element.offsetHeight / 2)));\n\t}\n}","import BDV2 from \"../modules/v2\";\nimport Tooltip from \"./tooltip\";\n\nexport default class extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    async componentDidMount() {\n        const {style = \"black\", side = \"top\", text = \"\"} = this.props;\n        this.node = BDV2.reactDom.findDOMNode(this);\n        this.tooltip = new Tooltip(this.node, text, {style, side});\n    }\n\n    componentWillUnmount() {\n        this.tooltip.hide();\n        delete this.tooltip;\n    }\n\n    render() {\n        return this.props.children;\n    }\n}","import nodeFetch from \"node-fetch\"\nimport * as electron from \"electron\"\nimport * as crypto from \"crypto\"\nimport BDV2 from \"./v2\"\nimport tooltipWrap from \"../ui/tooltipWrap\"\nimport Utils from \"./utils\"\nimport { createReadStream, writeFileSync } from \"fs\"\nimport { basename, join } from \"path\"\nimport contentManager from \"./contentManager\"\nimport { addonCache } from \"./contentManager\"\n\nconst cache = {}\nconst cache2 = {}\n\nexport default new class PluginCertifier {\n    constructor(){\n        window.Lightcord.BetterDiscord.PluginCertifier = this\n    }\n\n    patch(attachment, id){\n        process.nextTick(() => {\n            processAttachment(attachment, id)\n        })\n    }\n\n    start(){\n\n    }\n\n    isTrusted(hash){\n        return cache[hash] && !cache[hash].suspect\n    }\n}\n\nconst tests = [\n    [/token/gi, 0],\n    [/email/gi, 0],\n    [/mfa/gi, 0],\n    [/2fa/gi, 0],\n    [/phone/gi, 0],\n    [/child_process/gi, 0],\n    [/localStorage/gi, 0],\n    [/getGlobal/gi, 0],\n    [/BrowserWindow/gi, 0],\n    [/\\.exe/gi, 0],\n    [/eval/gi, 0],\n    [/WebAssembly/gi, 0],\n    [/XMLHttpRequest(\\.|\\[[\"'`])prototype/gi, 0],\n    [/window\\.fetch( +)?=/gi, 0],\n    /** Obfuscation / hidden / workarounds */\n    [/([\"'`]\\+)[\"'`]\\w[\"'`]/gi, 1],\n    [/[\"'`]\\w[\"'`](\\+[\"'`])/gi, 1],\n    [/\\${[\"'`]\\w+[\"'`]}/gi, 1],\n    /** hexadecimal */\n    [/_0x\\w{4}\\('0x[\\dabcdef]+'\\)/g, 1],\n    [/_0x\\w{4}\\('0x[\\dabcdef]+'( +)?,( +)?'[^']{4}'\\)/g, 1], // _0x8db7('0x0', 'x1]f')\n    /** mangled */\n    [/\\w+\\('0x[\\dabcdef]+'\\)/g, 1], // b('0x0')\n    [/\\w+\\('0x[\\dabcdef]+'( +)?,( +)?'[^']{4}'\\)/g, 1], // b('0x0', 'x1]f')\n    /** string array at start */\n    [/^var [\\w\\d_$]+=\\[\"/gi, 1]\n]\n\nconst threats = [\n    \"Account Stealer/Virus\",\n    \"Obfuscation/Hidden code\"\n]\n\nexport function checkViruses(hash, data, resultCallback, removeCallback, filename){\n    data = data.toString(\"utf8\")\n    let isHarmful = false\n    /**\n     * @type {string}\n     */\n    const no_comments = data.replace(/\\/\\*[\\s\\S]*?\\*\\/|([^\\\\:]|^)\\/\\/.*$/gm, \"\").trim()// removing all comments from plugins (remove meta and other.)\n\n    for(const [test, type] of tests){\n        const scrpt = type === 1 ? no_comments : data\n        if(test.exec(scrpt)){\n            isHarmful = threats[type]\n            break\n        }\n    }\n\n    if(!isHarmful)return removeCallback(hash)\n    cache[hash] = {\n        suspect: true,\n        name: hashToUrl[hash].split(\"/\").pop(),\n        type: hashToUrl[hash].endsWith(\".js\") ? \"Plugin\" : \"Theme\",\n        harm: isHarmful,\n        hash: hash,\n        filename\n    }\n    \n    console.log(`Found potentially dangerous ${cache[hash].type.toLowerCase()}: ${cache[hash].name}`)\n\n    resultCallback(cache[hash])\n}\n\nconst hashToUrl = {}\n\nexport function checkHash(hash, data, filename, resultCallback, removeCallback){\n    console.log(`File: ${filename} hash: ${hash}`)\n    if(!cache[hash]){\n        nodeFetch(\"https://cdn.jsdelivr.net/gh/Lightcord/filehashes@master/hashes/\"+hash, { // Using node-fetch to bypass cors\n            headers: {\n                \"User-Agent\": electron.ipcRenderer.sendSync(\"LIGHTCORD_GET_USER_AGENT\") // have to set user-agent\n            }\n        }).then(async res => {\n            if(res.status !== 200){\n                if(filename.endsWith(\".theme.css\"))return removeCallback(hash)\n                try{\n                    checkViruses(hash, data, resultCallback, removeCallback, filename)\n                }catch(e){\n                    console.error(e)\n                    removeCallback()\n                }\n                return\n            }\n            const result = await res.json()\n            result.hash = hash\n            result.filename = filename\n\n            cache[hash] = result\n\n            resultCallback(result)\n        }).catch((err) => {\n            console.error(`Could not read from github. ${err}`)\n            if(filename.endsWith(\".theme.css\"))return removeCallback(hash)\n            checkViruses(hash, data, resultCallback, removeCallback, filename)\n        })\n    }else{\n        const result = cache[hash]\n\n        resultCallback(result)\n    }\n}\n\nexport function processFile(__path, resultCallback, removeCallback = (hash) => {}, isFromLoader = false){    \n    const hash = crypto.createHash(\"sha256\")\n    let data = Buffer.alloc(0)\n\n    createReadStream(__path).on(\"data\", chunk => {\n        data = Buffer.concat([data, chunk])\n        hash.update(chunk)\n    }).on(\"end\", () => {\n        const hashResult = hash.digest(\"hex\")\n\n        hashToUrl[hashResult] = __path\n\n        if(isFromLoader && addonCache[hashResult]){\n            let value = addonCache[hashResult]\n            if(value.timestamp < (Date.now() - 6.048e+8)){\n                delete addonCache[hashResult]\n                contentManager.saveAddonCache()\n            }else{\n                resultCallback(value.result)\n                return\n            }\n        }\n\n        checkHash(hashResult, data, basename(__path), resultCallback, removeCallback)\n    })\n}\n\nexport function processAttachment(attachment, id){\n    if(!document.getElementById(id))return\n    if(!attachment.url.startsWith(\"https://cdn.discordapp.com/\"))return document.getElementById(id).remove()\n    if(!attachment.filename.endsWith(\".plugin.js\") && !attachment.filename.endsWith(\".theme.css\"))return document.getElementById(id).remove()\n\n    nodeFetch(attachment.url, {\n        headers: {\n            \"User-Agent\": electron.ipcRenderer.sendSync(\"LIGHTCORD_GET_USER_AGENT\")\n        }\n    }).then(res => {\n        if(res.status !== 200)throw new Error(\"File doesn't exist.\")\n        const hash = crypto.createHash(\"sha256\")\n        let data = Buffer.alloc(0)\n        res.body.on(\"data\", chunk => {\n            data = Buffer.concat([data, chunk])\n            hash.update(chunk)\n        })\n        res.body.on(\"end\", () => {\n            const hashResult = hash.digest(\"hex\")\n\n            cache2[attachment.url] = hashResult\n            hashToUrl[hashResult] = attachment.url\n\n            checkHash(hashResult, data, attachment.filename, (result) => {\n                renderToElements(id, result, attachment.filename)\n            }, () => {\n                let elem = document.getElementById(id)\n                if(elem)elem.remove()\n            })\n        })\n    }).catch(()=>{})\n}\n\nlet flowerStarModule = BDModules.get(e => e.flowerStarContainer)[0]\nlet childModule = BDModules.get(e => e.childContainer)[0]\n\n/**\n * \n * @param {HTMLDivElement[]} elements \n * @param {{type: \"Theme\"|\"Plugin\", name: string, official?: boolean}|{suspect:true, type: \"Theme\"|\"Plugin\", name: string, harm: string}} result\n */\nfunction renderToElements(id, result, filename){\n    const div = document.getElementById(id)\n    if(!div || div.childNodes.length > 0)return // already certified/div does not exist anymore.\n\n    if(!flowerStarModule)flowerStarModule = BDModules.get(e => e.flowerStarContainer)[0]\n    if(!childModule)childModule = BDModules.get(e => e.childContainer)[0]\n    \n    if(result.suspect){\n        try{\n            div.parentNode.style.borderColor = \"rgb(240, 71, 71)\"\n            /**\n             * \n             * @param {HTMLElement} node \n             */\n            let nextNode = (node) => {\n                for(let child of node.children){\n                    if(child.tagName === \"A\"){\n                        child.addEventListener(\"click\", (e) => {\n                            e.preventDefault()\n                            e.stopImmediatePropagation()\n\n                            Utils.showConfirmationModal(\n                                \"Are you sure you want to download this ?\", \n                                \"The \"+result.type.toLowerCase()+\" **\"+filename+\"** might be dangerous **(\"+result.harm+\")**. \\n\\n**We don't recommand to download it**. However, you can still do it below.\", \n                                {\n                                    confirmText: \"Download Anyway\",\n                                    cancelText: \"Don't !\",\n                                    danger: true,\n                                    onCancel: () => {},\n                                    onConfirm: () => {\n                                        electron.ipcRenderer.sendSync(\"LIGHTCORD_OPEN_EXTERNAL\", child.href)\n                                    }\n                                }\n                            )\n                        })\n                    }else if([\"div\"].includes(child.tagName.toLowerCase())){\n                        nextNode(child)\n                    }\n                }\n            }\n            nextNode(div.parentNode)\n        }catch(e){\n            console.error(e)\n        }\n        BDV2.reactDom.render(BDV2.react.createElement(tooltipWrap, {text: result.type+\" \"+result.name+\" is potentially dangerous.\"}, \n            BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\"}},\n                BDV2.react.createElement(\"svg\", {className: BDModules.get(e => e.svg)[0].svg, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 40 32\"},\n                    BDV2.react.createElement(\"rect\", {\n                        x:\"0\",\n                        y:\"0\",\n                        width:\"32\",\n                        height:\"32\",\n                        mask:\"url(#svg-mask-avatar-status-round-32)\",\n                        fill:\"#f04747\",\n                        mask:\"url(#svg-mask-status-dnd)\",\n                        className:BDModules.get(e => e.pointerEvents)[0].pointerEvents\n                    })\n                )\n            )\n        ), div)\n    }else if(!result.official){\n        div.parentNode.style.borderColor = \"#4087ed\"\n        let span = BDV2.react.createElement(\"span\", {style: {display: \"inherit\"}}, [\n            BDV2.react.createElement(tooltipWrap, {text: result.type+\" \"+result.name+\" is certified by Lightcord.\"}, \n                BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\", float: \"left\"}},\n                    BDV2.react.createElement(\"svg\", {className: flowerStarModule.flowerStar, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 16 15.2\"},\n                        BDV2.react.createElement(\"path\", {fill:\"#4f545c\", \"fill-rule\":\"evenodd\",d:\"m16 7.6c0 .79-1.28 1.38-1.52 2.09s.44 2 0 2.59-1.84.35-2.46.8-.79 1.84-1.54 2.09-1.67-.8-2.47-.8-1.75 1-2.47.8-.92-1.64-1.54-2.09-2-.18-2.46-.8.23-1.84 0-2.59-1.54-1.3-1.54-2.09 1.28-1.38 1.52-2.09-.44-2 0-2.59 1.85-.35 2.48-.8.78-1.84 1.53-2.12 1.67.83 2.47.83 1.75-1 2.47-.8.91 1.64 1.53 2.09 2 .18 2.46.8-.23 1.84 0 2.59 1.54 1.3 1.54 2.09z\"})\n                    ),\n                    BDV2.react.createElement(\"div\", {className: childModule.childContainer}, \n                        BDV2.react.createElement(\"svg\", {\"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 16 15.2\"}, \n                            BDV2.react.createElement(\"path\", {fill:\"#ffffff\",d:\"M7.4,11.17,4,8.62,5,7.26l2,1.53L10.64,4l1.36,1Z\"})\n                        )\n                    )\n                )\n            ),\n            BDV2.react.createElement(tooltipWrap, {text: \"Install this \"+result.type.toLowerCase()+\" on Lightcord.\"}, \n                BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\"}, onClick(){\n                    Utils.showConfirmationModal(\n                        \"Are you sure you want to download this \"+result.type.toLowerCase()+\" ?\", \n                        \"Lightcord will automatically install and launch this \"+result.type.toLowerCase()+\". You don't have anything to do.\", \n                        {\n                            confirmText: \"Download and Install\",\n                            cancelText: \"I've changed my mind\",\n                            danger: false,\n                            onCancel: () => {},\n                            onConfirm: () => {\n                                let link = getKeyedArray(cache2).find(e => e[1] === result.hash)[0]\n                                console.log(link)\n                                nodeFetch(link)\n                                .then(async res => {\n                                    if(res.status !== 200)throw new Error(\"Status was not 200\")\n                                    let content = await res.buffer()\n                                    let installPath = join(result.type === \"Plugin\" ? contentManager._pluginsFolder : contentManager._themesFolder, result.filename)\n                                    console.log(installPath)\n                                    writeFileSync(installPath, content)\n                                    Utils.showToast(result.type+\" succesfully installed.\")\n                                }).catch(err => {\n                                    err = err instanceof Error ? err : new Error(err)\n                                    Utils.showToast(err.message, {\n                                        type: \"error\"\n                                    })\n                                })\n                            }\n                        }\n                    )\n                }},\n                    BDV2.react.createElement(\"svg\", {className: flowerStarModule.flowerStar, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 24 24\",style:{\n                        color: \"rgb(67, 181, 129)\",\n                        cursor: \"pointer\"\n                    }},\n                        <g fill=\"none\" fill-rule=\"evenodd\">\n                            <path d=\"M0 0h24v24H0z\"></path>\n                            <path class=\"fill\" fill=\"currentColor\" d=\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"></path>\n                        </g>\n                    )\n                )\n            )\n        ])\n        BDV2.reactDom.render(span, div)\n    }else{\n        div.parentNode.style.borderColor = \"#4087ed\"\n        let span = BDV2.react.createElement(\"span\", {style: {display: \"inherit\"}}, [\n            BDV2.react.createElement(tooltipWrap, {text: result.type+\" \"+result.name+\" was made by the developers of Lightcord.\", style:\"brand\"}, \n                BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\", float: \"left\"}},\n                    BDV2.react.createElement(\"svg\", {className: flowerStarModule.flowerStar, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 16 15.2\",stroke:\"#36393f\",style:{color:\"#4087ed\"}},\n                        BDV2.react.createElement(\"path\", {fill:\"currentColor\", \"fill-rule\":\"evenodd\",d:\"m16 7.6c0 .79-1.28 1.38-1.52 2.09s.44 2 0 2.59-1.84.35-2.46.8-.79 1.84-1.54 2.09-1.67-.8-2.47-.8-1.75 1-2.47.8-.92-1.64-1.54-2.09-2-.18-2.46-.8.23-1.84 0-2.59-1.54-1.3-1.54-2.09 1.28-1.38 1.52-2.09-.44-2 0-2.59 1.85-.35 2.48-.8.78-1.84 1.53-2.12 1.67.83 2.47.83 1.75-1 2.47-.8.91 1.64 1.53 2.09 2 .18 2.46.8-.23 1.84 0 2.59 1.54 1.3 1.54 2.09z\"})\n                    ),\n                    BDV2.react.createElement(\"div\", {className: childModule.childContainer}, \n                        BDV2.react.createElement(\"svg\", {\"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 16 15.2\"}, \n                            BDV2.react.createElement(\"path\", {fill:\"#ffffff\",d:\"M10.7,5.28a2.9,2.9,0,0,0-2.11.86.11.11,0,0,0,0,.16l1.05.94a.11.11,0,0,0,.15,0,1.27,1.27,0,0,1,.9-.33c.65,0,.65.73.65.73a.64.64,0,0,1-.65.65,1.73,1.73,0,0,1-1.18-.54c-.31-.26-.36-.32-.73-.66S7.06,5.28,5.65,5.28A2.26,2.26,0,0,0,3.37,7.56,2.59,2.59,0,0,0,3.82,9a2.18,2.18,0,0,0,1.83.89,2.94,2.94,0,0,0,2.1-.81.11.11,0,0,0,0-.16L6.74,8A.11.11,0,0,0,6.6,8a1.58,1.58,0,0,1-.94.29h0A.71.71,0,0,1,5,7.56H5a.63.63,0,0,1,.65-.64c.71,0,1.42.75,1.94,1.27.75.76,1.66,1.79,3.11,1.74A2.28,2.28,0,0,0,13,7.64a2.59,2.59,0,0,0-.45-1.47A2.14,2.14,0,0,0,10.7,5.28Z\"})\n                        )\n                    )\n                )\n            ),\n            BDV2.react.createElement(tooltipWrap, {text: \"Install this \"+result.type.toLowerCase()+\" on Lightcord.\"}, \n                BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\"}, onClick(){\n                    Utils.showConfirmationModal(\n                        \"Are you sure you want to download this \"+result.type.toLowerCase()+\" ?\", \n                        \"Lightcord will automatically download and load this \"+result.type.toLowerCase()+\". You must enable it in the settings.\", \n                        {\n                            confirmText: \"Download and Install\",\n                            cancelText: \"I've changed my mind\",\n                            danger: false,\n                            onCancel: () => {},\n                            onConfirm: () => {\n                                let link = getKeyedArray(cache2).find(e => e[1] === result.hash)[0]\n                                \n                                nodeFetch(link)\n                                .then(async res => {\n                                    if(res.status !== 200)throw new Error(\"Status was not 200\")\n                                    let content = await res.buffer()\n                                    let installPath = join(result.type === \"Plugin\" ? contentManager._pluginsFolder : contentManager._themesFolder, result.filename)\n                                    \n                                    writeFileSync(installPath, content)\n                                    Utils.showToast(result.type+\" succesfully installed.\")\n                                }).catch(err => {\n                                    err = err instanceof Error ? err : new Error(err)\n                                    Utils.showToast(err.message, {\n                                        type: \"error\"\n                                    })\n                                })\n                            }\n                        }\n                    )\n                }},\n                    BDV2.react.createElement(\"svg\", {className: flowerStarModule.flowerStar, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 24 24\",style:{\n                        color: \"rgb(67, 181, 129)\",\n                        cursor: \"pointer\"\n                    }},\n                        <g fill=\"none\" fill-rule=\"evenodd\">\n                            <path d=\"M0 0h24v24H0z\"></path>\n                            <path class=\"fill\" fill=\"currentColor\" d=\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"></path>\n                        </g>\n                    )\n                )\n            )\n        ])\n        BDV2.reactDom.render(span, div)\n    }\n}\n\nfunction getKeyedArray(obj){\n    let arr = []\n    Object.keys(obj).forEach(k => {\n        arr.push([k, obj[k]])\n    })\n    return arr\n}\n\nlet key = null\nlet save = null\n\nwindow.Lightcord.Api.ensureExported(m=>m.ObjectStorage)\n.then(localStorageModule => {\n    let localStorage = localStorageModule.impl\n    save = function(){\n        localStorage.set(\"PluginCertifierKeyEncryption__\", btoa(JSON.stringify(key)))\n    }\n    setInterval(() => {\n        save()\n    }, 100000);\n    try{\n        let val = safeJSONParse(atob(localStorage.get(\"PluginCertifierKeyEncryption__\")))\n        if(val instanceof Error || !Array.isArray(val) || val.length !== 2 || val.find(e => typeof e !== \"string\") || Buffer.from(val[0], \"base64\").length !== 16 || Buffer.from(val[1], \"base64\").length !== 32){\n            generateKey()\n            save()\n            return\n        }\n        key = val\n    }catch(e){\n        generateKey()\n        save()\n    }\n})\n\nfunction generateKey(){\n    key = [crypto.randomBytes(16).toString(\"base64\"), crypto.randomBytes(32).toString(\"base64\")]\n}\n\nfunction safeJSONParse(json){\n    try{\n        return JSON.parse(json)\n    }catch(e){\n        return e instanceof Error ? new Error(e) : e\n    }\n}\n\nexport function decryptSettingsCache(data){\n    try{\n        let decipher = crypto.createDecipheriv(\"aes-256-cbc\", Buffer.from(key[1], \"base64\"), Buffer.from(key[0], \"base64\"))\n        let decrypted = decipher.update(Buffer.from(data, \"base64\"));\n        decrypted = Buffer.concat([decrypted, decipher.final()]);\n        return decrypted.toString(\"utf8\")\n    }catch(e){\n        return \"{}\"\n    }\n}\nexport function encryptSettingsCache(data){\n    let args = [Buffer.from(key[1], \"base64\"), Buffer.from(key[0], \"base64\")]\n    \n    let cipher = crypto.createCipheriv('aes-256-cbc', ...args);\n    let encrypted = cipher.update(Buffer.from(data, \"utf8\"));\n    encrypted = Buffer.concat([encrypted, cipher.final()]);\n    return encrypted.toString(\"base64\")\n}","import {bdConfig, bdplugins, bdthemes, settingsCookie} from \"../0globals\";\nimport pluginModule from \"./pluginModule\";\nimport themeModule from \"./themeModule\";\nimport Utils from \"./utils\";\nimport dataStore from \"./dataStore\";\nimport { encryptSettingsCache, decryptSettingsCache, processFile } from \"./pluginCertifier\";\nimport * as electron from \"electron\"\n\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst Module = require(\"module\").Module;\nModule.globalPaths.push(path.resolve(electron.ipcRenderer.sendSync(\"LIGHTCORD_GET_APP_PATH\"), \"node_modules\"));\nclass MetaError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"MetaError\";\n    }\n}\nconst originalJSRequire = Module._extensions[\".js\"];\nconst originalCSSRequire = Module._extensions[\".css\"] ? Module._extensions[\".css\"] : () => {return null;};\nconst splitRegex = /[^\\S\\r\\n]*?(?:\\r\\n|\\n)[^\\S\\r\\n]*?\\*[^\\S\\r\\n]?/;\nconst escapedAtRegex = /^\\\\@/;\n\nexport let addonCache = {}\n\nlet hasPatched = false\nexport default new class ContentManager {\n\n    constructor() {\n        this.timeCache = {};\n        this.watchers = {};\n    }\n\n    patchExtensions(){\n        if(hasPatched)return\n        hasPatched = true\n        Module._extensions[\".js\"] = this.getContentRequire(\"plugin\");\n        Module._extensions[\".css\"] = this.getContentRequire(\"theme\");\n    }\n\n    get pluginsFolder() {return this._pluginsFolder || (this._pluginsFolder = fs.realpathSync(path.resolve(bdConfig.dataPath + \"plugins/\")));}\n    get themesFolder() {return this._themesFolder || (this._themesFolder = fs.realpathSync(path.resolve(bdConfig.dataPath + \"themes/\")));}\n\n    loadAddonCertifierCache(){\n        if(typeof dataStore.getSettingGroup(\"PluginCertifierHashes\") !== \"string\"){\n            dataStore.setSettingGroup(\"PluginCertifierHashes\", encryptSettingsCache(\"{}\"))\n        }else{\n            try{\n                addonCache = JSON.parse(decryptSettingsCache(dataStore.getSettingGroup(\"PluginCertifierHashes\")))\n            }catch(e){\n                dataStore.setSettingGroup(\"PluginCertifierHashes\", encryptSettingsCache(\"{}\"))\n                addonCache = {}\n            }\n        }\n        Object.keys(addonCache)\n        .forEach(key => {\n            let value = addonCache[key]\n            if(!value || typeof value !== \"object\" || Array.isArray(value))return delete addonCache[key]\n\n            let props = [{\n                key: \"timestamp\",\n                type: \"number\"\n            }, {\n                key: \"result\",\n                type: \"object\"\n            }, {\n                key: \"hash\",\n                type: \"string\"\n            }]\n            for(let prop of props){\n                if(!(prop.key in value) || typeof value[prop.key] !== prop.type){\n                    delete addonCache[key]\n                    return\n                }\n            }\n            if(value.hash !== key){\n                delete addonCache[key]\n                return\n            }\n            if(value.result.suspect){ // refetch from remote to be sure you're up to date.\n                delete addonCache[key]\n                return\n            }\n        })\n        this.saveAddonCache()\n    }\n\n    saveAddonCache(){\n        dataStore.setSettingGroup(\"PluginCertifierHashes\", encryptSettingsCache(JSON.stringify(addonCache)))\n    }\n\n    watchContent(contentType) {\n        if (this.watchers[contentType]) return;\n        const isPlugin = contentType === \"plugin\";\n        const baseFolder = isPlugin ? this.pluginsFolder : this.themesFolder;\n        const fileEnding = isPlugin ? \".plugin.js\" : \".theme.css\";\n        this.watchers[contentType] = fs.watch(baseFolder, {persistent: false}, async (eventType, filename) => {\n            if (!eventType || !filename || !filename.endsWith(fileEnding)) return;\n            await new Promise(r => setTimeout(r, 50));\n            try {fs.statSync(path.resolve(baseFolder, filename));}\n            catch (err) {\n                if (err.code !== \"ENOENT\") return;\n                delete this.timeCache[filename];\n                if (isPlugin) return pluginModule.unloadPlugin(filename);\n                return themeModule.unloadTheme(filename);\n            }\n            if (!fs.statSync(path.resolve(baseFolder, filename)).isFile()) return;\n            const stats = fs.statSync(path.resolve(baseFolder, filename));\n            if (!stats || !stats.mtime || !stats.mtime.getTime()) return;\n            if (typeof(stats.mtime.getTime()) !== \"number\") return;\n            if (this.timeCache[filename] == stats.mtime.getTime()) return;\n            this.timeCache[filename] = stats.mtime.getTime();\n            if (eventType == \"rename\") {\n                if (isPlugin) await pluginModule.loadPlugin(filename);\n                else await themeModule.loadTheme(filename);\n            }\n            if (eventType == \"change\") {\n                if (isPlugin) await pluginModule.reloadPlugin(filename);\n                else await themeModule.reloadTheme(filename);\n            }\n        });\n    }\n\n    unwatchContent(contentType) {\n        if (!this.watchers[contentType]) return;\n        this.watchers[contentType].close();\n        delete this.watchers[contentType];\n    }\n\n    extractMeta(content) {\n        const firstLine = content.split(\"\\n\")[0];\n        const hasOldMeta = firstLine.includes(\"//META\");\n        if (hasOldMeta) return this.parseOldMeta(content);\n        const hasNewMeta = firstLine.includes(\"/**\");\n        if (hasNewMeta) return this.parseNewMeta(content);\n        throw new MetaError(\"META was not found.\");\n    }\n\n    parseOldMeta(content) {\n        const meta = content.split(\"\\n\")[0];\n        const rawMeta = meta.substring(meta.lastIndexOf(\"//META\") + 6, meta.lastIndexOf(\"*//\"));\n        if (meta.indexOf(\"META\") < 0) throw new MetaError(\"META was not found.\");\n        const parsed = Utils.testJSON(rawMeta);\n        if (!parsed) throw new MetaError(\"META could not be parsed.\");\n        if (!parsed.name) throw new MetaError(\"META missing name data.\");\n        parsed.format = \"json\";\n        return parsed;\n    }\n\n    parseNewMeta(content) {\n        const block = content.split(\"/**\", 2)[1].split(\"*/\", 1)[0];\n        const out = {};\n        let field = \"\";\n        let accum = \"\";\n        for (const line of block.split(splitRegex)) {\n            if (line.length === 0) continue;\n            if (line.charAt(0) === \"@\" && line.charAt(1) !== \" \") {\n                out[field] = accum;\n                const l = line.indexOf(\" \");\n                field = line.substr(1, l - 1);\n                accum = line.substr(l + 1);\n            }\n            else {\n                accum += \" \" + line.replace(\"\\\\n\", \"\\n\").replace(escapedAtRegex, \"@\");\n            }\n        }\n        out[field] = accum.trim();\n        delete out[\"\"];\n        out.format = \"jsdoc\";\n        return out;\n    }\n\n    getContentRequire(type) {\n        const isPlugin = type === \"plugin\";\n        const self = this;\n        const originalRequire = isPlugin ? originalJSRequire : originalCSSRequire;\n        return function(module, filename) {\n            const baseFolder = isPlugin ? self.pluginsFolder : self.themesFolder;\n            const possiblePath = path.resolve(baseFolder, path.basename(filename));\n            if (!fs.existsSync(possiblePath) || filename !== fs.realpathSync(possiblePath)) return Reflect.apply(originalRequire, this, arguments);\n            let content = fs.readFileSync(filename, \"utf8\");\n            content = Utils.stripBOM(content);\n\n            const stats = fs.statSync(filename);\n            const meta = self.extractMeta(content);\n            meta.filename = path.basename(filename);\n            meta.added = stats.atimeMs;\n            meta.modified = stats.mtimeMs;\n            meta.size = stats.size;\n            if (!isPlugin) {\n                meta.css = content;\n                if (meta.format == \"json\") meta.css = meta.css.split(\"\\n\").slice(1).join(\"\\n\");\n                content = `module.exports = ${JSON.stringify(meta)};`;\n            }\n            if (isPlugin) {\n                module._compile(content, module.filename);\n                const didExport = !Utils.isEmpty(module.exports);\n                if (didExport) {\n                    meta.type = module.exports;\n                    module.exports = meta;\n                    content = \"\";\n                }\n                else {\n                    Utils.warn(\"Module Not Exported\", `${meta.name}, please start setting module.exports`);\n                    content += `\\nmodule.exports = ${JSON.stringify(meta)};\\nmodule.exports.type = ${meta.exports || meta.name};`;\n                }\n            }\n            module._compile(content, filename);\n        };\n    }\n\n    makePlaceholderPlugin(data) {\n        return {plugin: {\n                start: () => {},\n                getName: () => {return data.name || data.filename;},\n                getAuthor: () => {return \"???\";},\n                getDescription: () => {return data.message ? data.message : \"This plugin was unable to be loaded. Check the author's page for updates.\";},\n                getVersion: () => {return \"???\";}\n            },\n            name: data.name || data.filename,\n            filename: data.filename,\n            source: data.source ? data.source : \"\",\n            website: data.website ? data.website : \"\"\n        };\n    }\n\n    async loadContent(filename, type) {\n        if (typeof(filename) === \"undefined\" || typeof(type) === \"undefined\") return;\n        const isPlugin = type === \"plugin\";\n        const baseFolder = isPlugin ? this.pluginsFolder : this.themesFolder;\n\n        if(settingsCookie[\"fork-ps-6\"]){\n            let result = await new Promise(resolve => {\n                processFile(path.resolve(baseFolder, filename), (result) => {\n                    console.log(result)\n                    resolve(result)\n                }, (hash) => {\n                    resolve({\n                        suspect: false,\n                        hash: hash,\n                        filename: filename,\n                        name: filename\n                    })\n                }, true)\n            })\n            if(result){\n                addonCache[result.hash] = {\n                    timestamp: Date.now(),\n                    hash: result.hash,\n                    result: result\n                }\n                this.saveAddonCache()\n                if(result.suspect){\n                    return {\n                        name: filename,\n                        file: filename,\n                        message: \"This plugin might be dangerous (\"+result.harm+\").\",\n                        error: new Error(\"This plugin might be dangerous (\"+result.harm+\").\")\n                    }\n                }\n            }\n        }\n\n        try {__non_webpack_require__(path.resolve(baseFolder, filename));}\n        catch (error) {return {name: filename, file: filename, message: \"Could not be compiled.\", error: {message: error.message, stack: error.stack}};}\n        const content = __non_webpack_require__(path.resolve(baseFolder, filename));\n        if(!content.name)return {name: filename, file: filename, message: \"Cannot escape the ID.\", error: new Error(\"Cannot read property 'replace' of undefined\")}\n        content.id = Utils.escapeID(content.name);\n        //if(!id)return {name: filename, file: filename, message: \"Invalid ID\", error: new Error(\"Please fix the name of \"+filename+\". BetterDiscord can't escape an ID.\")}\n        if (isPlugin) {\n            if (!content.type) return;\n            try {\n                content.plugin = new content.type();\n                delete bdplugins[content.plugin.getName()];\n                bdplugins[content.plugin.getName()] = content;\n            }\n            catch (error) {return {name: filename, file: filename, message: \"Could not be constructed.\", error: {message: error.message, stack: error.stack}};}\n        }\n        else {\n            delete bdthemes[content.name];\n            bdthemes[content.name] = content;\n        }\n    }   \n\n    unloadContent(filename, type) {\n        if (typeof(filename) === \"undefined\" || typeof(type) === \"undefined\") return;\n        const isPlugin = type === \"plugin\";\n        const baseFolder = isPlugin ? this.pluginsFolder : this.themesFolder;\n        try {\n            delete __non_webpack_require__.cache[__non_webpack_require__.resolve(path.resolve(baseFolder, filename))];\n        }\n        catch (err) {return {name: filename, file: filename, message: \"Could not be unloaded.\", error: {message: err.message, stack: err.stack}};}\n    }\n\n    isLoaded(filename, type) {\n        const isPlugin = type === \"plugin\";\n        const baseFolder = isPlugin ? this.pluginsFolder : this.themesFolder;\n        try {__non_webpack_require__.cache[__non_webpack_require__.resolve(path.resolve(baseFolder, filename))];}\n        catch (err) {return false;}\n        return true;\n    }\n\n    async reloadContent(filename, type) {\n        const cantUnload = this.unloadContent(filename, type);\n        if (cantUnload) return cantUnload;\n        return await this.loadContent(filename, type);\n    }\n\n    loadNewContent(type) {\n        const isPlugin = type === \"plugin\";\n        const fileEnding = isPlugin ? \".plugin.js\" : \".theme.css\";\n        const basedir = isPlugin ? this.pluginsFolder : this.themesFolder;\n        const files = fs.readdirSync(basedir);\n        const contentList = Object.values(isPlugin ? bdplugins : bdthemes);\n        const removed = contentList.filter(t => !files.includes(t.filename)).map(c => isPlugin ? c.plugin.getName() : c.name);\n        const added = files.filter(f => !contentList.find(t => t.filename == f) && f.endsWith(fileEnding) && fs.statSync(path.resolve(basedir, f)).isFile());\n        return {added, removed};\n    }\n\n    async loadAllContent(type) {\n        this.patchExtensions()\n        const isPlugin = type === \"plugin\";\n        const fileEnding = isPlugin ? \".plugin.js\" : \".theme.css\";\n        const basedir = isPlugin ? this.pluginsFolder : this.themesFolder;\n        const errors = [];\n        const files = fs.readdirSync(basedir);\n\n        for (const filename of files) {\n            if (!fs.statSync(path.resolve(basedir, filename)).isFile() || !filename.endsWith(fileEnding)) continue;\n            const error = await this.loadContent(filename, type);\n            if (error) errors.push(error);\n        }\n\n        return errors;\n    }\n\n    loadPlugins() {return this.loadAllContent(\"plugin\");}\n    loadThemes() {return this.loadAllContent(\"theme\");}\n};\n\n/**\n * Don't expose contentManager - could be dangerous for now\n */","/**\n * Copyright 2018 Zachary Rauen\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished\n * to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n * \n * From: https://github.com/rauenzi/BDPluginLibrary\n */\n\n/**\n * @interface\n * @name Offset\n * @property {number} top - Top offset of the target element.\n * @property {number} right - Right offset of the target element.\n * @property {number} bottom - Bottom offset of the target element.\n * @property {number} left - Left offset of the target element.\n * @property {number} height - Outer height of the target element.\n * @property {number} width - Outer width of the target element.\n */\n\n /**\n * Function that automatically removes added listener.\n * @callback module:DOMTools~CancelListener\n */\n \nexport default class DOMTools {\n\n    static escapeID(id) {\n        return id.replace(/^[^a-z]+|[^\\w-]+/gi, \"-\");\n    }\n\n    /**\n\t * Adds a style to the document.\n\t * @param {string} id - identifier to use as the element id\n\t * @param {string} css - css to add to the document\n\t */\n\tstatic addStyle(id, css) {\n\t\tdocument.head.append(DOMTools.createElement(`<style id=\"${id}\">${css}</style>`));\n\t}\n\n\t/**\n\t * Removes a style from the document.\n\t * @param {string} id - original identifier used\n\t */\n\tstatic removeStyle(id) {\n\t\tconst element = document.getElementById(id);\n\t\tif (element) element.remove();\n\t}\n\n\t/**\n\t * Adds/requires a remote script to be loaded\n\t * @param {string} id - identifier to use for this script\n\t * @param {string} url - url from which to load the script\n\t * @returns {Promise} promise that resolves when the script is loaded\n\t */\n\tstatic addScript(id, url) {\n\t\treturn new Promise(resolve => {\n\t\t\tconst script = document.createElement(\"script\");\n\t\t\tscript.id = id;\n\t\t\tscript.src = url;\n\t\t\tscript.type = \"text/javascript\";\n\t\t\tscript.onload = resolve;\n\t\t\tdocument.head.append(script);\n\t\t});\n\t}\n\n\t/**\n\t * Removes a remote script from the document.\n\t * @param {string} id - original identifier used\n\t */\n\tstatic removeScript(id) {\n        id = this.escapeID(id);\n\t\tconst element = document.getElementById(id);\n\t\tif (element) element.remove();\n    }\n    \n    // https://javascript.info/js-animation\n    static animate({timing = _ => _, update, duration}) {\n        const start = performance.now();\n      \n        requestAnimationFrame(function animate(time) {\n          // timeFraction goes from 0 to 1\n          let timeFraction = (time - start) / duration;\n          if (timeFraction > 1) timeFraction = 1;\n      \n          // calculate the current animation state\n          const progress = timing(timeFraction);\n      \n          update(progress); // draw it\n      \n          if (timeFraction < 1) {\n            requestAnimationFrame(animate);\n          }\n      \n        });\n      }\n\n    /**\n     * This is my shit version of not having to use `$` from jQuery. Meaning\n     * that you can pass a selector and it will automatically run {@link module:DOMTools.query}.\n     * It also means that you can pass a string of html and it will perform and return `parseHTML`.\n     * @see module:DOMTools.parseHTML\n     * @see module:DOMTools.query\n     * @param {string} selector - Selector to query or HTML to parse\n     * @returns {(DocumentFragment|NodeList|HTMLElement)} - Either the result of `parseHTML` or `query`\n     */\n    static Q(selector) {\n        const element = this.parseHTML(selector);\n        const isHTML = element instanceof NodeList ? Array.from(element).some(n => n.nodeType === 1) : element.nodeType === 1;\n        if (isHTML) return element;\n        return this.query(selector);\n    }\n\n    /**\n     * Essentially a shorthand for `document.querySelector`. If the `baseElement` is not provided\n     * `document` is used by default.\n     * @param {string} selector - Selector to query\n     * @param {Element} [baseElement] - Element to base the query from\n     * @returns {(Element|null)} - The found element or null if not found\n     */\n    static query(selector, baseElement = document) {\n        return baseElement.querySelector(selector);\n    }\n\n    /**\n     * Essentially a shorthand for `document.querySelectorAll`. If the `baseElement` is not provided\n     * `document` is used by default.\n     * @param {string} selector - Selector to query\n     * @param {Element} [baseElement] - Element to base the query from\n     * @returns {Array<Element>} - Array of all found elements\n     */\n    static queryAll(selector, baseElement = document) {\n        return baseElement.querySelectorAll(selector);\n    }\n\n    /**\n     * Parses a string of HTML and returns the results. If the second parameter is true,\n     * the parsed HTML will be returned as a document fragment {@see https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment}.\n     * This is extremely useful if you have a list of elements at the top level, they can then be appended all at once to another node.\n     * \n     * If the second parameter is false, then the return value will be the list of parsed\n     * nodes and there were multiple top level nodes, otherwise the single node is returned.\n     * @param {string} html - HTML to be parsed\n     * @param {boolean} [fragment=false] - Whether or not the return should be the raw `DocumentFragment`\n     * @returns {(DocumentFragment|NodeList|HTMLElement)} - The result of HTML parsing\n     */\n    static parseHTML(html, fragment = false) {\n        const template = document.createElement(\"template\");\n        template.innerHTML = html;\n        const node = template.content.cloneNode(true);\n        if (fragment) return node;\n        return node.childNodes.length > 1 ? node.childNodes : node.childNodes[0];\n    }\n\n    /** Alternate name for {@link module:DOMTools.parseHTML} */\n    static createElement(html, fragment = false) {return this.parseHTML(html, fragment);}\n    \n    /**\n     * Takes a string of html and escapes it using the brower's own escaping mechanism.\n     * @param {String} html - html to be escaped\n     */\n    static escapeHTML(html) {\n        const textNode = document.createTextNode(\"\");\n        const spanElement = document.createElement(\"span\");\n        spanElement.append(textNode);\n        textNode.nodeValue = html;\n        return spanElement.innerHTML;\n    }\n\n    /**\n     * Adds a list of classes from the target element.\n     * @param {Element} element - Element to edit classes of\n     * @param {...string} classes - Names of classes to add\n     * @returns {Element} - `element` to allow for chaining\n     */\n    static addClass(element, ...classes) {\n        classes = classes.flat().filter(c => c);\n        for (let c = 0; c < classes.length; c++) classes[c] = classes[c].toString().split(\" \");\n        classes = classes.flat().filter(c => c);\n        element.classList.add(...classes);\n        return element;\n    }\n\n    /**\n     * Removes a list of classes from the target element.\n     * @param {Element} element - Element to edit classes of\n     * @param {...string} classes - Names of classes to remove\n     * @returns {Element} - `element` to allow for chaining\n     */\n    static removeClass(element, ...classes) {\n        for (let c = 0; c < classes.length; c++) classes[c] = classes[c].toString().split(\" \");\n        classes = classes.flat().filter(c => c);\n        element.classList.remove(...classes);\n        return element;\n    }\n\n    /**\n     * When only one argument is present: Toggle class value;\n     * i.e., if class exists then remove it and return false, if not, then add it and return true.\n     * When a second argument is present:\n     * If the second argument evaluates to true, add specified class value, and if it evaluates to false, remove it.\n     * @param {Element} element - Element to edit classes of\n     * @param {string} classname - Name of class to toggle\n     * @param {boolean} [indicator] - Optional indicator for if the class should be toggled\n     * @returns {Element} - `element` to allow for chaining\n     */\n    static toggleClass(element, classname, indicator) {\n        classname = classname.toString().split(\" \").filter(c => c);\n        if (typeof(indicator) !== \"undefined\") classname.forEach(c => element.classList.toggle(c, indicator));\n        else classname.forEach(c => element.classList.toggle(c));\n        return element;\n    }\n\n    /**\n     * Checks if an element has a specific class\n     * @param {Element} element - Element to edit classes of\n     * @param {string} classname - Name of class to check\n     * @returns {boolean} - `true` if the element has the class, `false` otherwise.\n     */\n    static hasClass(element, classname) {\n        return classname.toString().split(\" \").filter(c => c).every(c => element.classList.contains(c));\n    }\n\n    /**\n     * Replaces one class with another\n     * @param {Element} element - Element to edit classes of\n     * @param {string} oldName - Name of class to replace\n     * @param {string} newName - New name for the class\n     * @returns {Element} - `element` to allow for chaining\n     */\n    static replaceClass(element, oldName, newName) {\n        element.classList.replace(oldName, newName);\n        return element;\n    }\n\n    /**\n     * Appends `thisNode` to `thatNode`\n     * @param {Node} thisNode - Node to be appended to another node\n     * @param {Node} thatNode - Node for `thisNode` to be appended to\n     * @returns {Node} - `thisNode` to allow for chaining\n     */\n    static appendTo(thisNode, thatNode) {\n        if (typeof(thatNode) == \"string\") thatNode = this.query(thatNode);\n        if (!thatNode) return null;\n        thatNode.append(thisNode);\n        return thisNode;\n    }\n\n    /**\n     * Prepends `thisNode` to `thatNode`\n     * @param {Node} thisNode - Node to be prepended to another node\n     * @param {Node} thatNode - Node for `thisNode` to be prepended to\n     * @returns {Node} - `thisNode` to allow for chaining\n     */\n    static prependTo(thisNode, thatNode) {\n        if (typeof(thatNode) == \"string\") thatNode = this.query(thatNode);\n        if (!thatNode) return null;\n        thatNode.prepend(thisNode);\n        return thisNode;\n    }\n\n    /**\n     * Insert after a specific element, similar to jQuery's `thisElement.insertAfter(otherElement)`.\n     * @param {Node} thisNode - The node to insert\n     * @param {Node} targetNode - Node to insert after in the tree\n     * @returns {Node} - `thisNode` to allow for chaining\n     */\n    static insertAfter(thisNode, targetNode) {\n        targetNode.parentNode.insertBefore(thisNode, targetNode.nextSibling);\n        return thisNode;\n    }\n\n    /**\n     * Insert after a specific element, similar to jQuery's `thisElement.after(newElement)`.\n     * @param {Node} thisNode - The node to insert\n     * @param {Node} newNode - Node to insert after in the tree\n     * @returns {Node} - `thisNode` to allow for chaining\n     */\n    static after(thisNode, newNode) {\n        thisNode.parentNode.insertBefore(newNode, thisNode.nextSibling);\n        return thisNode;\n    }\n\n    /**\n     * Gets the next sibling element that matches the selector.\n     * @param {Element} element - Element to get the next sibling of\n     * @param {string} [selector=\"\"] - Optional selector\n     * @returns {Element} - The sibling element\n     */\n    static next(element, selector = \"\") {\n        return selector ? element.querySelector(\"+ \" + selector) : element.nextElementSibling;\n    }\n\n    /**\n     * Gets all subsequent siblings.\n     * @param {Element} element - Element to get next siblings of\n     * @returns {NodeList} - The list of siblings\n     */\n    static nextAll(element) {\n        return element.querySelectorAll(\"~ *\");\n    }\n\n    /**\n     * Gets the subsequent siblings until an element matches the selector.\n     * @param {Element} element - Element to get the following siblings of\n     * @param {string} selector - Selector to stop at\n     * @returns {Array<Element>} - The list of siblings\n     */\n    static nextUntil(element, selector) {\n        const next = []; \n        while (element.nextElementSibling && !element.nextElementSibling.matches(selector)) next.push(element = element.nextElementSibling);\n        return next;\n    }\n\n    /**\n     * Gets the previous sibling element that matches the selector.\n     * @param {Element} element - Element to get the previous sibling of\n     * @param {string} [selector=\"\"] - Optional selector\n     * @returns {Element} - The sibling element\n     */\n    static previous(element, selector = \"\") {\n        const previous = element.previousElementSibling;\n        if (selector) return previous && previous.matches(selector) ? previous : null;\n        return previous;\n    }\n\n    /**\n     * Gets all preceeding siblings.\n     * @param {Element} element - Element to get preceeding siblings of\n     * @returns {NodeList} - The list of siblings\n     */\n    static previousAll(element) {\n        const previous = [];\n        while (element.previousElementSibling) previous.push(element = element.previousElementSibling);\n        return previous;\n    }\n\n    /**\n     * Gets the preceeding siblings until an element matches the selector.\n     * @param {Element} element - Element to get the preceeding siblings of\n     * @param {string} selector - Selector to stop at\n     * @returns {Array<Element>} - The list of siblings\n     */\n    static previousUntil(element, selector) {\n        const previous = []; \n        while (element.previousElementSibling && !element.previousElementSibling.matches(selector)) previous.push(element = element.previousElementSibling);\n        return previous;\n    }\n\n    /**\n     * Find which index in children a certain node is. Similar to jQuery's `$.index()`\n     * @param {HTMLElement} node - The node to find its index in parent\n     * @returns {number} Index of the node\n     */\n    static indexInParent(node) {\n        const children = node.parentNode.childNodes;\n        let num = 0;\n        for (let i = 0; i < children.length; i++) {\n            if (children[i] == node) return num;\n            if (children[i].nodeType == 1) num++;\n        }\n        return -1;\n    }\n\n    /** Shorthand for {@link module:DOMTools.indexInParent} */\n    static index(node) {return this.indexInParent(node);}\n\n    /**\n     * Gets the parent of the element if it matches the selector,\n     * otherwise returns null.\n     * @param {Element} element - Element to get parent of\n     * @param {string} [selector=\"\"] - Selector to match parent\n     * @returns {(Element|null)} - The sibling element or null\n     */\n    static parent(element, selector = \"\") {\n        return !selector || element.parentElement.matches(selector) ? element.parentElement : null;\n    }\n\n    /**\n     * Gets all children of Element that match the selector if provided.\n     * @param {Element} element - Element to get all children of\n     * @param {string} selector - Selector to match the children to\n     * @returns {Array<Element>} - The list of children\n     */\n    static findChild(element, selector) {\n        return element.querySelector(\":scope > \" + selector);\n    }\n\n    /**\n     * Gets all children of Element that match the selector if provided.\n     * @param {Element} element - Element to get all children of\n     * @param {string} selector - Selector to match the children to\n     * @returns {Array<Element>} - The list of children\n     */\n    static findChildren(element, selector) {\n        return element.querySelectorAll(\":scope > \" + selector);\n    }\n\n    /**\n     * Gets all ancestors of Element that match the selector if provided.\n     * @param {Element} element - Element to get all parents of\n     * @param {string} [selector=\"\"] - Selector to match the parents to\n     * @returns {Array<Element>} - The list of parents\n     */\n    static parents(element, selector = \"\") {\n        const parents = [];\n        if (selector) while (element.parentElement && element.parentElement.closest(selector)) parents.push(element = element.parentElement.closest(selector));\n        else while (element.parentElement) parents.push(element = element.parentElement);\n        return parents;\n    }\n\n    /**\n     * Gets the ancestors until an element matches the selector.\n     * @param {Element} element - Element to get the ancestors of\n     * @param {string} selector - Selector to stop at\n     * @returns {Array<Element>} - The list of parents\n     */\n    static parentsUntil(element, selector) {\n        const parents = [];\n        while (element.parentElement && !element.parentElement.matches(selector)) parents.push(element = element.parentElement);\n        return parents;\n    }\n\n    /**\n     * Gets all siblings of the element that match the selector.\n     * @param {Element} element - Element to get all siblings of\n     * @param {string} [selector=\"*\"] - Selector to match the siblings to\n     * @returns {Array<Element>} - The list of siblings\n     */\n    static siblings(element, selector = \"*\") {\n        return Array.from(element.parentElement.children).filter(e => e != element && e.matches(selector));\n    }\n\n    /**\n     * Sets or gets css styles for a specific element. If `value` is provided\n     * then it sets the style and returns the element to allow for chaining,\n     * otherwise returns the style.  \n     * @param {Element} element - Element to set the CSS of\n     * @param {string} attribute - Attribute to get or set\n     * @param {string} [value] - Value to set for attribute\n     * @returns {Element|string} - When setting a value, element is returned for chaining, otherwise the value is returned.\n     */\n    static css(element, attribute, value) {\n        if (typeof(value) == \"undefined\") return global.getComputedStyle(element)[attribute];\n        element.style[attribute] = value;\n        return element;\n    }\n\n    /**\n     * Sets or gets the width for a specific element. If `value` is provided\n     * then it sets the width and returns the element to allow for chaining,\n     * otherwise returns the width.  \n     * @param {Element} element - Element to set the CSS of\n     * @param {string} [value] - Width to set\n     * @returns {Element|string} - When setting a value, element is returned for chaining, otherwise the value is returned.\n     */\n    static width(element, value) {\n        if (typeof(value) == \"undefined\") return parseInt(getComputedStyle(element).width);\n        element.style.width = value;\n        return element;\n    }\n\n    /**\n     * Sets or gets the height for a specific element. If `value` is provided\n     * then it sets the height and returns the element to allow for chaining,\n     * otherwise returns the height.  \n     * @param {Element} element - Element to set the CSS of\n     * @param {string} [value] - Height to set\n     * @returns {Element|string} - When setting a value, element is returned for chaining, otherwise the value is returned.\n     */\n    static height(element, value) {\n        if (typeof(value) == \"undefined\") return parseInt(getComputedStyle(element).height);\n        element.style.height = value;\n        return element;\n    }\n\n    /**\n     * Sets the inner text of an element if given a value, otherwise returns it.\n     * @param {Element} element - Element to set the text of\n     * @param {string} [text] - Content to set\n     * @returns {string} - Either the string set by this call or the current text content of the node.\n     */\n    static text(element, text) {\n        if (typeof(text) == \"undefined\") return element.textContent;\n        return element.textContent = text;\n    }\n\n    /**\n     * Returns the innerWidth of the element.\n     * @param {Element} element - Element to retrieve inner width of\n     * @return {number} - The inner width of the element.\n     */\n    static innerWidth(element) {\n        return element.clientWidth;\n    }\n\n    /**\n     * Returns the innerHeight of the element.\n     * @param {Element} element - Element to retrieve inner height of\n     * @return {number} - The inner height of the element.\n     */\n    static innerHeight(element) {\n        return element.clientHeight;\n    }\n\n    /**\n     * Returns the outerWidth of the element.\n     * @param {Element} element - Element to retrieve outer width of\n     * @return {number} - The outer width of the element.\n     */\n    static outerWidth(element) {\n        return element.offsetWidth;\n    }\n\n    /**\n     * Returns the outerHeight of the element.\n     * @param {Element} element - Element to retrieve outer height of\n     * @return {number} - The outer height of the element.\n     */\n    static outerHeight(element) {\n        return element.offsetHeight;\n    }\n\n    /**\n     * Gets the offset of the element in the page.\n     * @param {Element} element - Element to get offset of\n     * @return {Offset} - The offset of the element\n     */\n    static offset(element) {\n        return element.getBoundingClientRect();\n    }\n\n    static get listeners() { return this._listeners || (this._listeners = {}); }\n\n    /**\n     * This is similar to jQuery's `on` function and can *hopefully* be used in the same way.\n     * \n     * Rather than attempt to explain, I'll show some example usages.\n     * \n     * The following will add a click listener (in the `myPlugin` namespace) to `element`.\n     * `DOMTools.on(element, \"click.myPlugin\", () => {console.log(\"clicked!\");});`\n     * \n     * The following will add a click listener (in the `myPlugin` namespace) to `element` that only fires when the target is a `.block` element.\n     * `DOMTools.on(element, \"click.myPlugin\", \".block\", () => {console.log(\"clicked!\");});`\n     * \n     * The following will add a click listener (without namespace) to `element`.\n     * `DOMTools.on(element, \"click\", () => {console.log(\"clicked!\");});`\n     * \n     * The following will add a click listener (without namespace) to `element` that only fires once.\n     * `const cancel = DOMTools.on(element, \"click\", () => {console.log(\"fired!\"); cancel();});`\n     * \n     * @param {Element} element - Element to add listener to\n     * @param {string} event - Event to listen to with option namespace (e.g. \"event.namespace\")\n     * @param {(string|callable)} delegate - Selector to run on element to listen to\n     * @param {callable} [callback] - Function to fire on event\n     * @returns {module:DOMTools~CancelListener} - A function that will undo the listener\n     */\n    static on(element, event, delegate, callback) {\n        const [type, namespace] = event.split(\".\");\n        const hasDelegate = delegate && callback;\n        if (!callback) callback = delegate;\n        const eventFunc = !hasDelegate ? callback : function(event) {\n            if (event.target.matches(delegate)) {\n                callback(event);\n            }\n        };\n\n        element.addEventListener(type, eventFunc);\n        const cancel = () => {\n            element.removeEventListener(type, eventFunc);\n        };\n        if (namespace) {\n            if (!this.listeners[namespace]) this.listeners[namespace] = [];\n            const newCancel = () => {\n                cancel();\n                this.listeners[namespace].splice(this.listeners[namespace].findIndex(l => l.event == type && l.element == element), 1);\n            };\n            this.listeners[namespace].push({\n                event: type,\n                element: element,\n                cancel: newCancel\n            });\n            return newCancel;\n        }\n        return cancel;\n    }\n\n    /**\n     * Functionality for this method matches {@link module:DOMTools.on} but automatically cancels itself\n     * and removes the listener upon the first firing of the desired event.\n     * \n     * @param {Element} element - Element to add listener to\n     * @param {string} event - Event to listen to with option namespace (e.g. \"event.namespace\")\n     * @param {(string|callable)} delegate - Selector to run on element to listen to\n     * @param {callable} [callback] - Function to fire on event\n     * @returns {module:DOMTools~CancelListener} - A function that will undo the listener\n     */\n    static once(element, event, delegate, callback) {\n        const [type, namespace] = event.split(\".\");\n        const hasDelegate = delegate && callback;\n        if (!callback) callback = delegate;\n        const eventFunc = !hasDelegate ? function(event) {\n            callback(event);\n            element.removeEventListener(type, eventFunc);\n        } : function(event) {\n            if (!event.target.matches(delegate)) return;\n            callback(event);\n            element.removeEventListener(type, eventFunc);\n        };\n\n        element.addEventListener(type, eventFunc);\n        const cancel = () => {\n            element.removeEventListener(type, eventFunc);\n        };\n        if (namespace) {\n            if (!this.listeners[namespace]) this.listeners[namespace] = [];\n            const newCancel = () => {\n                cancel();\n                this.listeners[namespace].splice(this.listeners[namespace].findIndex(l => l.event == type && l.element == element), 1);\n            };\n            this.listeners[namespace].push({\n                event: type,\n                element: element,\n                cancel: newCancel\n            });\n            return newCancel;\n        }\n        return cancel;\n    }\n\n    static __offAll(event, element) {\n        const [type, namespace] = event.split(\".\");\n        let matchFilter = listener => listener.event == type, defaultFilter = _ => _;\n        if (element) matchFilter = l => l.event == type && l.element == element, defaultFilter = l => l.element == element;\n        const listeners = this.listeners[namespace] || [];\n        const list = type ? listeners.filter(matchFilter) : listeners.filter(defaultFilter);\n        for (let c = 0; c < list.length; c++) list[c].cancel();\n    }\n    \n    /**\n     * This is similar to jQuery's `off` function and can *hopefully* be used in the same way.\n     * \n     * Rather than attempt to explain, I'll show some example usages.\n     * \n     * The following will remove a click listener called `onClick` (in the `myPlugin` namespace) from `element`.\n     * `DOMTools.off(element, \"click.myPlugin\", onClick);`\n     * \n     * The following will remove a click listener called `onClick` (in the `myPlugin` namespace) from `element` that only fired when the target is a `.block` element.\n     * `DOMTools.off(element, \"click.myPlugin\", \".block\", onClick);`\n     * \n     * The following will remove a click listener (without namespace) from `element`.\n     * `DOMTools.off(element, \"click\", onClick);`\n     * \n     * The following will remove all listeners in namespace `myPlugin` from `element`.\n     * `DOMTools.off(element, \".myPlugin\");`\n     * \n     * The following will remove all click listeners in namespace `myPlugin` from *all elements*.\n     * `DOMTools.off(\"click.myPlugin\");`\n     * \n     * The following will remove all listeners in namespace `myPlugin` from *all elements*.\n     * `DOMTools.off(\".myPlugin\");`\n     * \n     * @param {(Element|string)} element - Element to remove listener from\n     * @param {string} [event] - Event to listen to with option namespace (e.g. \"event.namespace\")\n     * @param {(string|callable)} [delegate] - Selector to run on element to listen to\n     * @param {callable} [callback] - Function to fire on event\n     * @returns {Element} - The original element to allow for chaining\n     */\n    static off(element, event, delegate, callback) {\n        if (typeof(element) == \"string\") return this.__offAll(element);\n        const [type, namespace] = event.split(\".\");\n        if (namespace) return this.__offAll(event, element);\n\n        const hasDelegate = delegate && callback;\n        if (!callback) callback = delegate;\n        const eventFunc = !hasDelegate ? callback : function(event) {\n            if (event.target.matches(delegate)) {\n                callback(event);\n            }\n        };\n\n        element.removeEventListener(type, eventFunc);\n        return element;\n    }\n\n    /**\n     * Adds a listener for when the node is added/removed from the document body.\n     * The listener is automatically removed upon firing.\n     * @param {HTMLElement} node - node to wait for\n     * @param {callable} callback - function to be performed on event\n     * @param {boolean} onMount - determines if it should fire on Mount or on Unmount\n     */\n    static onMountChange(node, callback, onMount = true) {\n        const wrappedCallback = () => {\n            this.observer.unsubscribe(wrappedCallback);\n            callback();\n        };\n        this.observer.subscribe(wrappedCallback, mutation => {\n            const nodes = Array.from(onMount ? mutation.addedNodes : mutation.removedNodes);\n            const directMatch = nodes.indexOf(node) > -1;\n            const parentMatch = nodes.some(parent => parent.contains(node));\n            return directMatch || parentMatch;\n        });\n        return node;\n    }\n\n    /** Shorthand for {@link module:DOMTools.onMountChange} with third parameter `true` */\n    static onMount(node, callback) { return this.onMountChange(node, callback); }\n\n    /** Shorthand for {@link module:DOMTools.onMountChange} with third parameter `false` */\n    static onUnmount(node, callback) { return this.onMountChange(node, callback, false); }\n\n    /** Alias for {@link module:DOMTools.onMount} */\n    static onAdded(node, callback) { return this.onMount(node, callback); }\n\n    /** Alias for {@link module:DOMTools.onUnmount} */\n    static onRemoved(node, callback) { return this.onUnmount(node, callback, false); }\n\n    /**\n     * Helper function which combines multiple elements into one parent element\n     * @param {Array<HTMLElement>} elements - array of elements to put into a single parent\n     */\n    static wrap(elements) {\n        const domWrapper = this.parseHTML(`<div class=\"dom-wrapper\"></div>`);\n        for (let e = 0; e < elements.length; e++) domWrapper.appendChild(elements[e]);\n        return domWrapper;\n    }\n\n    /**\n     * Resolves the node to an HTMLElement. This is mainly used by library modules.\n     * @param {(jQuery|Element)} node - node to resolve\n     */\n    static resolveElement(node) {\n        if (!(node instanceof jQuery) && !(node instanceof Element)) return undefined;\n        return node instanceof jQuery ? node[0] : node;\n    }\n}\n\nwindow.Lightcord.BetterDiscord.DOM = DOMTools","import {bdthemeErrors, themeCookie, settingsCookie, bdthemes} from \"../0globals\";\nimport ContentManager from \"./contentManager\";\nimport DataStore from \"./dataStore\";\nimport BDEvents from \"./bdEvents\";\nimport Utils from \"./utils\";\nimport DOM from \"./domtools\";\nimport bdEvents from \"./bdEvents\";\n\nclass ThemeModule {\n    constructor(){\n        window.Lightcord.BetterDiscord.ThemeModule = this\n    }\n    get folder() {return ContentManager.themesFolder;}\n}\n\nThemeModule.prototype.loadThemes = async function () {\n    this.loadThemeData();\n    bdthemeErrors.splice(0, 0, ...(await ContentManager.loadThemes()));\n    const themes = Object.keys(bdthemes);\n\n    for (let i = 0; i < themes.length; i++) {\n        const theme = bdthemes[themes[i]];\n        if (!themeCookie[theme.name]) themeCookie[theme.name] = false;\n        if (themeCookie[theme.name]) DOM.addStyle(DOM.escapeID(theme.id), unescape(theme.css));\n\n        await new Promise((resolve) => setTimeout(resolve, 10))\n    }\n    for (const theme in themeCookie) {\n        if (!bdthemes[theme]) delete themeCookie[theme];\n    }\n    this.saveThemeData();\n    // if (settingsCookie[\"fork-ps-5\"]) ContentManager.watchContent(\"theme\");\n};\n\nThemeModule.prototype.enableTheme = function(name, reload = false) {\n    themeCookie[name] = true;\n    this.saveThemeData();\n    const theme = bdthemes[name];\n    DOM.addStyle(DOM.escapeID(theme.id), unescape(theme.css));\n    bdEvents.dispatch(\"theme-enabled\")\n    if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${theme.name} v${theme.version} has been applied.`);\n};\n\nThemeModule.prototype.enable = function (name, reload = false) {\n    return this.enableTheme(name, reload);\n};\n\nThemeModule.prototype.disableTheme = function(name, reload = false) {\n    themeCookie[name] = false;\n    this.saveThemeData();\n    const theme = bdthemes[name];\n    DOM.removeStyle(DOM.escapeID(theme.id));\n    bdEvents.dispatch(\"theme-disabled\")\n    if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${theme.name} v${theme.version} has been disabled.`);\n};\n\nThemeModule.prototype.disable = function (name, reload = false) {\n    return this.disableTheme(name, reload);\n};\n\nThemeModule.prototype.toggleTheme = function(theme) {\n    if (themeCookie[theme]) this.disableTheme(theme);\n    else this.enableTheme(theme);\n};\n\nThemeModule.prototype.toggle = function (name) {\n    return this.toggleTheme(name);\n};\n\nThemeModule.prototype.loadTheme = async function(filename) {\n    const error = await ContentManager.loadContent(filename, \"theme\");\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({themes: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${filename} could not be loaded. It may not have been loaded.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${filename} could not be loaded.`, error);\n    }\n    const theme = Object.values(bdthemes).find(p => p.filename == filename);\n    Utils.log(\"ContentManager\", `${theme.name} v${theme.version} was loaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme.name} v${theme.version} was loaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"theme-loaded\", theme.name);\n};\n\nThemeModule.prototype.unloadTheme = function(filenameOrName) {\n    const bdtheme = Object.values(bdthemes).find(p => p.filename == filenameOrName) || bdthemes[filenameOrName];\n    if (!bdtheme) return;\n    const theme = bdtheme.name;\n    if (themeCookie[theme]) this.disableTheme(theme, true);\n    const error = ContentManager.unloadContent(bdthemes[theme].filename, \"theme\");\n    delete bdthemes[theme];\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({themes: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme} could not be unloaded. It may have not been loaded yet.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${theme} could not be unloaded. It may have not been loaded yet.`, error);\n    }\n    Utils.log(\"ContentManager\", `${theme} was unloaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme} was unloaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"theme-unloaded\", theme);\n};\n\nThemeModule.prototype.delete = function(filenameOrName) {\n    const bdtheme = Object.values(bdthemes).find(p => p.filename == filenameOrName) || bdthemes[filenameOrName];\n    if (!bdtheme) return;\n    this.unloadTheme(bdtheme.filename);\n    const fullPath = require(\"path\").resolve(ContentManager.themesFolder, bdtheme.filename);\n    require(\"fs\").unlinkSync(fullPath);\n};\n\nThemeModule.prototype.reloadTheme = async function(filenameOrName) {\n    const bdtheme = Object.values(bdthemes).find(p => p.filename == filenameOrName) || bdthemes[filenameOrName];\n    if (!bdtheme) return this.loadTheme(filenameOrName);\n    const theme = bdtheme.name;\n    const error = await ContentManager.reloadContent(bdthemes[theme].filename, \"theme\");\n    if (themeCookie[theme]) this.disableTheme(theme, true), this.enableTheme(theme, true);\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({themes: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme} could not be reloaded.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${theme} could not be reloaded.`, error);\n    }\n    Utils.log(\"ContentManager\", `${theme} v${bdthemes[theme].version} was reloaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme} v${bdthemes[theme].version} was reloaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"theme-reloaded\", theme);\n};\n\nThemeModule.prototype.reload = function(name) {\n    return this.reloadTheme(name);\n};\n\nThemeModule.prototype.edit = function(filenameOrName) {\n    const bdplugin = Object.values(bdthemes).find(p => p.filename == filenameOrName) || bdthemes[filenameOrName];\n    if (!bdplugin) return;\n    const fullPath = require(\"path\").resolve(ContentManager.themesFolder, bdplugin.filename);\n    require(\"electron\").shell.openItem(`${fullPath}`);\n};\n\nThemeModule.prototype.updateThemeList = function() {\n    const results = ContentManager.loadNewContent(\"theme\");\n    for (const filename of results.added) this.loadTheme(filename);\n    for (const name of results.removed) this.unloadTheme(name);\n};\n\nThemeModule.prototype.loadThemeData = function() {\n    const saved = DataStore.getSettingGroup(\"themes\");\n    if (saved) {\n        Object.assign(themeCookie, saved);\n    }\n};\n\nThemeModule.prototype.saveThemeData = function () {\n    DataStore.setSettingGroup(\"themes\", themeCookie);\n};\n\nexport default new ThemeModule();","import {settings} from \"../0globals\";\nimport themeModule from \"./themeModule\";\n\nexport default new class V2 {\n\n    constructor() {\n        this.editorDetached = false;\n        this.WebpackModules = (() => {\n            const req = webpackJsonp.push([[], {__extra_id__: (module, exports, req) => module.exports = req}, [[\"__extra_id__\"]]]);\n            delete req.m.__extra_id__;\n            delete req.c.__extra_id__;\n\n            const shouldProtect = theModule => {\n                if (theModule.remove && theModule.set && theModule.clear && theModule.get && !theModule.sort) return true;\n                if (theModule.getToken || theModule.getEmail || theModule.showToken) return true;\n                return false;\n            };\n\n            const protect = (theModule, isDefault) => {\n                let mod = !isDefault ? theModule.default : theModule\n                if(!mod)return theModule\n                if (mod.remove && mod.set && mod.clear && mod.get && !mod.sort) return null;\n                if (!mod.getToken && !mod.getEmail && !mod.showToken)return theModule\n\n                const proxy = new Proxy(mod, {\n                    getOwnPropertyDescriptor: function(obj, prop) {\n                        if (prop === \"getToken\" || prop === \"getEmail\" || prop === \"showToken\") return undefined;\n                        return Object.getOwnPropertyDescriptor(obj, prop);\n                    },\n                    get: function(obj, func) {\n                        if (func == \"getToken\" && obj.getToken) return () => \"mfa.XCnbKzo0CLIqdJzBnL0D8PfDruqkJNHjwHXtr39UU3F8hHx43jojISyi5jdjO52e9_e9MjmafZFFpc-seOMa\";\n                        if (func == \"getEmail\" && obj.getEmail) return () => \"puppet11112@gmail.com\";\n                        if (func == \"showToken\" && obj.showToken) return () => true;\n                        if (func == \"__proto__\" && obj.__proto__) return proxy;\n                        \n                        return obj[func];\n                    }\n                });\n\n                if(!isDefault){\n                    return Object.assign({}, theModule, {default: proxy})\n                }\n\n                return proxy;\n            };\n\n            const find = (filter) => {\n                for (const i in req.c) {\n                    if (req.c.hasOwnProperty(i)) {\n                        const m = req.c[i].exports;\n                        if (m && m.__esModule && m.default && filter(m.default)) return protect(m.default, true);\n                        if (m && filter(m))\treturn protect(m, false);\n                    }\n                }\n                // console.warn(\"Cannot find loaded module in cache\");\n                return null;\n            };\n\n            const findAll = (filter) => {\n                const modules = [];\n                for (const i in req.c) {\n                    if (req.c.hasOwnProperty(i)) {\n                        const m = req.c[i].exports;\n                        if (m && m.__esModule && m.default && filter(m.default)) modules.push(protect(m.default, true));\n                        else if (m && filter(m)) modules.push(protect(m, false));\n                    }\n                }\n                return modules;\n            };\n\n            const findByUniqueProperties = (propNames) => find(module => propNames.every(prop => module[prop] !== undefined));\n            const findByPrototypes = (protoNames) => find(module => module.prototype && protoNames.every(protoProp => module.prototype[protoProp] !== undefined));\n            const findByDisplayName = (displayName) => find(module => module.displayName === displayName);\n\n            return {find, findAll, findByUniqueProperties, findByPrototypes, findByDisplayName};\n        })();\n\n        this.internal = {\n            react: this.WebpackModules.findByUniqueProperties([\"Component\", \"PureComponent\", \"Children\", \"createElement\", \"cloneElement\"]),\n            reactDom: this.WebpackModules.findByUniqueProperties([\"findDOMNode\"])\n        };\n        this.getInternalInstance = e => e[Object.keys(e).find(k => k.startsWith(\"__reactInternalInstance\"))];\n        window.Lightcord.BetterDiscord.V2 = this\n    }\n\n    initialize() {\n\n    }\n\n    joinBD1() {this.InviteActions.acceptInviteAndTransitionToInviteChannel(\"0Tmfo5ZbORCRqbAd\");}\n    leaveBD1() {this.GuildActions.leaveGuild(\"86004744966914048\");}\n\n    joinBD2() {this.InviteActions.acceptInviteAndTransitionToInviteChannel(\"2HScm8j\");}\n    leaveBD2() {this.GuildActions.leaveGuild(\"280806472928198656\");}\n\n    joinLC() {this.InviteActions.acceptInviteAndTransitionToInviteChannel(\"7eFff2A\");}\n    leaveLC() {this.GuildActions.leaveGuild(\"705908350218666117\");}\n\n    /**\n     * @type {typeof React}\n     */\n    get react() {return this.internal.react;}\n    /**\n     * @type {typeof React}\n     */\n    get React() {return this.internal.react;}\n    /**\n     * @type {typeof import(\"react-dom\")}\n     */\n    get reactDom() {return this.internal.reactDom;}\n    /**\n     * @type {typeof import(\"react-dom\")}\n     */\n    get ReactDom() {return this.internal.reactDom;}\n    /**\n     * @type {typeof React.Component}\n     */\n    get reactComponent() {return this.internal.react.Component;}\n    /**\n     * @type {typeof React.Component}\n     */\n    get ReactComponent() {return this.internal.react.Component;}\n\n    get anchorClasses() {return this.WebpackModules.findByUniqueProperties([\"anchorUnderlineOnHover\"]) || {anchor: \"anchor-3Z-8Bb\", anchorUnderlineOnHover: \"anchorUnderlineOnHover-2ESHQB\"};}\n    get slateEditorClasses() {return this.WebpackModules.findByUniqueProperties([\"slateTextArea\"]);}\n    get messageClasses() {return this.WebpackModules.findByUniqueProperties([\"message\", \"containerCozy\"]);}\n    get guildClasses() {\n\t\tconst guildsWrapper = BDModules.get(e => e.wrapper && e.unreadMentionsBar)[0];\n        const guilds = BDModules.get(e => e.guildsError && e.selected)[0]\n        const pill = BDModules.get(e => e.blobContainer)[0]\n        return Object.assign({}, guildsWrapper, guilds, pill);\n\t}\n\n    get MessageContentComponent() {return this.WebpackModules.find(m => m.defaultProps && m.defaultProps.hasOwnProperty(\"disableButtons\"));}\n    get MessageComponent() {return this.WebpackModules.find(m => m.default && m.default.displayName && m.default.displayName == \"Message\");}\n    get TimeFormatter() {return this.WebpackModules.findByUniqueProperties([\"dateFormat\"]);}\n    get TooltipWrapper() {return this.WebpackModules.findByDisplayName(\"Tooltip\");}\n    get NativeModule() {return this.WebpackModules.findByUniqueProperties([\"setBadge\"]);}\n    get InviteActions() {return this.WebpackModules.findByUniqueProperties([\"acceptInvite\"]);}\n    get GuildActions() {return this.WebpackModules.findByUniqueProperties([\"leaveGuild\"]);}\n    get Tooltips() {return this.WebpackModules.find(m => m.hide && m.show && !m.search && !m.submit && !m.search && !m.activateRagingDemon && !m.dismiss);}\n    get KeyGenerator() {return this.WebpackModules.find(m => m.toString && /\"binary\"/.test(m.toString()));}\n    get LayerStack() {return this.WebpackModules.findByUniqueProperties([\"popLayer\"]);}\n    get UserStore() {return this.WebpackModules.findByUniqueProperties([\"getCurrentUser\"]);}\n    get ChannelStore() {return this.WebpackModules.findByUniqueProperties([\"getChannel\"]);}\n    get ChannelActions() {return this.WebpackModules.findByUniqueProperties([\"openPrivateChannel\"]);}\n    get PrivateChannelActions() {return this.WebpackModules.findByUniqueProperties([\"selectPrivateChannel\"]);}\n\n    openDM(userId) {\n        const selfId = this.UserStore.getCurrentUser().id;\n        if (selfId == userId) return;\n        const privateChannelId = this.ChannelStore.getDMFromUserId(userId);\n        if (privateChannelId) return this.PrivateChannelActions.selectPrivateChannel(privateChannelId);\n        this.ChannelActions.openPrivateChannel(selfId, userId);\n    }\n\n    parseSettings(cat) {\n        return Object.keys(settings).reduce((arr, key) => {\n            const setting = settings[key];\n            if (setting.cat === cat && setting.implemented && !setting.hidden) {\n                setting.text = key;\n                arr.push(setting);\n            } return arr;\n        }, []);\n    }\n\n};","import {bbdVersion} from \"../0globals\";\nimport WebpackModules from \"./webpackModules\";\nimport BDV2 from \"./v2\";\nimport DOM from \"./domtools\";\nexport default class Utils {\n    /** Document/window width */\n    static get screenWidth() { return Math.max(document.documentElement.clientWidth, window.innerWidth || 0); }\n    /** Document/window height */\n    static get screenHeight() { return Math.max(document.documentElement.clientHeight, window.innerHeight || 0); }\n\n    static get WindowConfigFile() {\n        return this._windowConfigFile = null;\n    }\n\n    static getAllWindowPreferences() {\n        return {\n            transparent: true,\n            frame: false\n        };\n    }\n    \n    static getWindowPreference(key) {\n        if (key === \"transparent\") return true;\n        if (key === \"frame\") return false;\n        return null;\n    }\n    \n    static setWindowPreference(key, value) {\n        if (key === \"transparent\") return true;\n        if (key === \"frame\") return false;\n        return null;\n    }\n\n    static stripBOM(content) {\n        if (content.charCodeAt(0) === 0xFEFF) {\n            content = content.slice(1);\n        }\n        return content;\n    }\n\n    static getTextArea() {\n        return DOM.query(\".\"+removeDa(BDModules.get(e => e.channelTextArea && e.titleWrapper)[0].channelTextArea)+\" textarea\");\n    }\n\n    static insertText(textarea, text) {\n        textarea.focus();\n        textarea.selectionStart = 0;\n        textarea.selectionEnd = textarea.value.length;\n        document.execCommand(\"insertText\", false, text);\n    }\n\n    static escapeID(id) {\n        return id.replace(/^[^a-z]+|[^\\w-]+/gi, \"-\");\n    }\n\n    static log(moduleName, message) {\n        console.log(`%c[BandagedBD]%c [${moduleName}]%c ${message}`, \"color: #3a71c1; font-weight: 700;\", \"color: #3a71c1;\", \"\");\n    }\n\n    static warn(moduleName, message) {\n        console.warn(`%c[BandagedBD]%c [${moduleName}]%c ${message}`, \"color: #E8A400; font-weight: 700;\", \"color: #E8A400;\", \"\");\n    }\n\n    static err(moduleName, message, error) {\n        console.log(`%c[BandagedBD]%c [${moduleName}]%c ${message}`, \"color: red; font-weight: 700;\", \"color: red;\", \"\");\n        if (error) {\n            console.groupCollapsed(\"%cError: \" + error.message, \"color: red;\");\n            console.error(error.stack);\n            console.groupEnd();\n        }\n    }\n\n    /**\n     * Format strings with placeholders (`{{placeholder}}`) into full strings.\n     * Quick example: `PluginUtilities.formatString(\"Hello, {{user}}\", {user: \"Zerebos\"})`\n     * would return \"Hello, Zerebos\".\n     * @param {string} string - string to format\n     * @param {object} values - object literal of placeholders to replacements\n     * @returns {string} the properly formatted string\n     */\n    static formatString(string, values) {\n        for (const val in values) {\n            let replacement = values[val];\n            if (Array.isArray(replacement)) replacement = JSON.stringify(replacement);\n            if (typeof(replacement) === \"object\" && replacement !== null) replacement = replacement.toString();\n            string = string.replace(new RegExp(`{{${val}}}`, \"g\"), replacement);\n        }\n        return string;\n    }\n\n    static escape(s) {\n        return s.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n    }\n\n    static testJSON(data) {\n        try {\n            return JSON.parse(data);\n        }\n        catch (err) {\n            return false;\n        }\n    }\n\n    static isEmpty(obj) {\n        if (obj == null || obj == undefined || obj == \"\") return true;\n        if (typeof(obj) !== \"object\") return false;\n        if (Array.isArray(obj)) return obj.length == 0;\n        for (const key in obj) {\n            if (obj.hasOwnProperty(key)) return false;\n        }\n        return true;\n    }\n\n    static suppressErrors(method, message) {\n        return (...params) => {\n            try { return method(...params);\t}\n            catch (e) { this.err(\"SuppressedError\", \"Error occurred in \" + message, e); }\n        };\n    }\n\n    static monkeyPatch(what, methodName, options) {\n        const {before, after, instead, once = false, silent = false, force = false} = options;\n        const displayName = options.displayName || what.displayName || what[methodName].displayName || what.name || what.constructor.displayName || what.constructor.name;\n        if (!silent) console.log(\"patch\", methodName, \"of\", displayName); // eslint-disable-line no-console\n        if (!what[methodName]) {\n            if (force) what[methodName] = function() {};\n            else return console.error(methodName, \"does not exist for\", displayName); // eslint-disable-line no-console\n        }\n        const origMethod = what[methodName];\n        let canceled = false\n        const cancel = () => {\n            if (!silent) console.log(\"unpatch\", methodName, \"of\", displayName); // eslint-disable-line no-console\n            //what[methodName] = origMethod;\n            canceled = true // this allow to monkeypatch more than one time.\n        };\n        what[methodName] = function() {\n            if(canceled){\n                return origMethod.call(this, ...arguments)\n            }\n            const data = {\n                thisObject: this,\n                methodArguments: arguments,\n                cancelPatch: cancel,\n                originalMethod: origMethod,\n                callOriginalMethod: () => data.returnValue = data.originalMethod.apply(data.thisObject, data.methodArguments)\n            };\n            if (instead) {\n                const tempRet = Utils.suppressErrors(instead, \"`instead` callback of \" + what[methodName].displayName)(data);\n                if (tempRet !== undefined) data.returnValue = tempRet;\n            }\n            else {\n                if (before) Utils.suppressErrors(before, \"`before` callback of \" + what[methodName].displayName)(data);\n                data.callOriginalMethod();\n                if (after) Utils.suppressErrors(after, \"`after` callback of \" + what[methodName].displayName)(data);\n            }\n            if (once) cancel();\n            return data.returnValue;\n        };\n        Object.assign(what[methodName], origMethod);\n        what[methodName].__monkeyPatched = true;\n        what[methodName].displayName = displayName;\n        if (!what[methodName].__originalMethod) {\n            what[methodName].__originalMethod = origMethod;\n            what[methodName].toString = function() {return origMethod.toString();};\n        }\n        return cancel;\n    }\n\n    static onRemoved(node, callback) {\n        const observer = new MutationObserver((mutations) => {\n            for (let m = 0; m < mutations.length; m++) {\n                const mutation = mutations[m];\n                const nodes = Array.from(mutation.removedNodes);\n                const directMatch = nodes.indexOf(node) > -1;\n                const parentMatch = nodes.some(parent => parent.contains(node));\n                if (directMatch || parentMatch) {\n                    observer.disconnect();\n                    callback();\n                }\n            }\n        });\n\n        observer.observe(document.body, {subtree: true, childList: true});\n    }\n\n    static getNestedProp(obj, path) {\n        return path.split(/\\s?\\.\\s?/).reduce(function(obj, prop) {\n            return obj && obj[prop];\n        }, obj);\n    }\n\n    /**\n     * This shows a toast similar to android towards the bottom of the screen.\n     *\n     * @param {string} content The string to show in the toast.\n     * @param {object} options Options object. Optional parameter.\n     * @param {string} options.type Changes the type of the toast stylistically and semantically. Choices: \"\", \"info\", \"success\", \"danger\"/\"error\", \"warning\"/\"warn\". Default: \"\"\n     * @param {boolean} options.icon Determines whether the icon should show corresponding to the type. A toast without type will always have no icon. Default: true\n     * @param {number} options.timeout Adjusts the time (in ms) the toast should be shown for before disappearing automatically. Default: 3000\n     */\n    static showToast(content, options = {}) {\n        if (!document.querySelector(\".bd-toasts\")) {\n            const container = document.querySelector(\".\"+removeDa(BDModules.get(e => e.sidebar && e.hasNotice)[0].sidebar)+\" + div\") || null;\n            const form = container ? container.querySelector(\"form\") : null;\n            const bottom = form ? form.offsetHeight : 80;\n            const toastWrapper = document.createElement(\"div\");\n            toastWrapper.classList.add(\"bd-toasts\");\n            toastWrapper.style.setProperty(\"bottom\", bottom+\"px\");\n            document.querySelector(\"#app-mount\").appendChild(toastWrapper);\n        }\n        const toastWrapper = document.querySelector(\".bd-toasts\")\n        const {type = \"\", icon = true, timeout = 3000} = options;\n        const toastElem = document.createElement(\"div\");\n        toastElem.classList.add(\"bd-toast\");\n        if (type) toastElem.classList.add(\"toast-\" + type);\n        if (type && icon) toastElem.classList.add(\"icon\");\n        toastElem.innerText = content;\n        toastWrapper.appendChild(toastElem);\n        toastWrapper.style.setProperty(\"left\", `calc(50% - ${toastWrapper.offsetWidth / 2}px)`);\n        setTimeout(() => {\n            toastElem.classList.add(\"closing\");\n            setTimeout(() => {\n                toastElem.remove();\n                if (!document.querySelectorAll(\".bd-toasts .bd-toast\").length) document.querySelector(\".bd-toasts\").remove();\n            }, 300);\n        }, timeout);\n    }\n\n    static alert(title, content) {\n        let modalModule = BDModules.get(e => e.modal && e.inner && !e.hideOnFullscreen)[0]\n        let headerModule = BDModules.get(e => e.header && e.responsiveWidthMobile && e.hideOnFullscreen)[0]\n        let footer2Module = BDModules.get(e => e.header && e.responsiveWidthMobile && e.focusLock)[0]\n        const modal = DOM.createElement(`<div class=\"bd-modal-wrapper theme-dark\">\n                        <div class=\"bd-backdrop ${BDModules.get(e => e.backdrop && e.backdropWithLayer)[0].backdrop}\"></div>\n                        <div class=\"bd-modal ${modalModule.modal}\">\n                            <div class=\"bd-modal-inner ${modalModule.inner}\">\n                                <div class=\"header ${headerModule.header}\">\n                                    <div class=\"title\">${title}</div>\n                                </div>\n                                <div class=\"bd-modal-body\">\n                                    <div class=\"scroller-wrap fade\">\n                                        <div class=\"scroller\">\n                                            ${content}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"footer ${headerModule.footer} ${footer2Module.footer}\">\n                                    <button type=\"button\">Okay</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`);\n        modal.querySelector(\".footer button\").addEventListener(\"click\", () => {\n            DOM.addClass(modal, \"closing\");\n            setTimeout(() => { \n                modal.remove(); \n                closingListeners.forEach((listener) => {\n                    try{\n                        listener()\n                    }catch(e){\n                        console.error(e)\n                    }\n                })\n            }, 300);\n        });\n        modal.querySelector(\".bd-backdrop\").addEventListener(\"click\", () => {\n            DOM.addClass(modal, \"closing\");\n            setTimeout(() => { \n                modal.remove(); \n                closingListeners.forEach((listener) => {\n                    try{\n                        listener()\n                    }catch(e){\n                        console.error(e)\n                    }\n                })\n            }, 300);\n        });\n        DOM.query(\"#app-mount\").append(modal);\n        const closingListeners = []\n        return {\n            close: () => {\n                DOM.addClass(modal, \"closing\");\n                setTimeout(() => { \n                    modal.remove(); \n                    closingListeners.forEach((listener) => {\n                        try{\n                            listener()\n                        }catch(e){\n                            console.error(e)\n                        }\n                    })\n                }, 300);\n            },\n            onClose: (listener) => {\n                closingListeners.push(listener)\n            }\n        }\n    }\n\n    static showContentErrors({plugins: pluginErrors = [], themes: themeErrors = []}) {\n        if (!pluginErrors || !themeErrors) return;\n        if (!pluginErrors.length && !themeErrors.length) return;\n        let modalModule = BDModules.get(e => e.modal && e.inner && !e.hideOnFullscreen)[0]\n        let headerModule = BDModules.get(e => e.header && e.responsiveWidthMobile && e.hideOnFullscreen)[0]\n        let footer2Module = BDModules.get(e => e.header && e.responsiveWidthMobile && e.focusLock)[0]\n        const modal = DOM.createElement(`<div class=\"bd-modal-wrapper theme-dark\">\n                        <div class=\"bd-backdrop ${BDModules.get(e => e.backdrop && e.backdropWithLayer)[0].backdrop}\"></div>\n                        <div class=\"bd-modal bd-content-modal ${modalModule.modal}\">\n                            <div class=\"bd-modal-inner ${modalModule.inner}\">\n                                <div class=\"header ${headerModule.header}\"><div class=\"title\">Content Errors</div></div>\n                                <div class=\"bd-modal-body\">\n                                    <div class=\"tab-bar-container\">\n                                        <div class=\"tab-bar TOP\">\n                                            <div class=\"tab-bar-item\">Plugins</div>\n                                            <div class=\"tab-bar-item\">Themes</div>\n                                        </div>\n                                    </div>\n                                    <div class=\"table-header\">\n                                        <div class=\"table-column column-name\">Name</div>\n                                        <div class=\"table-column column-message\">Message</div>\n                                        <div class=\"table-column column-error\">Error</div>\n                                    </div>\n                                    <div class=\"scroller-wrap fade\">\n                                        <div class=\"scroller\">\n    \n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"footer ${headerModule.footer} ${footer2Module.footer}\">\n                                    <button type=\"button\">Okay</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`);\n    \n        function generateTab(errors) {\n            const container = DOM.createElement(`<div class=\"errors\">`);\n            for (const err of errors) {\n                const error = DOM.createElement(`<div class=\"error\">\n                                    <div class=\"table-column column-name\">${err.name ? err.name : err.file}</div>\n                                    <div class=\"table-column column-message\">${err.message}</div>\n                                    <div class=\"table-column column-error\"><a class=\"error-link\" href=\"\">${err.error ? err.error.message : \"\"}</a></div>\n                                </div>`);\n                container.append(error);\n                if (err.error) {\n                    error.querySelectorAll(\"a\").forEach(el => el.addEventListener(\"click\", (e) => {\n                        e.preventDefault();\n                        Utils.err(\"ContentManager\", `Error details for ${err.name ? err.name : err.file}.`, err.error);\n                    }));\n                }\n            }\n            return container;\n        }\n    \n        const tabs = [generateTab(pluginErrors), generateTab(themeErrors)];\n    \n        modal.querySelectorAll(\".tab-bar-item\").forEach(el => el.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            const selected = modal.querySelector(\".tab-bar-item.selected\");\n            if (selected) DOM.removeClass(selected, \"selected\");\n            DOM.addClass(e.target, \"selected\");\n            const scroller = modal.querySelector(\".scroller\");\n            scroller.innerHTML = \"\";\n            scroller.append(tabs[DOM.index(e.target)]);\n        }));\n    \n        modal.querySelector(\".footer button\").addEventListener(\"click\", () => {\n            DOM.addClass(modal, \"closing\");\n            setTimeout(() => { modal.remove(); }, 300);\n        });\n        modal.querySelector(\".bd-backdrop\").addEventListener(\"click\", () => {\n            DOM.addClass(modal, \"closing\");\n            setTimeout(() => { modal.remove(); }, 300);\n        });\n        DOM.query(\"#app-mount\").append(modal);\n        if (pluginErrors.length) modal.querySelector(\".tab-bar-item\").click();\n        else modal.querySelectorAll(\".tab-bar-item\")[1].click();\n    }\n\n    static showChangelogModal(options = {}) {\n        const ModalStack = WebpackModules.findByProps(\"push\", \"update\", \"pop\", \"popWithKey\");\n        const ChangelogClasses = WebpackModules.findByProps(\"fixed\", \"improved\");\n        const TextElement = WebpackModules.findByDisplayName(\"Text\");\n        const FlexChild = WebpackModules.findByProps(\"Child\");\n        const Titles = WebpackModules.findByProps(\"Tags\", \"default\");\n        const Changelog = WebpackModules.find(m => m.defaultProps && m.defaultProps.selectable == false);\n        const MarkdownParser = WebpackModules.findByProps(\"defaultRules\", \"parse\");\n        if (!Changelog || !ModalStack || !ChangelogClasses || !TextElement || !FlexChild || !Titles || !MarkdownParser) return;\n    \n        const {\n            image = \"https://repository-images.githubusercontent.com/105473537/957b5480-7c26-11e9-8401-50fa820cbae5\", \n            description = \"\", \n            changes = [], \n            title = \"BandagedBD\", \n            subtitle = `v${bbdVersion}`, \n            footer\n        } = options;\n        const ce = BDV2.React.createElement;\n        const changelogItems = [ce(\"img\", {src: image})];\n        if (description) changelogItems.push(ce(\"p\", null, MarkdownParser.parse(description)));\n        for (let c = 0; c < changes.length; c++) {\n            const entry = changes[c];\n            const type = ChangelogClasses[entry.type] ? ChangelogClasses[entry.type] : ChangelogClasses.added;\n            const margin = c == 0 ? ChangelogClasses.marginTop : \"\";\n            changelogItems.push(ce(\"h1\", {className: `${type} ${margin}`,}, entry.title));\n            const list = ce(\"ul\", null, entry.items.map(i => ce(\"li\", null, MarkdownParser.parse(i))));\n            changelogItems.push(list);\n        }\n        const renderHeader = function() {\n            return ce(FlexChild.Child, {grow: 1, shrink: 1},\n                ce(Titles.default, {tag: Titles.Tags.H4}, title),\n                ce(TextElement,{size: TextElement.Sizes.SMALL, color: TextElement.Colors.STANDARD, className: ChangelogClasses.date}, subtitle)\n            );\n        };\n    \n        const renderFooter = () => {\n            const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n            const AnchorClasses = WebpackModules.findByProps(\"anchorUnderlineOnHover\") || {anchor: \"anchor-3Z-8Bb\", anchorUnderlineOnHover: \"anchorUnderlineOnHover-2ESHQB\"};\n            const joinSupportServer = (click) => {\n                click.preventDefault();\n                click.stopPropagation();\n                ModalStack.pop();\n                BDV2.joinBD2();\n            };\n            const supportLink = Anchor ? ce(Anchor, {onClick: joinSupportServer}, \"Join our Discord Server.\") : ce(\"a\", {className: `${AnchorClasses.anchor} ${AnchorClasses.anchorUnderlineOnHover}`, onClick: joinSupportServer}, \"Join our Discord Server.\");\n            const defaultFooter = ce(TextElement,{size: TextElement.Sizes.SMALL, color: TextElement.Colors.STANDARD}, \"Need support? \", supportLink);\n            return ce(FlexChild.Child, {grow: 1, shrink: 1}, footer ? footer : defaultFooter);\n        };\n\n        return ModalStack.push(function(props) {\n            return ce(Changelog, Object.assign({\n                className: ChangelogClasses.container,\n                selectable: true,\n                onScroll: _ => _,\n                onClose: _ => _,\n                renderHeader: renderHeader,\n                renderFooter: renderFooter,\n                children: changelogItems\n            }, props));\n        });\n    }\n\n    /**\n     * Shows a generic but very customizable confirmation modal with optional confirm and cancel callbacks.\n     * @param {string} title - title of the modal\n     * @param {(string|ReactElement|Array<string|ReactElement>)} children - a single or mixed array of react elements and strings. Every string is wrapped in Discord's `Markdown` component so strings will show and render properly.\n     * @param {object} [options] - options to modify the modal\n     * @param {boolean} [options.danger=false] - whether the main button should be red or not\n     * @param {string} [options.confirmText=Okay] - text for the confirmation/submit button\n     * @param {string} [options.cancelText=Cancel] - text for the cancel button\n     * @param {callable} [options.onConfirm=NOOP] - callback to occur when clicking the submit button\n     * @param {callable} [options.onCancel=NOOP] - callback to occur when clicking the cancel button\n     * @param {string} [options.key] - key used to identify the modal. If not provided, one is generated and returned\n     * @returns {string} - the key used for this modal\n     */\n    static showConfirmationModal(title, content, options = {}) {\n        const ModalActions = WebpackModules.findByProps(\"openModal\", \"updateModal\");\n        const Markdown = WebpackModules.findByDisplayName(\"Markdown\");\n        const ConfirmationModal = WebpackModules.findByDisplayName(\"ConfirmModal\");\n        if (!ModalActions || !ConfirmationModal || !Markdown) return Utils.alert(title, content);\n\n        const emptyFunction = () => {};\n        const {onConfirm = emptyFunction, onCancel = emptyFunction, confirmText = \"Okay\", cancelText = \"Cancel\", danger = false, key = undefined} = options;\n\n        if (!Array.isArray(content)) content = [content];\n        content = content.map(c => typeof(c) === \"string\" ? BDV2.React.createElement(Markdown, null, c) : c);\n        return ModalActions.openModal(props => {\n            return BDV2.React.createElement(ConfirmationModal, Object.assign({\n                header: title,\n                red: danger,\n                confirmText: confirmText,\n                cancelText: cancelText,\n                onConfirm: onConfirm,\n                onCancel: onCancel\n            }, props), content);\n        }, {modalKey: key});\n    }\n\n    static get removeDa(){\n        return removeDa\n    }\n}\n\nfunction removeDa(className){\n    if(!className)return className\n    return className.split(\" \").filter(e => !e.startsWith(\"da-\")).join(\" \")\n}\n\nUtils.showToast = Utils.suppressErrors(Utils.showToast, \"Could not show toast.\");\n\nwindow.Lightcord.BetterDiscord.Utils = Utils","export default class V2_SettingsPanel_Sidebar {\n\n    constructor() {\n        this.panels = {}\n    }\n\n    register(panel, component){\n        this.panels[panel] = component\n    }\n\n    getComponent(panel, sidebar){\n        return this.panels[panel](sidebar)\n    }\n\n    get items() {\n        return [{\n            text: \"BetterDiscord Settings\", \n            id: \"core\"\n        }, {\n            text: \"Plugins\", \n            id: \"plugins\"\n        }, {\n            text: \"Themes\", \n            id: \"themes\"\n        }, {\n            text: \"Custom CSS\", \n            id: \"customcss\"\n        }];\n    }\n\n    get LCitems(){\n        let items = [\n            {\n                text: \"Lightcord Settings\",\n                id: \"lightcord\"\n            }, {\n                text: \"RichPresence\", \n                id: \"status\"\n            }, {\n                text: \"Account Info\",\n                id: \"accountinfo\"\n            }\n        ]\n        return items\n    }\n\n    get LCDevItems(){\n        let items = []\n        if(!window.Lightcord.Settings.devMode)return items\n        items.push(...[\n            {\n                section: \"DIVIDER\"\n            },\n            {\n                section: \"HEADER\",\n                label: \"Lightcord Api\"\n            },\n            {\n                text: \"Components Preview\",\n                id: \"lcapipreview\"\n            }\n        ])\n        return items\n    }\n\n    render(sidebar) {\n        return [\n            {\n                section: \"HEADER\",\n                label: \"Lightcord\"\n            },\n            ...this.LCitems.map(e => {\n                return {\n                    section: e.id,\n                    label: e.text,\n                    element: this.getComponent(e.id, sidebar)\n                }\n            }),\n            ...this.LCDevItems.map(e => {\n                if(e.section)return e\n                return {\n                    section: e.id,\n                    label: e.text,\n                    element: this.getComponent(e.id, sidebar)\n                }\n            }),\n            {\n                section: \"DIVIDER\"\n            },\n            {\n                section: \"CUSTOM\",\n                element: this.getComponent(\"BDChangelogTitle\")\n            },\n            ...this.items.map(e => {\n                return {\n                    section: e.id,\n                    label: e.text,\n                    element: this.getComponent(e.id, sidebar)\n                }\n            }),\n            {\n                section: \"DIVIDER\"\n            }\n        ]\n    }\n}\n\n/**\n * No need to export settingsPanelSidebar on window\n */","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"./v2\";\nimport Utils from \"./utils\";\n\nexport default new class ColoredText {\n    injectColoredText() {\n        if (this.cancelColoredText) return;\n        if (!BDV2.MessageComponent) return;\n\n        this.cancelColoredText = Utils.monkeyPatch(BDV2.MessageComponent, \"default\", {before: (data) => {\n            const props = data.methodArguments[0];\n            if (!props || !props.childrenMessageContent) return;\n            const messageContent = props.childrenMessageContent;\n\n            if (!messageContent.type || !messageContent.type.type || messageContent.type.type.displayName != \"MessageContent\") return;\n            const originalType = messageContent.type.type;\n            if (originalType.__originalMethod) return; // Don't patch again\n            messageContent.type.type = function(props) {\n                const returnValue = originalType(props);\n                const roleColor = settingsCookie[\"bda-gs-7\"] ? props.message.colorString || \"\" : \"\";\n                returnValue.props.style = {color: roleColor};\n                return returnValue;\n            };\n\n            messageContent.type.type.__originalMethod = originalType;\n            Object.assign(messageContent.type.type, originalType);\n        }});\n    }\n\n    removeColoredText() {\n        let classNameMarkup = BDModules.get(e => e.markup)[0].markup\n        document.querySelectorAll(\".\"+classNameMarkup.split(\" \")[0]).forEach(elem => {\n            elem.style.setProperty(\"color\", \"\");\n        });\n    }\n};","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"./v2\";\nimport Utils from \"./utils\";\n\nexport default new class TFHour {\n    inject24Hour() {\n        if (this.cancel24Hour) return;\n\n        const twelveHour = new RegExp(`([0-9]{1,2}):([0-9]{1,2})\\\\s(AM|PM)`);\n        const convert = (data) => {\n            if (!settingsCookie[\"bda-gs-6\"]) return;\n            const matched = data.returnValue.match(twelveHour);\n            if (!matched || matched.length !== 4) return;\n            if (matched[3] === \"AM\") return data.returnValue = data.returnValue.replace(matched[0], `${matched[1] === \"12\" ? \"00\" : matched[1].padStart(2, \"0\")}:${matched[2]}`);\n            return data.returnValue = data.returnValue.replace(matched[0], `${matched[1] === \"12\" ? \"12\" : parseInt(matched[1]) + 12}:${matched[2]}`);\n        };\n\n        const cancelCozy = Utils.monkeyPatch(BDV2.TimeFormatter, \"calendarFormat\", {after: convert}); // Called in Cozy mode\n        const cancelCompact = Utils.monkeyPatch(BDV2.TimeFormatter, \"dateFormat\", {after: convert}); // Called in Compact mode\n        this.cancel24Hour = () => {cancelCozy(); cancelCompact();}; // Cancel both\n    }\n\n    remove24Hour() {\n        if (this.cancel24Hour) this.cancel24Hour();\n    }\n};","import BDV2 from \"../modules/v2\";\n\nexport default class V2C_SettingsTitle extends BDV2.reactComponent {\n    constructor(props) {\n        super(props);\n    }\n//h2-2gWE-o title-3sZWYQ size16-14cGz5 height20-mO2eIN weightSemiBold-NJexzi da-h2 da-title da-size16 da-height20 da-weightSemiBold defaultColor-1_ajX0 da-defaultColor marginTop60-3PGbtK da-marginTop60 marginBottom20-32qID7 da-marginBottom20\n    render() {\n        return BDV2.react.createElement(\n            \"h2\",\n            {className: \"ui-form-title h2 margin-reset margin-bottom-20\"},\n            this.props.text\n        );\n    }\n}","import BDV2 from \"../modules/v2\";\n\nexport default class V2C_TabBarSeparator extends BDV2.reactComponent {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return BDV2.react.createElement(\"div\", {className: \"ui-tab-bar-separator margin-top-8 margin-bottom-8\"});\n    }\n}","import BDV2 from \"../../modules/v2\";\n\nexport default class V2C_ServerCard extends BDV2.reactComponent {\n    constructor(props) {\n        super(props);\n        if (!this.props.server.iconUrl) this.props.server.iconUrl = this.props.fallback;\n        this.state = {\n            imageError: false,\n            joined: this.props.guildList.includes(this.props.server.identifier)\n        };\n    }\n\n    render() {\n        const {server} = this.props;\n        let cardModule = BDModules.get(e => e.card && e.cardPrimary)[0]\n        let flexModule = BDModules.get(e => e.flexChild && e._horizontalReverse)[0]\n        let wrapModule = BDModules.get(e => e.noWrap && !e.streamerModeEnabled)[0]\n        return BDV2.react.createElement(\n            \"div\", // cardPrimary-1Hv-to\n            {className: `${cardModule.card} ${cardModule.cardPrimary} ${BDModules.get(e => e.marginBottom8)[0].marginBottom8} bd-server-card${server.pinned ? \" bd-server-card-pinned\" : \"\"}`},\n            // BDV2.react.createElement(\n                // \"div\",\n                // { className: \"flex-1xMQg5 flex-1O1GKY horizontal-1ae9ci horizontal-2EEEnY flex-1O1GKY directionRow-3v3tfG justifyStart-2yIZo0 alignStretch-1hwxMa noWrap-3jynv6\" },\n                BDV2.react.createElement(\"img\", {ref: \"img\", className: \"bd-server-image\", src: server.iconUrl, onError: this.handleError.bind(this), draggable: false}),\n                BDV2.react.createElement(\n                    \"div\",\n                    {className: flexModule.flexChild+\" bd-server-content\"},\n                    BDV2.react.createElement(\n                        \"div\",\n                        {className: flexModule.horizontal+\" \"+wrapModule.noWrap+\" bd-server-header\"},\n                        BDV2.react.createElement(\n                            \"h5\",\n                            {className: \"h5-18_1nd defaultColor-1_ajX0 margin-reset bd-server-name\"},\n                            server.name\n                        ),\n                        BDV2.react.createElement(\n                            \"h5\",\n                            {className: \"h5-18_1nd defaultColor-1_ajX0 margin-reset bd-server-member-count\"},\n                            server.members,\n                            \" Members\"\n                        )\n                    ),\n                    BDV2.react.createElement(\n                        \"div\",\n                        {className: flexModule.horizontal+\" \"+wrapModule.noWrap},\n                        BDV2.react.createElement(\n                            \"div\",\n                            {className: \"scrollerWrap-2lJEkd scrollerThemed-2oenus themeGhostHairline-DBD-2d scrollerFade-1Ijw5y bd-server-description-container\"},\n                            BDV2.react.createElement(\n                                \"div\",\n                                {className: \"scroller-2FKFPG scroller bd-server-description\"},\n                                    server.description\n                            )\n                        )\n                    ),\n                    BDV2.react.createElement(\n                        \"div\",\n                        {className: \"flex-1xMQg5 flex-1O1GKY horizontal-1ae9ci horizontal-2EEEnY directionRow-3v3tfG noWrap-3jynv6 bd-server-footer\"},\n                        BDV2.react.createElement(\n                            \"div\",\n                            {className: \"flexChild-faoVW3 bd-server-tags\", style: {flex: \"1 1 auto\"}},\n                            server.categories.join(\", \")\n                        ),\n                        this.state.joined && BDV2.react.createElement(\n                            \"button\",\n                            {type: \"button\", className: \"button-38aScr lookFilled-1Gx00P colorBrand-3pXr91 sizeMin-1mJd1x grow-q77ONN colorGreen-29iAKY\", style: {minHeight: \"12px\", marginTop: \"4px\", backgroundColor: \"#3ac15c\"}},\n                            BDV2.react.createElement(\n                                \"div\",\n                                {className: \"ui-button-contents\"},\n                                \"Joined\"\n                            )\n                        ),\n                        server.error && BDV2.react.createElement(\n                            \"button\",\n                            {type: \"button\", className: \"button-38aScr lookFilled-1Gx00P colorBrand-3pXr91 sizeMin-1mJd1x grow-q77ONN disabled-9aF2ug\", style: {minHeight: \"12px\", marginTop: \"4px\", backgroundColor: \"#c13a3a\"}},\n                            BDV2.react.createElement(\n                                \"div\",\n                                {className: \"ui-button-contents\"},\n                                \"Error\"\n                            )\n                        ),\n                        !server.error && !this.state.joined && BDV2.react.createElement(\n                            \"button\",\n                            {type: \"button\", className: \"button-38aScr lookFilled-1Gx00P colorBrand-3pXr91 sizeMin-1mJd1x grow-q77ONN\", style: {minHeight: \"12px\", marginTop: \"4px\"}, onClick: () => {this.join();}},\n                            BDV2.react.createElement(\n                                \"div\",\n                                {className: \"ui-button-contents\"},\n                                \"Join\"\n                            )\n                        )\n                    )\n                )\n            // )\n        );\n    }\n\n    handleError() {\n        this.props.server.iconUrl = this.props.fallback;\n        this.setState({imageError: true});\n    }\n\n    join() {\n        this.props.join(this);\n        //this.setState({joined: true});\n    }\n}","import BDV2 from \"./v2\"\nconst {useState} = BDV2.react\n\n\nexport function useForceUpdate(){\n    return useState()[1];\n}","import BDV2 from \"../../modules/v2\";\n\nimport SettingsTitle from \"../settingsTitle\";\nimport TabBarSeparator from \"../tabBarSeparator\";\n\nimport ServerCard from \"./serverCard\";\nimport { useForceUpdate } from \"../../modules/hooks\";\n\nlet SettingsView\nexport default class V2C_PublicServers extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        this.setInitialState();\n        this.close = this.close.bind(this);\n        this.changeCategory = this.changeCategory.bind(this);\n        this.search = this.search.bind(this);\n        this.searchKeyDown = this.searchKeyDown.bind(this);\n        this.checkConnection = this.checkConnection.bind(this);\n        this.join = this.join.bind(this);\n        this.connect = this.connect.bind(this);\n\n        this.GuildStore = BDV2.WebpackModules.findByUniqueProperties([\"getGuilds\"]);\n        this.AvatarDefaults = BDV2.WebpackModules.findByUniqueProperties([\"getUserAvatarURL\", \"DEFAULT_AVATARS\"]);\n        this.InviteActions = BDV2.WebpackModules.findByUniqueProperties([\"acceptInvite\"]);\n        this.SortedGuildStore = BDV2.WebpackModules.findByUniqueProperties([\"getSortedGuilds\"]);\n\n        this.hooks = []\n    }\n\n    componentDidMount() {\n        this.checkConnection();\n    }\n\n    setInitialState() {\n        this.state = {\n            selectedCategory: -1,\n            title: \"Loading...\",\n            loading: true,\n            servers: [],\n            next: null,\n            connection: {\n                state: 0,\n                user: null\n            },\n            section: this.categorySlugs[0],\n            theme: \"dark\"\n        };\n    }\n\n    close() {\n        this.props.close()\n    }\n\n    search(query, clear) {\n        const self = this;\n        fetch(`${self.searchEndPoint}${query}${query ? \"&schema=new\" : \"?schema=new\"}`, {\n            method: \"get\"\n        }).then(async res => {\n            if(res.status !== 200)throw await res.text()\n            let data = await res.json()\n            \n            let servers = data.results.reduce((arr, server) => {\n                server.joined = false;\n                arr.push(server);\n                // arr.push(<ServerCard server={server} join={self.join}/>);\n                return arr;\n            }, []);\n\n            if (!clear) {\n                servers = self.state.servers.concat(servers);\n            }\n            else {\n                //servers.unshift(self.bdServer);\n            }\n\n            let end = data.size + data.from;\n            data.next = `?from=${end}`;\n            if (self.state.term) data.next += `&term=${self.state.term}`;\n            if (self.state.selectedCategory) data.next += `&category=${self.categoryButtons[self.state.selectedCategory]}`;\n            if (end >= data.total) {\n                end = data.total;\n                data.next = null;\n            }\n\n            let title = `Showing 1-${end} of ${data.total} results in ${self.categoryButtons[self.state.selectedCategory]}`;\n            if (self.state.term) title += ` for ${self.state.term}`;\n\n            self.setState({\n                loading: false,\n                title: title,\n                servers: servers,\n                next: data.next\n            });\n        }).catch((err) => {\n            console.error(err)\n            return self.setState({\n                loading: false,\n                title: \"Failed to load servers. Check console for details\"\n            });\n        })\n    }\n\n    async join(serverCard) {\n        if (serverCard.props.pinned) return this.InviteActions.acceptInvite(serverCard.props.invite_code);\n\n        await fetch(`${this.joinEndPoint}/${serverCard.props.server.identifier}`,{\n            method: \"GET\",\n            credentials: \"include\",\n            mode: \"cors\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\"\n            }\n        });\n\n        serverCard.setState({joined: true});\n    }\n\n    connect() {\n        const self = this;\n        const options = self.windowOptions;\n        options.x = Math.round(window.screenX + window.innerWidth / 2 - options.width / 2);\n        options.y = Math.round(window.screenY + window.innerHeight / 2 - options.height / 2);\n\n        const win = self.joinWindow = new (require(\"electron\").remote.BrowserWindow)(options);\n        const url = \"https://auth.discordservers.com/connect?scopes=guilds.join&previousUrl=https://auth.discordservers.com/info\";\n        win.webContents.on(\"did-navigate\", (event, url) => {\n            if (url != \"https://auth.discordservers.com/info\") return;\n            win.close();\n            self.checkConnection();\n        });\n        win.loadURL(url);\n        win.setMenuBarVisibility(false)\n    }\n\n    get windowOptions() {\n        return {\n            width: 500,\n            height: 550,\n            backgroundColor: \"#282b30\",\n            show: true,\n            resizable: false,\n            maximizable: false,\n            minimizable: false,\n            alwaysOnTop: true,\n            frame: true,\n            center: false,\n            webPreferences: {\n                nodeIntegration: false\n            }\n        };\n    }\n\n    get bdServer() {\n        const server = {\n            name: \"BetterDiscord\",\n            online: \"30000+\",\n            members: \"70000+\",\n            categories: [\"community\", \"programming\", \"support\"],\n            description: \"Official BetterDiscord server for support etc\",\n            identifier: \"86004744966914048\",\n            iconUrl: \"https://cdn.discordapp.com/icons/86004744966914048/292e7f6bfff2b71dfd13e508a859aedd.webp\",\n            nativejoin: true,\n            invite_code: \"0Tmfo5ZbORCRqbAd\",\n            pinned: true\n        };\n        const server2 = {\n            name: \"Lightcord\",\n            online: \"100+\",\n            members: \"300+\",\n            categories: [\"community\", \"programming\", \"support\"],\n            description: \"Official Lightcord server for support etc\",\n            identifier: \"705908350218666117\",\n            iconUrl: \"https://github.com/lightcord.png\",\n            nativejoin: true,\n            invite_code: \"7eFff2A\",\n            pinned: true\n        };\n        const guildList = this.SortedGuildStore.getFlattenedGuildIds();\n        const defaultList = this.AvatarDefaults.DEFAULT_AVATARS;\n        return [\n            BDV2.react.createElement(ServerCard, {server: server2, pinned: true, join: this.join, guildList: guildList, fallback: defaultList[Math.floor(Math.random() * 5)]}),\n            BDV2.react.createElement(ServerCard, {server: server, pinned: true, join: this.join, guildList: guildList, fallback: defaultList[Math.floor(Math.random() * 5)]})\n        ]\n    }\n\n    get searchEndPoint() {\n        return \"https://search.discordservers.com\";\n    }\n\n    get joinEndPoint() {\n        return \"https://j.discordservers.com\";\n    }\n\n    get connectEndPoint() {\n        return \"https://join.discordservers.com/connect\";\n    }\n\n    async checkConnection() {\n        const self = this;\n        try {\n            const response = await fetch(`https://auth.discordservers.com/info`,{\n                method: \"GET\",\n                credentials: \"include\",\n                mode: \"cors\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            const text = await response.text()\n            if(!text){\n                self.setState({\n                    title: \"Not connected to discordservers.com!\",\n                    loading: true,\n                    selectedCategory: -1,\n                    connection: {\n                        state: 1,\n                        user: null\n                    }\n                });\n                return\n            }\n            const data = JSON.parse(text)\n            self.setState({\n                selectedCategory: 0,\n                connection: {\n                    state: 2,\n                    user: data\n                }\n            });\n            self.search(\"\", true);\n        }\n        catch (error) {\n            console.error(error)\n            self.setState({\n                title: \"Not connected to discordservers.com!\",\n                loading: true,\n                selectedCategory: -1,\n                connection: {\n                    state: 1,\n                    user: null\n                }\n            });\n        }\n    }\n\n    render() {\n        this.hooks.forEach((e) => e())\n        SettingsView = SettingsView || BDV2.WebpackModules.findByDisplayName(\"SettingsView\")\n        return BDV2.react.createElement(\"div\", {id: \"pubslayerroot\"}, \n            BDV2.react.createElement(\"div\", {id: \"pubslayer\"}, BDV2.react.createElement(SettingsView, {\n                onSetSection: (section) => {\n                    this.changeCategory(this.categorySlugs.indexOf(section))\n                },\n                sections: this.sections,\n                onClose: this.close,\n                section: this.state.section\n            }))\n        );\n    }\n\n    get sections(){\n        let sections = []\n        sections.push({\n            section: \"HEADER\",\n            label: \"Public Servers\"\n        }, {\n            section: \"DIVIDER\"\n        }, {\n            section: \"CUSTOM\",\n            element: this.searchInput.bind(null, () => this, this.searchKeyDown)\n        }, {\n            section: \"DIVIDER\"\n        }, {\n            section: \"HEADER\",\n            label: \"Categories\"\n        }, ...this.categoryButtons.map((value, index) => {\n            return {\n                section: this.categorySlugs[index],\n                label: value,\n                element: this.content.bind(null, () => this)\n            }\n        }), {\n            section: \"DIVIDER\"\n        }, {\n            section: \"CUSTOM\",\n            element: this.footer\n        }, {\n            section: \"CUSTOM\",\n            element: this.connection.bind(null, () => this)\n        })\n        return sections\n    }\n    \n    searchInput(getThis, searchKeyDown) {\n        const [value, setValue] = BDV2.react.useState(\"\")\n        return BDV2.react.createElement(\n            \"div\",\n            {className: \"ui-form-item\"},\n            BDV2.react.createElement(\n                \"div\",\n                {className: \"ui-text-input flex-vertical\", style: {width: \"172px\", marginLeft: \"10px\"}},\n                BDV2.react.createElement(\"input\", {\n                    ref: (serchinput) => (getThis().refs.searchinput = serchinput), \n                    onKeyDown: searchKeyDown, \n                    onChange: (e) => {\n                        setValue(e.target.value)\n                    }, \n                    type: \"text\", \n                    className: \"input default\", \n                    placeholder: \"Search...\", \n                    maxLength: \"50\",\n                    value: value\n                })\n            )\n        );\n    }\n\n    searchKeyDown(e) {\n        const self = this;\n        if (self.state.loading || e.which !== 13) return;\n        self.setState({\n            loading: true,\n            title: \"Loading...\",\n            term: e.target.value\n        });\n        let query = `?term=${e.target.value}`;\n        if (self.state.selectedCategory !== 0) {\n            query += `&category=${self.categoryButtons[self.state.selectedCategory]}`;\n        }\n        self.search(query, true);\n    }\n\n    get categorySlugs(){\n        return this.categoryButtons.map(e => e.toLowerCase().replace(/[^\\w\\d]+/g, \"_\"))\n    }\n\n    get categoryButtons() {\n        return [\"All\", \"FPS Games\", \"MMO Games\", \"Strategy Games\", \"MOBA Games\", \"RPG Games\", \"Tabletop Games\", \"Sandbox Games\", \"Simulation Games\", \"Music\", \"Community\", \"Language\", \"Programming\", \"Other\"];\n    }\n\n    changeCategory(id) {\n        const self = this;\n        if (self.state.loading) return;\n        self.setState({\n            loading: true,\n            selectedCategory: id,\n            title: \"Loading...\",\n            term: null,\n            section: self.categorySlugs[id]\n        });\n        if (id === 0) {\n            self.search(\"\", true);\n            return;\n        }\n        self.search(`?category=${self.categoryButtons[id]}`, true);\n    }\n\n    content(getThis) {\n        const self = getThis();\n        self.useState()\n        const guildList = self.SortedGuildStore.getFlattenedGuildIds();\n        const defaultList = self.AvatarDefaults.DEFAULT_AVATARS;\n        if (self.state.connection.state === 1) return BDV2.react.createElement(self.notConnected.bind(null, getThis));\n        let columnModule = BDModules.get(e => e.contentColumnDefault)[0]\n        return [BDV2.react.createElement(\n            \"div\",\n            {ref: (ref) => {\n                (self.refs.content = ref)\n            }, key: \"pc\", className: columnModule.contentColumn+\" \"+columnModule.contentColumn+\" content-column default\"},\n            BDV2.react.createElement(SettingsTitle, {text: self.state.title}),\n            self.bdServer,\n            self.state.servers.map((server) => {\n                return BDV2.react.createElement(ServerCard, {key: server.identifier, server: server, join: self.join, guildList: guildList, fallback: defaultList[Math.floor(Math.random() * 5)]});\n            }),\n            self.state.next && BDV2.react.createElement(\n                \"button\",\n                {type: \"button\", onClick: () => {\n                        if (self.state.loading) return;self.setState({loading: true}); self.search(self.state.next, false);\n                    }, className: \"ui-button filled brand small grow\", style: {width: \"100%\", marginTop: \"10px\", marginBottom: \"10px\"}},\n                BDV2.react.createElement(\n                    \"div\",\n                    {className: \"ui-button-contents\"},\n                    self.state.loading ? \"Loading\" : \"Load More\"\n                )\n            ),\n            self.state.servers.length > 0 && BDV2.react.createElement(SettingsTitle, {text: self.state.title})\n        )];\n    }\n\n    notConnected(getThis) {\n        const self = getThis();\n        //return BDV2.react.createElement(SettingsTitle, { text: self.state.title });\n        let columnModule = BDModules.get(e => e.contentColumnDefault)[0]\n        return [BDV2.react.createElement(\n            \"div\",\n            {key: \"ncc\", ref: (ref) => (self.refs.content = ref), className: columnModule.contentColumn+\" \"+columnModule.contentColumn+\" content-column default\"},\n            BDV2.react.createElement(\n                \"h2\",\n                {className: \"ui-form-title h2 margin-reset margin-bottom-20\"},\n                \"Not connected to discordservers.com!\",\n                BDV2.react.createElement(\n                    \"button\",\n                    {\n                        onClick: self.connect,\n                        type: \"button\",\n                        className: \"ui-button filled brand small grow\",\n                        style: {\n                            display: \"inline-block\",\n                            minHeight: \"18px\",\n                            marginLeft: \"10px\",\n                            lineHeight: \"14px\"\n                        }\n                    },\n                    BDV2.react.createElement(\n                        \"div\",\n                        {className: \"ui-button-contents\"},\n                        \"Connect\"\n                    )\n                )\n            ), self.bdServer\n        )];\n    }\n\n    footer() {\n        return BDV2.react.createElement(\n            \"div\",\n            {className: \"ui-tab-bar-header\"},\n            BDV2.react.createElement(\n                \"a\",\n                {href: \"https://discordservers.com\", target: \"_blank\"},\n                \"Discordservers.com\"\n            )\n        );\n    }\n\n    useState(){\n        const forceUpdate = useForceUpdate()\n        BDV2.React.useEffect(() => {\n            const listener = () => {\n                forceUpdate()\n            }\n            this.hooks.push(listener)\n            return () => {\n                const index = this.hooks.findIndex(e => e===listener)\n                if(index < 0)return\n                this.hooks.splice(index, 1)\n            }\n        }, [])\n    }\n\n    connection(getThis) {\n        const self = getThis();\n        self.useState()\n        const {connection} = self.state;\n        if (connection.state !== 2) return BDV2.react.createElement(\"span\", null);\n\n        return BDV2.react.createElement(\n            \"span\",\n            null,\n            BDV2.react.createElement(TabBarSeparator, null),\n            BDV2.react.createElement(\n                \"span\",\n                {style: {color: \"#b9bbbe\", fontSize: \"10px\", marginLeft: \"10px\"}},\n                \"Connected as: \",\n                `${connection.user.username}#${connection.user.discriminator}`\n            ),\n            BDV2.react.createElement(\n                \"div\",\n                {style: {padding: \"5px 10px 0 10px\"}},\n                BDV2.react.createElement(\n                    \"button\",\n                    {style: {width: \"100%\", minHeight: \"20px\"}, type: \"button\", className: \"ui-button filled brand small grow\"},\n                    BDV2.react.createElement(\n                        \"div\",\n                        {className: \"ui-button-contents\", onClick: self.connect},\n                        \"Reconnect\"\n                    )\n                )\n            )\n        );\n    }\n}","export default class BugHunterBadge extends React.Component {\n    render(){\n        const props = this.props\n\n        return (\n            <svg viewBox=\"0 0 31.3 29.5\" {...props.svg} height=\"100%\">\n                <path d=\"M22.8 1s12 8.2 7.4 19.7S16.6 29 20 25.6s-4-5.6-8.7-10L22.8 1\" fill=\"rgba(227,6,19,.6)\" />\n                <path d=\"M22.1 12.3c-2.5 3.2-6.1 4.8-8.9 4.3L3.6 28.8c-.7.9-1.9 1-2.8.3-.9-.7-1-1.9-.4-2.8L10 14.1c-1.3-2.5-.6-6.4 2-9.7 3.2-4 8-5.5 10.8-3.4s2.4 7.2-.7 11.3z\" fill=\"#e30613\" />\n            </svg>\n        )\n    } \n}","export default class Circus extends React.Component {\n    render(){\n        return (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\"  {...this.props.svg} height=\"100%\">\n                <path\n                    fill=\"#DD2E44\"\n                    d=\"M33 33a2 2 0 01-2 2H5a2 2 0 01-2-2l1-12h28l1 12z\"\n                ></path>\n                <path\n                    fill=\"#EA596E\"\n                    d=\"M13 35c-.792-1.875-1.75-3.291-3.417-4.666 1.75-1.459 4.542-5.5 5.25-8.292s2.75 8.125 2.042 10.625S13 35 13 35zm10.303 0c.791-1.875 1.75-3.291 3.416-4.666-1.75-1.459-4.541-5.5-5.25-8.292-.707-2.792-2.75 8.125-2.04 10.625.708 2.5 3.874 2.333 3.874 2.333z\"\n                ></path>\n                <path\n                    fill=\"#BE1931\"\n                    d=\"M3.728 24.263A2.5 2.5 0 008 22.5c0-.565-.195-1.081-.511-1.5H4l-.272 3.263zm28.544 0L32 21h-3.489A2.482 2.482 0 0028 22.5a2.5 2.5 0 004.272 1.763z\"\n                ></path>\n                <circle cx=\"14\" cy=\"23\" r=\"2\" fill=\"#BE1931\"></circle>\n                <circle cx=\"22\" cy=\"23\" r=\"2\" fill=\"#BE1931\"></circle>\n                <circle cx=\"10\" cy=\"23\" r=\"2\" fill=\"#BE1931\"></circle>\n                <circle cx=\"26\" cy=\"23\" r=\"2\" fill=\"#BE1931\"></circle>\n                <path d=\"M23 35H13s2-6 2-13h6c0 7 2 13 2 13zM17 2h2v7h-2z\"></path>\n                <path\n                    fill=\"#55ACEE\"\n                    d=\"M18.838.206C17.667.042 17 .318 17 1.418v1c0 1.1.865 1.753 1.923 1.451l5.154-.901c1.715-.343 1.548-1.593.085-1.884L18.838.206z\"\n                ></path>\n                <path\n                    fill=\"#CCD6DD\"\n                    d=\"M18 6l-.081.123C10.938 16.981 3 15.015 3 19v2.5a2.5 2.5 0 004.95.5H12a2 2 0 004 0h4a2 2 0 004 0h4.05a2.5 2.5 0 004.95-.5V19c0-4-8-2-15-13z\"\n                ></path>\n                <g fill=\"#F5F8FA\">\n                    <path d=\"M17.948 6.078l-.03.045C17.132 11.619 10.811 16.126 8 18v4a2 2 0 004 0v-4c.982-.982 5.813-6.787 5.984-11.732-.01-.064-.027-.126-.036-.19zm.08.398C18.324 11.374 23.031 17.031 24 18v4a2 2 0 004 0v-4c-2.75-1.833-8.953-6.19-9.972-11.524z\"></path>\n                    <path d=\"M17.984 6.27C17.922 8.346 17.606 16.394 16 18v4a2 2 0 004 0v-4c-1.564-1.564-1.905-9.241-1.979-11.559-.011-.057-.027-.113-.037-.171z\"></path>\n                </g>\n            </svg>\n        )\n    } \n}","import BugHunterBadge from \"../svg/bug_hunter\"\nimport nodeFetch from \"node-fetch\"\nimport { settingsCookie } from \"../0globals\";\nimport Circus from \"../svg/circus\";\n\nexport function uuidv4() { // Generate UUID (No crypto rng)\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}  \n\nconst awaitingBadgesPromises = {}\nlet badgesToFetch = []\n\nexport default new class DistantServer {\n    constructor(){\n        this._cache = {\n            badges: {\n\n            }\n        }\n        window.Lightcord.BetterDiscord.DistantServer = this\n    }\n\n    get cache(){\n        return this._cache\n    }\n\n    set cache(data){\n        if(typeof data !== \"object\" || typeof this._cache !== \"object\")return this._cache = data\n        return this._cache = Object.assign(this._cache, data)\n    }\n\n    /**\n     * Get custom badges from the user ID.\n     * @param {string} user The user ID \n     * @returns {Promise<Constants[\"badges\"]>}\n     */\n    async getBadges(user){\n        if(this.cache.badges[user])return this.cache.badges[user]\n        if(awaitingBadgesPromises[user])return awaitingBadgesPromises[user]\n\n        let resolve\n        const newPromise = new Promise((res) => (resolve = res))\n        awaitingBadgesPromises[user] = newPromise\n\n        const badges = []\n        for(let badge of Constants.badges){\n            if(badge.defaultUsers.includes(user))badges.push(badge)\n        }\n        const fetchedBadges = await new Promise((resolve) => {\n            if(!settingsCookie[\"lightcord-5\"])return resolve([])\n            badgesToFetch.push([user, resolve])\n            setTimeout(() => {\n                let users = badgesToFetch\n                if(users.length === 0)return\n                badgesToFetch = []\n                handleRequest(Routes.badges, \"POST\", JSON.stringify(users.map(e => e[0])))\n                .then(async res => {\n                    if(res.status !== 200){// Couldn't fetch badges: server error\n                        users.forEach(data => {\n                            data[1]([])// resolve no badge fetched\n                        })\n                    }\n                    const responseBody = await res.json()\n                    \n                    for(let user of responseBody){\n                        let promise = users.find(promise => promise[0] === user.user_id)\n                        promise[1](user.badges)\n                    }\n                }).catch((err) => {// Couldn't fetch badges: error\n                    if(!(err instanceof LightcordError))console.error(err)\n                    users.forEach(data => {\n                        data[1]([])// resolve no badge fetched\n                    })\n                })\n            }, 0)\n        })\n        for(let badge of fetchedBadges){\n            if(!Constants.badges.find(e => e.id === badge))continue // We do not have the Component, skip it.\n            if(badges.find(e => e.id === badge))continue // Already inserted.\n            badges.push(Constants.badges.find(e => e.id === badge))\n        }\n        this.cache = {\n            badges: Object.assign(this.cache.badges, {[user]: badges})\n        }\n        setTimeout(() => {\n            delete this.cache.badges[user]\n        }, 600000);\n\n        resolve(badges)\n        delete awaitingBadgesPromises[user]\n        return badges\n    }\n}\n\nconst handleRequest = function(route, method, data){\n    if(!settingsCookie[\"lightcord-5\"]){\n        return Promise.reject(new LightcordError(\"The current settings blocked the request.\"))\n    }\n    return nodeFetch(`${Constants.SERVER_URL}/api/v1${route}`, {\n        method,\n        headers: {\n            \"CLIENT\": \"Lightcord\",\n            \"Authorization\": window.Lightcord.Api.Authorization || \"None::Anonymous\"\n        },\n        ...(data ? {\n            body: data\n        } : {})\n    })\n}\n\nclass LightcordError extends Error {\n    constructor(){\n        super(...arguments)\n        this.name = \"LightcordError\"\n    }\n}\n\nexport const Constants = {\n    SERVER_URL: \"https://lightcord.deroku.xyz\",\n    badges: [ // TODO: Add more badges + server side svg\n        {\n            name: \"Lightcord Bug Hunter\",\n            id: \"f04698f5-816b-41e3-bd01-92291193d7a5\",\n            defaultUsers: [\n                \"696481194443014174\",\n                \"696003456611385396\"\n            ],\n            scopes: [],\n            component: BugHunterBadge,\n            href: \"https://github.com/lightcord/lightcord/wiki/badges#bug_hunter\"\n        }, {\n            name: \"Buffoon\",\n            id: \"06904d31-65b4-41ec-a50c-8658bbd1af96\",\n            defaultUsers: [\n                \"389016895543705602\",\n                \"664600134528663565\",\n                \"625350657829896224\"\n            ],\n            scopes: [],\n            component: Circus,\n            href: \"https://youtu.be/EJtb6z-dlT8?t=145\"\n        }\n    ]\n}\n\nexport const Routes = {\n    badges: `/users/badges`\n}","import Utils from \"./utils\";\nimport v2 from \"./v2\";\nimport { uuidv4 } from \"./distant\";\nimport { timingSafeEqual } from \"crypto\";\n\nexport default new class Layers {\n    constructor(){\n        this.layers = []\n        window.Lightcord.BetterDiscord.Layers = this\n    }\n\n    get isInjected(){\n        return !!document.querySelector(\"div.Layers.injected\")\n    }\n\n    inject(){\n        if(this.isInjected)return\n        let [\n            classNameLayers\n        ] = [\n            Utils.removeDa(v2.WebpackModules.find(e => e.layers && e.layer).layers)\n        ]\n        const layers = document.querySelector(\".\"+classNameLayers);\n        if (!layers) return false;\n        const ReactInstance = Lightcord.Api.Utils.FindReact(layers, 1)\n        if(!ReactInstance)return layers\n        this.ReactInstance = ReactInstance\n        let render = ReactInstance.render\n        ReactInstance.render = () => {\n            let returnValue = render.call(ReactInstance)\n            let classList = returnValue.props.children[1].props.className.split(\" \")\n            classList.push(\"Layers\")\n            classList.push(\"injected\")\n            returnValue.props.children[1].props.className = classList.join(\" \")\n\n            this.layers.forEach(layer => {\n                returnValue.props.children[1].props.children.push(layer[1])\n            })\n\n            return returnValue\n        }\n        ReactInstance.forceUpdate()\n    }\n\n    createLayer(children, props = {}){\n        let id = uuidv4()\n        let layer = null\n        this.layers.push([id, <Layer {...props} getLayer={lay => {\n            layer = lay\n        }} key={id} id={id} remove={() => {\n            let index = this.layers.findIndex(e => e[0] === id)\n            if(index === -1)return\n            this.layers.splice(index, 1)\n            layer = null\n            if(this.ReactInstance)this.ReactInstance.forceUpdate()\n            this.inject()\n        }}>{children}</Layer>])\n        if(this.ReactInstance)this.ReactInstance.forceUpdate()\n        this.inject()\n        return {\n            remove: () => {\n                if(!layer){\n                    let index = this.layers.findIndex(e => e[0] === id)\n                    if(index === -1)return\n                    this.layers.splice(index, 1)\n                    layer = null\n                    if(this.ReactInstance)this.ReactInstance.forceUpdate()\n                    this.inject()\n                }else{\n                    layer.remove()\n                }\n            }\n        }\n    }\n}\n\n\nlet LayerModules\nexport class Layer extends React.Component {\n    constructor(){\n        super(...arguments)\n        this.state = {\n            animation: new this.modules[0].default.Value(0)\n        } \n        this.props.getLayer(this)\n        this.keydown = this.keydown.bind(this)\n    }\n\n    keydown(e){\n        if (e.which === 27) {\n            this.remove()\n        }\n    }\n\n    get modules(){\n        return LayerModules || (LayerModules = [\n            v2.WebpackModules.find(e => e.default && e.default.Value && e.default.div)\n        ])\n    }\n\n    componentWillUnmount(){\n        window.removeEventListener(\"keydown\", this.keydown)\n    }\n\n    componentDidMount(ev){\n        window.addEventListener(\"keydown\", this.keydown)\n    }\n\n    remove(){\n        this.props.remove()\n    }\n\n    componentWillEnter(ev){\n        this.modules[0].default.timing(this.state.animation, {\n            toValue: 1,\n            duration: 100\n        }).start(ev)\n    }\n\n    componentWillLeave(ev){\n        this.modules[0].default.timing(this.state.animation, {\n            toValue: 0,\n            duration: 100\n        }).start(ev)\n    }\n\n    render(){\n        let interpolation = this.state.animation.interpolate({\n            inputRange: [0, 1],\n            outputRange: [1.07, 1]\n        })\n        let style = {\n            opacity: this.state.animation,\n            transform: [{\n                scale: interpolation\n            }]\n        }\n        let Div = this.modules[0].default.div\n        return <Div className={[__SECRET_EMOTION__.css({\n            backgroundColor:\"var(--background-primary)\",\n            position: \"absolute\",\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            display: \"flex\",\n            overflow: \"hidden\",\n            WebkitBoxOrient: \"vertical\",\n            WebkitBoxDirection: \"normal\",\n            msFlexDirection: \"column\",\n            flexDirection: \"column\",\n            zIndex: 101\n        }),process.platform===\"win32\"?__SECRET_EMOTION__.css({\n            top: \"-22px\",\n            paddingTop: \"22px\"\n        }):null,...(this.props.className?this.props.className.split(\" \"):[])].filter(e=>e).join(\" \") || null} style={style}>\n            {this.props.children(() => {\n                this.remove()\n            })}\n        </Div>\n    }\n}\nLayer.defaultProps = {\n    id: null,\n    children: null\n}","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"./v2\";\nimport webpackModules from \"./webpackModules\";\nimport Utils from \"./utils\";\nimport DOM from \"./domtools\";\n\nimport V2C_PublicServers from \"../ui/publicservers/publicServers\";\nimport Layers from \"./Layers\";\n\nexport default new class V2_PublicServers {\n\n    constructor() {\n        this._appendButton = this._appendButton.bind(this);\n        window.Lightcord.BetterDiscord.V2_PublicServers = this\n    }\n\n    render() {\n        Layers.createLayer((close) => {\n            return BDV2.react.createElement(V2C_PublicServers, {rootId: \"pubslayerroot\", close})\n        })\n    }\n\n    get button() {\n        const btn = DOM.createElement(`<div id=\"bd-pub-li\" class=\"${BDV2.guildClasses.listItem}\">`);\n        if (!settingsCookie[\"bda-gs-1\"]) btn.style.display = \"none\";\n        const label = DOM.createElement(`<div id=\"bd-pub-button\" class=\"${\"wrapper-25eVIn \" + BDV2.guildClasses.circleButtonMask}\">public</div>`);\n        label.addEventListener(\"click\", () => {this.render();});\n        btn.append(label);\n        return btn;\n    }\n\n    _appendButton() {\n        let [\n            classNametutorialContainer\n        ] = [\n            Utils.removeDa(BDModules.get(e => e.downloadProgress && e.tutorialContainer)[0].tutorialContainer)\n        ]\n        if (DOM.query(\"#bd-pub-li\")) return;\n        const guilds = DOM.query(`div.${classNametutorialContainer} > div`);\n        DOM.after(guilds, this.button);\n    }\n\n    addButton() {\n        if (this.guildPatch) return;\n        const GuildList = webpackModules.find(m => m.default && m.default.displayName == \"NavigableGuilds\");\n        const GuildListOld = webpackModules.findByDisplayName(\"Guilds\");\n        if (!GuildList && !GuildListOld) Utils.warn(\"PublicServer\", \"Can't find GuildList component\");\n        this.guildPatch = Utils.monkeyPatch(GuildList ? GuildList : GuildListOld.prototype, GuildList ? \"default\" : \"render\", {after: this._appendButton});\n        this._appendButton();\n    }\n\n    removeButton() {\n        this.guildPatch();\n        delete this.guildPatch;\n        const button = DOM.query(\"#bd-pub-li\");\n        if (button) button.remove();\n    }\n};","import DOM from \"./domtools\";\n\nconst style = `\n    .container-2Rl01u {\n        display: none!important;\n    }\n\n    .chat-3bRxxu {\n        display: none!important;\n    }\n\n    .sidebar-2K8pFh {\n        flex-grow: 1!important;\n    }\n`;\n\nexport default new class VoiceMode {\n    start() {\n        DOM.addStyle(\"VoiceMode\", style);\n    }\n\n    stop() {\n        DOM.removeStyle(\"VoiceMode\");\n    }\n};","import WebpackModules from \"./webpackModules\";\n\nconst normalizedPrefix = \"da\";\nconst randClass = new RegExp(`^(?!${normalizedPrefix}-)((?:[A-Za-z]|[0-9]|-)+)-(?:[A-Za-z]|[0-9]|-|_){6}$`);\n\nexport default new class ClassNormalizer {\n    constructor(){\n        window.Lightcord.BetterDiscord.ClassNormalizer = this\n    }\n    stop() {\n        if (!this.hasPatched) return;\n        this.unpatchClassModules(WebpackModules.findAll(this.moduleFilter.bind(this)));\n        this.revertElement(document.querySelector(\"#app-mount\"));\n        this.hasPatched = false;\n    }\n\n    start() {\n        if (this.hasPatched) return;\n        this.patchClassModules(WebpackModules.findAll(this.moduleFilter.bind(this)));\n        this.normalizeElement(document.querySelector(\"#app-mount\"));\n        this.hasPatched = true;\n        this.patchDOMMethods();\n    }\n\n    patchClassModules(modules) {\n        for (const module of modules) {\n            this.patchClassModule(normalizedPrefix, module);\n        }\n    }\n\n    unpatchClassModules(modules) {\n        for (const module of modules) {\n            this.unpatchClassModule(normalizedPrefix, module);\n        }\n    }\n\n    shouldIgnore(value) {\n        if (!isNaN(value)) return true;\n        if (value.endsWith(\"px\") || value.endsWith(\"ch\") || value.endsWith(\"em\") || value.endsWith(\"ms\")) return true;\n        if (value.startsWith(\"layerContainer-\")) return true;\n        if (value.startsWith(\"#\") && (value.length == 7 || value.length == 4)) return true;\n        if (value.includes(\"calc(\") || value.includes(\"rgba\")) return true;\n        return false;\n    }\n\n    moduleFilter(module) {\n        if (typeof module !== \"object\" || Array.isArray(module)) return false;\n        if (module.__esModule) return false;\n        if (!Object.keys(module).length) return false;\n        for (const baseClassName in module) {\n            const value = module[baseClassName];\n            if (typeof value !== \"string\") return false;\n            if (this.shouldIgnore(value)) continue;\n            if (value.split(\"-\").length === 1) return false;\n            if (!randClass.test(value.split(\" \")[0])) return false;\n        }\n\n        return true;\n    }\n\n    patchClassModule(componentName, classNames) {\n        for (const baseClassName in classNames) {\n            const value = classNames[baseClassName];\n            if (this.shouldIgnore(value)) continue;\n            const classList = value.split(\" \");\n            for (const normalClass of classList) {\n                const match = normalClass.match(randClass);\n                if (!match || !match.length || match.length < 2) continue; // Shouldn't ever happen since they passed the moduleFilter, but you never know\n                const camelCase = match[1].split(\"-\").map((s, i) => i ? s[0].toUpperCase() + s.slice(1) : s).join(\"\");\n                classNames[baseClassName] += ` ${componentName}-${camelCase}`;\n            }\n        }\n    }\n\n    unpatchClassModule(componentName, classNames) {\n        for (const baseClassName in classNames) {\n            const value = classNames[baseClassName];\n            if (this.shouldIgnore(value)) continue;\n            let newString = \"\";\n            const classList = value.split(\" \");\n            for (const normalClass of classList) {\n                if (normalClass.startsWith(`${componentName}-`)) continue;\n                newString += ` ${normalClass}`;\n            }\n            classNames[baseClassName] = newString.trim();\n        }\n    }\n\n    normalizeElement(element) {\n        if (!(element instanceof Element)) return;\n        const classes = element.classList;\n        for (let c = 0, clen = classes.length; c < clen; c++) {\n            if (!randClass.test(classes[c])) continue;\n            const match = classes[c].match(randClass)[1];\n            const newClass = match.split(\"-\").map((s, i) => i ? s[0].toUpperCase() + s.slice(1) : s).join(\"\");\n            element.classList.add(`${normalizedPrefix}-${newClass}`);\n        }\n        for (const child of element.children) this.normalizeElement(child);\n    }\n\n    revertElement(element) {\n        if (!(element instanceof Element)) return;\n        if (element.children && element.children.length) this.revertElement(element.children[0]);\n        if (element.nextElementSibling) this.revertElement(element.nextElementSibling);\n        const classes = element.classList;\n        const toRemove = [];\n        for (let c = 0; c < classes.length; c++) {\n            if (classes[c].startsWith(`${normalizedPrefix}-`)) toRemove.push(classes[c]);\n        }\n        element.classList.remove(...toRemove);\n    }\n\n    patchDOMMethods() {\n        const contains = DOMTokenList.prototype.contains;\n        DOMTokenList.prototype.contains = function(token) {\n            // const tokens = token.split(\" \");\n            return Reflect.apply(contains, this, [token.split(\" \")[0]]);\n            // return tokens.every(t => contains.call(this, t));\n        };\n\n        const add = DOMTokenList.prototype.add;\n        DOMTokenList.prototype.add = function(...tokens) {\n            for (let t = 0; t < tokens.length; t++) {\n                tokens[t] = tokens[t].split(\" \")[0];\n            }\n            return Reflect.apply(add, this, tokens);\n        };\n\n        const remove = DOMTokenList.prototype.remove;\n        DOMTokenList.prototype.remove = function(...tokens) {\n            for (let t = 0; t < tokens.length; t++) {\n                tokens[t] = tokens[t].split(\" \")[0];\n            }\n            return Reflect.apply(remove, this, tokens);\n        };\n    }\n\n};","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"./v2\";\nimport DOM from \"./domtools\";\nimport Utils from \"./utils\";\n\nexport default new class DevMode {\n    constructor() {\n        this.debugListener = this.debugListener.bind(this);\n        this.copySelectorListener = this.copySelectorListener.bind(this);\n    }\n\n    start() {\n        this.startDebugListener();\n        if (settingsCookie[\"fork-dm-1\"]) this.startCopySelector();\n    }\n    \n    stop() {\n        this.stopDebugListener();\n        this.stopCopySelector();\n    }\n\n    startDebugListener() {\n        this.stopDebugListener();\n        document.addEventListener(\"keydown\", this.debugListener);\n    }\n\n    stopDebugListener() {\n        document.removeEventListener(\"keydown\", this.debugListener);\n    }\n\n    startCopySelector() {\n        this.stopCopySelector();\n        document.addEventListener(\"contextmenu\", this.copySelectorListener);\n    }\n\n    stopCopySelector() {\n        document.removeEventListener(\"contextmenu\", this.copySelectorListener);\n    }\n\n    debugListener(e) {\n        if (e.which === 119 || e.which == 118) {//F8\n            console.log(\"%c[%cDevMode%c] %cBreak/Resume\", \"color: red;\", \"color: #303030; font-weight:700;\", \"color:red;\", \"\");\n            debugger; // eslint-disable-line no-debugger\n            e.preventDefault();\n            e.stopImmediatePropagation();\n         }\n    }\n\n    copySelectorListener(e) {\n        try{\n            e.stopPropagation();\n            const selector = this.getSelector(e.target);\n    \n            let [\n                classLayer, \n                classItems\n            ] = [\n                BDModules.get((e) => e.layer && typeof e.layer === \"string\" && e.disabledPointerEvents)[0],\n                BDModules.get((e) => e.menu)[0]\n            ]\n            \n            function attach() {\n                if(!classItems || !classLayer.layer)return console.log(classItems, classLayer.layer)\n\n                let cm = DOM.query(\".\"+Utils.removeDa(classItems.menu));\n                if (!cm) {\n                    const container = DOM.query(\"#app-mount > .\"+Utils.removeDa(classLayer.layerContainer));\n                    const cmWrap = DOM.createElement(`<div class=\"${classLayer.layer}\">`);\n                    cm = DOM.createElement(`<div class=\"${classItems.menu} ${classItems.styleFlexible} ${classItems.accommodateScrollbar} bd-context-menu\" style=\"\"></div>`);\n                    cmWrap.append(cm);\n                    container.append(cmWrap);\n                    cmWrap.style.top = e.clientY + \"px\";\n                    cmWrap.style.left = e.clientX + \"px\";\n                    cmWrap.setAttribute(\"role\", \"menu\")\n                    cmWrap.setAttribute(\"tabindex\", \"-1\")\n                    cmWrap.id = \"bd-copy-selector-context\"\n                    cmWrap.setAttribute(\"aria-label\", \"Copy Selector Actions\")\n\n                    const scrollerClasses = BDModules.get((e) => e.scrollerWrap)[0]\n                    const scrollerWrap = DOM.createElement(`<div class=\"${scrollerClasses.scrollerWrap} ${scrollerClasses.scrollerThemed} ${scrollerClasses.themeGhostHairline}\"></div>`)\n                    const scroller = DOM.createElement(`<div class=\"${BDModules.get(e => e.scroller)[0].scroller} ${classItems.scroller}\"></div>`)\n                    scrollerWrap.append(scroller)\n                    cm.append(scrollerWrap)\n\n                    const removeCM = function(e) {\n                        if (e.keyCode && e.keyCode !== 27) return;\n                        cmWrap.remove();\n                        document.removeEventListener(\"click\", removeCM);\n                        document.removeEventListener(\"contextmenu\", removeCM);\n                        document.removeEventListener(\"keyup\", removeCM);\n                    };\n                    document.addEventListener(\"click\", removeCM);\n                    document.addEventListener(\"contextmenu\", removeCM);\n                    document.addEventListener(\"keyup\", removeCM);\n                }\n                const cmWrap = cm.parentElement\n                \n                const scroller = cm.childNodes[0].childNodes[0]\n                const cmg = DOM.createElement(`<div role=\"group\"></div>`);\n                /**\n                 * @type {HTMLElement}\n                 */\n                const cmi = DOM.createElement(`<div class=\"${classItems.item} ${classItems.labelContainer} ${classItems.colorDefault}\" role=\"menuitem\" id=\"bd-copy-selector-item-cm\"></div>`);\n                cmi.append(DOM.createElement(`<div class=\"${classItems.label}\">Copy Selector</div>`));\n                cmi.addEventListener(\"click\", () => {\n                    BDV2.NativeModule.copy(selector);\n                    cmWrap.style.display = \"none\"\n                });\n                cmi.addEventListener(\"mouseover\", (e) => {\n                    let elements = DOM.queryAll(\"div[role=menuitem].\"+Utils.removeDa(classItems.focused))\n                    elements && elements.forEach(elem => elem.classList.remove(classItems.focused))\n                    cmi.classList.add(classItems.focused)\n                })\n                cmi.addEventListener(\"mouseout\", (e) => {\n                    cmi.classList.remove(classItems.focused)\n                })\n                cmg.append(cmi);\n                if(scroller.childNodes.length){ // apend a separator\n                    const separator = DOM.createElement(`<div role=\"separator\" class=\"${classItems.separator}\"></div>`)\n                    scroller.append(separator)\n                }\n                scroller.append(cmg);\n                if(cmWrap.clientHeight < cmWrap.scrollHeight){\n                    console.log(\"overflowing \"+cmWrap.style.top)\n                    cmWrap.style.top = (cmWrap.style.top - cmg.clientHeight) + \"px\";\n                    console.log(\"overflowing\"+cmWrap.style.top)\n                }\n            }\n    \n            setTimeout(attach, 1);\n        }catch(e){\n            console.error(e)\n        }\n    }\n\n    getSelector(element) {\n        if (element.id) return `#${element.id}`;\n        /**\n         * \n         * @param {HTMLElement} el \n         */\n        function fullPath(el){\n            var names = [];\n            while (el.parentNode){\n              if (el.id){\n                names.unshift('#'+el.id);\n                break;\n              }else{\n                if (el==el.ownerDocument.documentElement) names.unshift(el.tagName.toLowerCase()+Array.from(el.classList.entries()).map(e => \".\"+e).join(\"\"));\n                else{\n                  for (var c=1,e=el;e.previousElementSibling;e=e.previousElementSibling,c++);\n                  names.unshift(el.tagName.toLowerCase()+((typeof el.className === \"string\" && el.className) || \"\").split(\" \").filter(e => !!e).map(e => \".\"+e).join(\"\")+\":nth-child(\"+c+\")\");\n                }\n                el=el.parentNode;\n              }\n            }\n            return names.join(\" > \");\n        }\n        return fullPath(element)\n    }\n};","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class Switch extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {checked: this.props.checked};\n        this.onChange = this.onChange.bind(this);\n        this.switch = <Lightcord.Api.Components.inputs.Switch onChange={this.onChange} value={this.state.checked} />\n    }\n\n    onChange(value) {\n        if (this.props.disabled) return;\n        this.props.onChange(value);\n        this.setState({checked: value});\n    }\n\n    render() {\n        return this.switch\n    }\n}","import BDV2 from \"../modules/v2\";\nimport Switch from \"./components/switch\";\n\nlet classnames = []\nfunction getClassName(name){\n    let className = classnames.find(e => e.startsWith(name+\"-\"))\n    if(className)return className\n    className = BDModules.get(e => e[name])[0][name]\n    classnames.push(className)\n    return className\n}\n\nexport default class SwitchItem extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    onChange() {\n        this.props.checked = !this.props.checked;\n        this.props.onChange(this.props.id, this.props.checked);\n    }\n\n    render() {\n        let {text, info} = this.props.data;\n        if(!classnames.find(e => e.startsWith(\"beta-\"))){\n            classnames.push(BDModules.get(e => e.beta && (!e.container && !e.userSettingsVoice))[0].beta)\n        }\n        if(this.props.data.experimental){\n            info = [\n                info,\n                React.createElement(\"sup\", {className: getClassName(\"beta\")}, \"(EXPERIMENTAL)\")\n            ]\n        }\n        return BDV2.react.createElement(\"div\", {className: \"ui-flex flex-vertical flex-justify-start flex-align-stretch flex-nowrap ui-switch-item\"},\n            BDV2.react.createElement(\"div\", {className: \"ui-flex flex-horizontal flex-justify-start flex-align-stretch flex-nowrap\"},\n                BDV2.react.createElement(\"h3\", {key: \"title\", className: \"ui-form-title h3 margin-reset margin-reset ui-flex-child\"}, text),\n                BDV2.react.createElement(Switch, {key: \"switch\", onChange: this.onChange, checked: this.props.checked})\n            ),\n            BDV2.react.createElement(\"div\", {className: \"ui-form-text style-description margin-top-4\", style: {flex: \"1 1 auto\"}}, info)\n        );\n    }\n}","let marginModule = BDModules.get(e => e.marginTop60)[0]\n\nexport default class MarginTop extends React.Component {\n    render(){\n        if(!marginModule)marginModule = BDModules.get(e => e.marginTop60)[0]\n        return <div className={marginModule.marginTop60}></div>\n    }\n}","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"../modules/v2\";\n\nimport SettingsTitle from \"./settingsTitle\";\nimport Switch from \"./switch\";\nimport MarginTop from \"./margintop\";\n\nlet formModule\nlet switchItem\nlet betaClassNames\nexport default class V2C_SettingsGroup extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            error: false\n        }\n    }\n\n    renderOldSettings() {\n        const {title, settings, button} = this.props;\n        const buttonComponent = button ? BDV2.react.createElement(\"button\", {key: \"title-button\", className: \"bd-pfbtn\", onClick: button.onClick}, button.title) : null;\n        return [BDV2.react.createElement(SettingsTitle, {text: title}),\n                buttonComponent,\n                settings.map(setting => {\n                    return BDV2.react.createElement(Switch, {id: setting.id, key: setting.id, data: setting, checked: settingsCookie[setting.id], onChange: (id, checked) => {\n                        this.props.onChange(id, checked);\n                    }});\n                })];\n    }\n\n    componentDidCatch(err, errInfo){\n        console.log(err, errInfo)\n        this.setState({\n            error: true\n        })\n    }\n\n    render(){\n        if(this.state.error){\n            try{\n                return this.renderOldSettings()\n            }catch(e){\n                console.error(e)\n                return null\n            }\n        }else{\n            try{\n                if(!formModule)formModule = BDV2.WebpackModules.find(e => e.FormSection)\n                if(!switchItem)switchItem = BDV2.WebpackModules.find(e => e.default && e.default.displayName === \"SwitchItem\")\n                if(!betaClassNames)betaClassNames = BDV2.WebpackModules.find(e => e.beta && (!e.container && !e.userSettingsVoice))\n                \n                let children = []\n                if(this.props.description){\n                    children.push(<formModule.FormText type=\"description\" selectable={false}>\n                        {this.props.description}\n                    </formModule.FormText>, <MarginTop></MarginTop>)\n                }\n                children.push(...this.props.settings.map(setting => {\n                    let info = [\n                        setting.text\n                    ]\n                    if(setting.experimental){\n                        info.push(<sup className={betaClassNames.beta}>(EXPERIMENTAL)</sup>)\n                    }\n                    return <switchItem.default onChange={(ev) => {\n                        this.props.onChange(setting.id, ev.target.checked);\n                        this.forceUpdate()\n                    }} key={setting.id} value={settingsCookie[setting.id]} className={__SECRET_EMOTION__.css({\n                        marginBottom: \"20px\"\n                    })} disabled={false} hideBorder={false}\n                        size={switchItem.default.Sizes.DEFAULT} theme={switchItem.default.Themes.DEFAULT} note={setting.info}>\n                        {info}\n                    </switchItem.default>\n                }))\n                return <formModule.FormSection tag=\"h2\" title={this.props.title}>\n                    {children}\n                </formModule.FormSection>\n            }catch(e){\n                console.error(e)\n                setImmediate(()=>{\n                    this.setState({\n                        error: true\n                    })\n                })\n                return null\n            }\n        }\n    }\n}","import BDV2 from \"../modules/v2\";\n\nimport SettingsGroup from \"./settingsGroup\";\nimport MarginTop from \"./margintop\";\n\nexport default class V2C_SectionedSettingsPanel extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return this.props.sections.map((section, i) => {\n            return [\n                i !== 0 ? BDV2.react.createElement(MarginTop, {}) : null,\n                BDV2.react.createElement(SettingsGroup, Object.assign({}, section, {onChange: this.props.onChange}))\n            ]\n        })\n    }\n}","import BDV2 from \"../modules/v2\";\n\nexport default class V2C_Checkbox extends BDV2.reactComponent {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n        this.setInitialState();\n    }\n\n    setInitialState() {\n        this.state = {\n            checked: this.props.checked || false\n        };\n    }\n\n    render() {\n        return BDV2.react.createElement(\n            \"li\",\n            null,\n            BDV2.react.createElement(\n                \"div\",\n                {className: \"checkbox \"+BDModules.get(e => e.checkboxElement)[0].checkbox, onClick: this.onClick},\n                BDV2.react.createElement(\n                    \"div\",\n                    {className: \"checkbox-inner \"+BDModules.get(e => e.checkboxInner)[0].checkboxInner},\n                    BDV2.react.createElement(\"input\", {className: BDModules.get(e => e.checkboxElement)[0].checkboxElement, checked: this.state.checked, onChange: () => {}, type: \"checkbox\"}),\n                    BDV2.react.createElement(\"span\", null)\n                ),\n                BDV2.react.createElement(\n                    \"span\",\n                    null,\n                    this.props.text\n                )\n            )\n        );\n    }\n\n    onClick() {\n        this.props.onChange(this.props.id, !this.state.checked);\n        this.setState({\n            checked: !this.state.checked\n        });\n    }\n}","import {settingsCookie} from \"../0globals\";\nimport Settings from \"../modules/settingsPanel\";\nimport BDV2 from \"../modules/v2\";\nimport DataStore from \"../modules/dataStore\";\nimport DOM from \"../modules/domtools\";\nimport Utils from \"../modules/utils\"\n\nimport Checkbox from \"./checkbox\";\n\nexport default class V2C_CssEditorDetached extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        const self = this;\n        self.onClick = self.onClick.bind(self);\n        self.updateCss = self.updateCss.bind(self);\n        self.saveCss = self.saveCss.bind(self);\n        self.onChange = self.onChange.bind(self);\n    }\n\n    componentDidMount() {\n        DOM.addClass(DOM.query(\"#app-mount\"), \"bd-detached-editor\");\n        BDV2.editorDetached = true;\n        // this.updateLineCount();\n        this.editor = ace.edit(\"bd-customcss-editor-detached\");\n        this.editor.setTheme(\"ace/theme/discord\");\n        this.editor.session.setMode(\"ace/mode/css\");\n        this.editor.setShowPrintMargin(false);\n        this.editor.setFontSize(14);\n        this.editor.on(\"change\", () => {\n            if (!settingsCookie[\"bda-css-0\"]) return;\n            this.saveCss();\n            this.updateCss();\n        });\n\n    }\n\n    componentWillUnmount() {\n        DOM.removeClass(DOM.query(\"#app-mount\"), \"bd-detached-editor\");\n        BDV2.editorDetached = false;\n        this.editor.destroy();\n    }\n\n    updateLineCount() {\n        const lineCount = this.refs.editor.value.split(\"\\n\").length;\n        if (lineCount == this.props.lines) return;\n        this.refs.lines.textContent = Array.from(new Array(lineCount), (_, i) => i + 1).join(\".\\n\") + \".\";\n        this.props.lines = lineCount;\n    }\n\n    get options() {\n        return {\n            lineNumbers: true,\n            mode: \"css\",\n            indentUnit: 4,\n            theme: \"material\",\n            scrollbarStyle: \"simple\"\n        };\n    }\n\n    get css() {\n        const _ccss = DataStore.getBDData(\"bdcustomcss\");\n        let ccss = \"\";\n        if (_ccss && _ccss !== \"\") {\n            ccss = Buffer.from(_ccss, \"base64\").toString(\"utf8\");\n        }\n        return ccss;\n    }\n\n    get root() {\n        const _root = DOM.query(\"#bd-customcss-detach-container\");\n        if (!_root) {\n            if (!this.injectRoot()) return null;\n            return this.detachedRoot;\n        }\n        return _root;\n    }\n\n    injectRoot() {\n        const app = DOM.query(\".app, .\"+Utils.removeDa(BDModules.get(e => e.app && e.layers)[0].app));\n        if (!app) return false;\n        DOM.insertAfter(DOM.createElement(`<div id=\"bd-customcss-detach-container\">`), app);\n        return true;\n    }\n\n    render() {\n        const self = this;\n        return BDV2.react.createElement(\n            \"div\",\n            {className: \"bd-detached-css-editor\", id: \"bd-customcss-detach-editor\"},\n            BDV2.react.createElement(\n                \"div\",\n                {id: \"bd-customcss-innerpane\"},\n                BDV2.react.createElement(\"div\", {className: \"editor-wrapper\"},\n                    BDV2.react.createElement(\"div\", {id: \"bd-customcss-editor-detached\", className: \"editor\", ref: \"editor\"}, self.css)\n                ),\n                BDV2.react.createElement(\n                    \"div\",\n                    {id: \"bd-customcss-attach-controls\"},\n                    BDV2.react.createElement(\n                        \"ul\",\n                        {className: \"checkbox-group\"},\n                        BDV2.react.createElement(Checkbox, {id: \"live-update\", text: \"Live Update\", onChange: self.onChange, checked: settingsCookie[\"bda-css-0\"]})\n                    ),\n                    BDV2.react.createElement(\n                        \"div\",\n                        {id: \"bd-customcss-detach-controls-button\"},\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"3px 0 0 3px\", borderRight: \"1px solid #3f4146\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"update\");\n                                }},\n                            \"Update\"\n                        ),\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"0\", borderLeft: \"1px solid #2d2d2d\", borderRight: \"1px solid #2d2d2d\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"save\");\n                                }},\n                            \"Save\"\n                        ),\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"0 3px 3px 0\", borderLeft: \"1px solid #3f4146\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"attach\");\n                                }},\n                            \"Attach\"\n                        ),\n                        BDV2.react.createElement(\n                            \"span\",\n                            {style: {fontSize: \"10px\", marginLeft: \"5px\"}},\n                            \"Unsaved changes are lost on attach\"\n                        )\n                    )\n                )\n            )\n        );\n    }\n\n    onChange(id, checked) {\n        switch (id) {\n            case \"live-update\":\n                settingsCookie[\"bda-css-0\"] = checked;\n                Settings.saveSettings();\n                break;\n        }\n    }\n\n    onClick(id) {\n        const self = this;\n        switch (id) {\n            case \"attach\":\n                if (DOM.query(\"#editor-detached\")) self.props.attach();\n                BDV2.reactDom.unmountComponentAtNode(self.root);\n                self.root.remove();\n                break;\n            case \"update\":\n                self.updateCss();\n                break;\n            case \"save\":\n                self.saveCss();\n                break;\n        }\n    }\n\n    updateCss() {\n        DOM.removeStyle(\"customcss\");\n        DOM.addStyle(\"customcss\", this.editor.session.getValue());\n    }\n\n    saveCss() {\n        DataStore.setBDData(\"bdcustomcss\", Buffer.from(this.editor.session.getValue(), \"utf-8\").toString(\"base64\"));\n    }\n}","import {settingsCookie} from \"../0globals\";\nimport Settings from \"../modules/settingsPanel\";\nimport BDV2 from \"../modules/v2\";\nimport DataStore from \"../modules/dataStore\";\nimport DOM from \"../modules/domtools\";\nimport Utils from \"../modules/utils\"\n\nimport SettingsTitle from \"./settingsTitle\";\nimport Checkbox from \"./checkbox\";\nimport V2C_CssEditorDetached from \"./cssEditorDetached\";\n\nexport default class V2C_CssEditor extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        const self = this;\n        self.props.lines = 0;\n        self.setInitialState();\n        self.attach = self.attach.bind(self);\n        self.detachedEditor = BDV2.react.createElement(V2C_CssEditorDetached, {attach: self.attach});\n        self.onClick = self.onClick.bind(self);\n        self.updateCss = self.updateCss.bind(self);\n        self.saveCss = self.saveCss.bind(self);\n        self.detach = self.detach.bind(self);\n    }\n\n    setInitialState() {\n        this.state = {\n            detached: this.props.detached || BDV2.editorDetached\n        };\n    }\n\n    componentDidMount() {\n        // this.updateLineCount();\n        this.editor = ace.edit(\"bd-customcss-editor\");\n        this.editor.setTheme(\"ace/theme/discord\");\n        this.editor.session.setMode(\"ace/mode/css\");\n        this.editor.setShowPrintMargin(false);\n        this.editor.setFontSize(14);\n        this.editor.on(\"change\", () => {\n            if (!settingsCookie[\"bda-css-0\"]) return;\n            this.saveCss();\n            this.updateCss();\n        });\n    }\n\n    componentWillUnmount() {\n        this.editor.destroy();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const self = this;\n        if (prevState.detached && !self.state.detached) {\n            BDV2.reactDom.unmountComponentAtNode(self.detachedRoot);\n        }\n    }\n\n    codeMirror() {\n    }\n\n    get options() {\n        return {\n            lineNumbers: true,\n            mode: \"css\",\n            indentUnit: 4,\n            theme: \"material\",\n            scrollbarStyle: \"simple\"\n        };\n    }\n\n    get css() {\n        const _ccss = DataStore.getBDData(\"bdcustomcss\");\n        let ccss = \"\";\n        if (_ccss && _ccss !== \"\") {\n            ccss = Buffer.from(_ccss, \"base64\").toString(\"utf8\");\n        }\n        return ccss;\n    }\n\n    updateLineCount() {\n        const lineCount = this.refs.editor.value.split(\"\\n\").length;\n        if (lineCount == this.props.lines) return;\n        this.refs.lines.textContent = Array.from(new Array(lineCount), (_, i) => i + 1).join(\".\\n\") + \".\";\n        this.props.lines = lineCount;\n    }\n\n    render() {\n        const self = this;\n\n        const {detached} = self.state;\n        return [\n            detached && BDV2.react.createElement(\n                \"div\",\n                {id: \"editor-detached\"},\n                BDV2.react.createElement(SettingsTitle, {text: \"Custom CSS Editor\"}),\n                BDV2.react.createElement(\n                    \"h3\",\n                    null,\n                    \"Editor Detached\"\n                ),\n                BDV2.react.createElement(\n                    \"button\",\n                    {className: \"btn btn-primary\", onClick: () => {\n                            self.attach();\n                        }},\n                    \"Attach\"\n                )\n            ),\n            !detached && BDV2.react.createElement(\n                \"div\",\n                null,\n                BDV2.react.createElement(SettingsTitle, {text: \"Custom CSS Editor\"}),\n                BDV2.react.createElement(\"div\", {className: \"editor-wrapper\"},\n                    BDV2.react.createElement(\"div\", {id: \"bd-customcss-editor\", className: \"editor\", ref: \"editor\"}, self.css)\n                ),\n                BDV2.react.createElement(\n                    \"div\",\n                    {id: \"bd-customcss-attach-controls\"},\n                    BDV2.react.createElement(\n                        \"ul\",\n                        {className: \"checkbox-group\"},\n                        BDV2.react.createElement(Checkbox, {id: \"live-update\", text: \"Live Update\", onChange: this.onChange, checked: settingsCookie[\"bda-css-0\"]})\n                    ),\n                    BDV2.react.createElement(\n                        \"div\",\n                        {id: \"bd-customcss-detach-controls-button\"},\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"3px 0 0 3px\", borderRight: \"1px solid #3f4146\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"update\");\n                                }},\n                            \"Update\"\n                        ),\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"0\", borderLeft: \"1px solid #2d2d2d\", borderRight: \"1px solid #2d2d2d\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"save\");\n                                }},\n                            \"Save\"\n                        ),\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"0 3px 3px 0\", borderLeft: \"1px solid #3f4146\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"detach\");\n                                }},\n                            \"Detach\"\n                        ),\n                        BDV2.react.createElement(\n                            \"span\",\n                            {style: {fontSize: \"10px\", marginLeft: \"5px\"}},\n                            \"Unsaved changes are lost on detach\"\n                        ),\n                        BDV2.react.createElement(\"div\", {className: \"help-text\"},\n                            \"Press \",\n                            BDV2.react.createElement(\"code\", {className: \"inline\"}, \"ctrl\"),\n                            \"+\",\n                            BDV2.react.createElement(\"span\", {className: \"inline\"}, \",\"),\n                            \" with the editor focused to access the editor's settings.\"\n                        )\n                    )\n                )\n            )\n        ]\n    }\n\n    onClick(arg) {\n        const self = this;\n        switch (arg) {\n            case \"update\":\n                self.updateCss();\n                break;\n            case \"save\":\n                self.saveCss();\n                break;\n            case \"detach\":\n                self.detach();\n                break;\n        }\n    }\n\n    onChange(id, checked) {\n        switch (id) {\n            case \"live-update\":\n                settingsCookie[\"bda-css-0\"] = checked;\n                Settings.saveSettings();\n                break;\n        }\n    }\n\n    updateCss() {\n        DOM.removeStyle(\"customcss\");\n        DOM.addStyle(\"customcss\", this.editor.session.getValue());\n    }\n\n    saveCss() {\n        DataStore.setBDData(\"bdcustomcss\", Buffer.from(this.editor.session.getValue(), \"utf-8\").toString(\"base64\"));\n    }\n\n    detach() {\n        const self = this;\n        self.setState({\n            detached: true\n        });\n        const droot = self.detachedRoot;\n        if (!droot) {\n            console.log(\"FAILED TO INJECT ROOT: .app\");\n            return;\n        }\n        BDV2.reactDom.render(self.detachedEditor, droot);\n    }\n\n    get detachedRoot() {\n        const _root = DOM.query(\"#bd-customcss-detach-container\");\n        if (!_root) {\n            if (!this.injectDetachedRoot()) return null;\n            return this.detachedRoot;\n        }\n        return _root;\n    }\n\n    injectDetachedRoot() {\n        const app = DOM.query(\".app, .\"+Utils.removeDa(BDModules.get(e => e.app && e.layers)[0].app));\n        if (!app) return false;\n        DOM.insertAfter(DOM.createElement(`<div id=\"bd-customcss-detach-container\">`), app);\n        return true;\n    }\n\n    attach() {\n        const self = this;\n        self.setState({\n            detached: false\n        });\n    }\n}","import BDV2 from \"../modules/v2\";\n\nexport default class BDErrorBoundary extends BDV2.reactComponent {\n    constructor(props) {\n      super(props);\n      this.state = {hasError: false};\n    }\n\n    componentDidCatch() {\n      this.setState({hasError: true});\n    }\n\n    render() {\n      if (this.state.hasError) return BDV2.react.createElement(\"div\", {className: \"react-error\"}, \"Component Error\");  \n      return this.props.children; \n    }\n}\n\nconst originalRender = BDErrorBoundary.prototype.render;\nObject.defineProperty(BDErrorBoundary.prototype, \"render\", {\n    enumerable: false,\n    configurable: false,\n    set: function() {console.warn(\"Addon policy for plugins #5 https://github.com/rauenzi/BetterDiscordApp/wiki/Addon-Policies#plugins\");},\n    get: () => originalRender\n}); ","import BDV2 from \"../modules/v2\";\n\nexport default class V2C_ContentColumn extends BDV2.reactComponent {\n    constructor(props) {\n        super(props);\n    }\n\n    static get displayName() {return \"ContentColumn\";}\n\n    render() {\n        //let contentModule = BDModules.get(e => e.contentColumn)[0]\n        let title = this.props.title ? BDV2.react.createElement(\"h2\", {className: \"ui-form-title h2 margin-reset margin-bottom-20\"}, this.props.title) : null\n        return [\n            title,\n            this.props.children\n        ]\n        return BDV2.react.createElement(\n            \"div\",\n            {className: contentModule.contentColumn + \" \"+contentModule.contentColumnDefault+\" content-column default\", style: {padding: \"60px 40px 0px\"}},\n            title,\n            this.props.children\n        );\n    }\n}","import BDV2 from \"../modules/v2\";\n\nexport default class V2C_ReloadIcon extends BDV2.reactComponent {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return BDV2.react.createElement(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 24 24\",\n                fill: \"#dcddde\",\n                className: \"bd-reload \" + this.props.className,\n                onClick: this.props.onClick,\n                style: {width: this.props.size || \"24px\", height: this.props.size || \"24px\"}\n            },\n            BDV2.react.createElement(\"path\", {d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"}),\n            BDV2.react.createElement(\"path\", {fill: \"none\", d: \"M0 0h24v24H0z\"})\n        );\n    }\n}","import BDV2 from \"../modules/v2\";\n\nexport default class V2C_XSvg extends BDV2.reactComponent {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return BDV2.react.createElement(\n            \"svg\",\n            {xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 12 12\", style: {width: \"18px\", height: \"18px\"}},\n            BDV2.react.createElement(\n                \"g\",\n                {className: \"background\", fill: \"none\", fillRule: \"evenodd\"},\n                BDV2.react.createElement(\"path\", {d: \"M0 0h12v12H0\"}),\n                BDV2.react.createElement(\"path\", {className: \"fill\", fill: \"#dcddde\", d: \"M9.5 3.205L8.795 2.5 6 5.295 3.205 2.5l-.705.705L5.295 6 2.5 8.795l.705.705L6 6.705 8.795 9.5l.705-.705L6.705 6\"})\n            )\n        );\n    }\n}","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class Edit extends React.Component {\n    render() {\n        const size = this.props.size || \"24px\";\n        return <svg className={this.props.className || \"\"} viewBox=\"0 0 24 24\" fill=\"var(--text-normal)\" style={{width: size, height: size}} onClick={this.props.onClick}>\n                <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\n                <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n               </svg>;\n    }\n}","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class Delete extends React.Component {\n    render() {\n        const size = this.props.size || \"24px\";\n        return <svg className={this.props.className || \"\"} fill=\"var(--text-normal)\" viewBox=\"0 0 24 24\" style={{width: size, height: size}} onClick={this.props.onClick}>\n                    <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"/>\n                    <path fill=\"none\" d=\"M0 0h24v24H0z\"/>\n                </svg>;\n    }\n}","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"../modules/v2\";\nimport Utils from \"../modules/utils\";\nimport DOM from \"../modules/domtools\";\n\nimport XSvg from \"./xSvg\";\nimport ReloadIcon from \"./reloadIcon\";\nimport EditIcon from \"./icons/edit\";\nimport DeleteIcon from \"./icons/delete\";\nimport Switch from \"./components/switch\";\nimport TooltipWrap from \"./tooltipWrap\";\nimport { processFile } from \"../modules/pluginCertifier\";\nimport contentManager from \"../modules/contentManager\";\nimport { resolve } from \"path\";\n\nconst React = BDV2.React;\nconst anchorClasses = BDV2.anchorClasses;\n\nexport default class V2C_PluginCard extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        this.onChange = this.onChange.bind(this);\n        this.showSettings = this.showSettings.bind(this);\n        this.setInitialState();\n        this.hasSettings = this.props.addon.plugin && typeof(this.props.addon.plugin.getSettingsPanel) === \"function\";\n        this.settingsPanel = \"\";\n\n        this.edit = this.edit.bind(this);\n        this.delete = this.delete.bind(this);\n        this.reload = this.reload.bind(this);\n    }\n\n    setInitialState() {\n        this.state = {\n            checked: this.props.enabled,\n            settings: false,\n            reloads: 0,\n            trusted: false\n        };\n    }\n\n    showSettings() {\n        if (!this.hasSettings) return;\n        this.setState({settings: true});\n    }\n\n    closeSettings() {\n        this.panelRef.current.innerHTML = \"\";\n        this.setState({settingsOpen: false});\n    }\n\n    componentDidUpdate() {\n        if (!this.state.settings) return;\n        if (typeof this.settingsPanel === \"object\") {\n            this.refs.settingspanel.appendChild(this.settingsPanel);\n        }\n\n        if (!settingsCookie[\"fork-ps-3\"]) return;\n        setImmediate(() => {\n            const isHidden = (container, element) => {\n                if(!container){\n                    console.error(new Error(`Container is undefined.`))\n                    return false\n                }\n                const cTop = container.scrollTop;\n                const cBottom = cTop + container.clientHeight;\n                const eTop = element.offsetTop;\n                const eBottom = eTop + element.clientHeight;\n                return  (eTop < cTop || eBottom > cBottom);\n            };\n\n            const thisNode = this.refs.cardNode;\n            const container = thisNode.closest(\"div[class*=\\\"contentRegionScroller-\\\"]\")\n            if (!isHidden(container, thisNode)) return;\n            const thisNodeOffset = DOM.offset(thisNode);\n            const containerOffset = DOM.offset(container);\n            const original = container.scrollTop;\n            const endPoint = thisNodeOffset.top - containerOffset.top + container.scrollTop - 30;\n            DOM.animate({\n                duration: 300,\n                update: function(progress) {\n                    if (endPoint > original) container.scrollTop = original + (progress * (endPoint - original));\n                    else container.scrollTop = original - (progress * (original - endPoint));\n                }\n            });\n        });\n    }\n\n\n    getString(value) {\n        if (!value) return \"???\";\n        return typeof value == \"string\" ? value : value.toString();\n    }\n\n    get settingsComponent() {\n        try { this.settingsPanel = this.props.addon.plugin.getSettingsPanel(); }\n        catch (err) { Utils.err(\"Plugins\", \"Unable to get settings panel for \" + this.name + \".\", err); }\n\n        return BDV2.react.createElement(\"div\", {className: \"bd-card bd-addon-card settings-open ui-switch-item\", ref: \"cardNode\"},\n                BDV2.react.createElement(\"div\", {style: {\"float\": \"right\", \"cursor\": \"pointer\"}, onClick: () => {\n                        this.refs.settingspanel.innerHTML = \"\";\n                        this.setState({settings: false});\n                    }},\n                BDV2.react.createElement(XSvg, null)\n            ),\n            typeof this.settingsPanel === \"object\" && BDV2.react.createElement(\"div\", {id: `plugin-settings-${this.name}`, className: \"plugin-settings\", ref: \"settingspanel\"}),\n            typeof this.settingsPanel !== \"object\" && BDV2.react.createElement(\"div\", {id: `plugin-settings-${this.name}`, className: \"plugin-settings\", ref: \"settingspanel\", dangerouslySetInnerHTML: {__html: this.settingsPanel}})\n        );\n    }\n\n    buildTitle(name, version, author) {\n        const title = \"{{name}} v{{version}} by {{author}}\".split(/({{[A-Za-z]+}})/);\n        const nameIndex = title.findIndex(s => s == \"{{name}}\");\n        if (nameIndex) title[nameIndex] = React.createElement(\"span\", {className: \"name bda-name\"}, name);\n        const versionIndex = title.findIndex(s => s == \"{{version}}\");\n        if (nameIndex) title[versionIndex] = React.createElement(\"span\", {className: \"version bda-version\"}, version);\n        const authorIndex = title.findIndex(s => s == \"{{author}}\");\n        if (nameIndex) {\n            const props = {className: \"author bda-author\"};\n            if (author.link || author.id) {\n                props.className += ` ${anchorClasses.anchor} ${anchorClasses.anchorUnderlineOnHover}`;\n                props.target = \"_blank\";\n\n                if (author.link) props.href = author.link;\n                if (author.id) props.onClick = () => {BDV2.LayerStack.popLayer(); BDV2.openDM(author.id);};\n            }\n            title[authorIndex] = React.createElement(author.link || author.id ? \"a\" : \"span\", props, author.name);\n        }\n        return title.flat();\n    }\n\n    makeLink(title, url) {\n        const props = {className: \"bda-link bda-link-website\", target: \"_blank\"};\n        if (typeof(url) == \"string\") props.href = url;\n        if (typeof(url) == \"function\") props.onClick = (event) => {event.preventDefault(); event.stopPropagation(); url();};\n        return BDV2.react.createElement(\"a\", props, title);\n    }\n\n    makeButton(title, children, action) {\n        return <TooltipWrap color=\"black\" side=\"top\" text={title}>\n            <div className=\"bd-addon-button\" onClick={action}>{children}</div>\n        </TooltipWrap>;\n    }\n\n    componentWillUnmount(){\n        this.unmounted = true\n    }\n\n    get links() {\n        const links = [];\n        const addon = this.props.addon;\n        if (addon.website) links.push(this.makeLink(\"Website\", addon.website));\n        if (addon.source) links.push(this.makeLink(\"Source\", addon.source));\n        if (addon.invite) {\n            links.push(this.makeLink(\"Support Server\", () => {\n                const tester = /\\.gg\\/(.*)$/;\n                let code = addon.invite;\n                if (tester.test(code)) code = code.match(tester)[1];\n                BDV2.LayerStack.popLayer();\n                BDV2.InviteActions.acceptInviteAndTransitionToInviteChannel(code);\n            }));\n        }\n        if (addon.donate) links.push(this.makeLink(\"Donate\", addon.donate));\n        if (addon.patreon) links.push(this.makeLink(\"Patreon\", addon.patreon));\n        return links;\n    }\n\n    get footer() {\n        const links = this.links;\n        return (links.length || this.hasSettings) && BDV2.react.createElement(\"div\", {className: \"bd-card-footer bda-footer\"},\n            BDV2.react.createElement(\"span\", {className: \"bd-addon-links bda-links\"},\n                ...(links.map((element, index) => index < links.length - 1 ? [element, \" | \"] : element).flat())\n            ),\n            this.hasSettings && BDV2.react.createElement(\"button\", {onClick: this.showSettings, className: \"bd-button bda-settings-button\", disabled: !this.state.checked}, \"Settings\")\n        );\n    }\n\n    onChange() {\n        this.props.toggle && this.props.toggle(this.name);\n        this.setState({checked: !this.state.checked});\n    }\n\n    edit() {this.props.edit(this.name);}\n    delete() {this.props.remove(this.name);}\n    reload() {this.props.reload(this.name);}\n\n    get name() {return this.getString(this.props.addon.plugin ? this.props.addon.plugin.getName() : this.props.addon.name);}\n    get author() {return this.getString(this.props.addon.plugin ? this.props.addon.plugin.getAuthor() : this.props.addon.author);}\n    get description() {return this.getString(this.props.addon.plugin ? this.props.addon.plugin.getDescription() : this.props.addon.description);}\n    get version() {return this.getString(this.props.addon.plugin ? this.props.addon.plugin.getVersion() : this.props.addon.version);}\n\n    render() {\n        if (this.state.settings) return this.settingsComponent;\n        const {authorId, authorLink} = this.props.addon;\n\n        const style = {}\n        if(settingsCookie[\"fork-ps-6\"]){\n            if(!this.isScanning){\n                this.isScanning = true\n                processFile(resolve(this.props.addon.filename.endsWith(\".plugin.js\") ? contentManager.pluginsFolder : contentManager.themesFolder, this.props.addon.filename), (result) => {\n                    if(this.unmounted)return\n    \n                    this.setState({\n                        isTrusted: result.suspect ? \"suspect\" : true\n                    })\n                }, () => {})\n            }else{\n                if(this.state.isTrusted === true){\n                    style.borderColor = \"#4087ed\"\n                }\n                if(this.state.isTrusted === \"suspect\"){\n                    style.borderColor = \"rgb(240, 71, 71)\"\n                }\n            }\n        }\n        \n        return BDV2.react.createElement(\"div\", {className: \"bd-card bd-addon-card settings-closed ui-switch-item\", style},\n            BDV2.react.createElement(\"div\", {className: \"bd-addon-header bda-header\"},\n                    BDV2.react.createElement(\"div\", {className: \"bd-card-title bda-header-title\"}, this.buildTitle(this.name, this.version, {name: this.author, id: authorId, link: authorLink})),\n                    BDV2.react.createElement(\"div\", {className: \"bd-addon-controls bda-controls\"},\n                        this.props.edit && this.makeButton(\"Edit\", <EditIcon className=\"bd-icon\" />, this.edit),\n                        this.props.remove && this.makeButton(\"Delete\", <DeleteIcon className=\"bd-icon\" />, this.delete),\n                        this.props.reload && this.makeButton(\"Reload\", <ReloadIcon className=\"bd-icon\" />, this.reload),\n                        React.createElement(Switch, {onChange: this.onChange, checked: this.state.checked})\n                    )\n            ),\n            BDV2.react.createElement(\"div\", {className: \"bd-scroller-wrap bda-description-wrap scroller-wrap fade\"},\n                BDV2.react.createElement(\"div\", {className: \"bd-scroller bd-addon-description bda-description scroller\"}, this.description)\n            ),\n            this.footer\n        );\n    }\n}\n\nconst originalRender = V2C_PluginCard.prototype.render;\nObject.defineProperty(V2C_PluginCard.prototype, \"render\", {\n    enumerable: false,\n    configurable: false,\n    set: function() {console.warn(\"Addon policy for plugins #5 https://github.com/rauenzi/BetterDiscordApp/wiki/Addon-Policies#plugins\");},\n    get: () => originalRender\n});","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class DownArrow extends React.Component {\n    render() {\n        const size = this.props.size || \"16px\";\n        return <svg className={this.props.className || \"\"} fill=\"var(--text-normal)\" viewBox=\"0 0 24 24\" style={{width: size, height: size}}>\n                    <path d=\"M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z\"/>\n                </svg>;\n    }\n}","import BDV2 from \"../../modules/v2\";\nimport Arrow from \"../icons/downarrow\";\n\nconst React = BDV2.React;\n\n\nexport default class Select extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {open: false, value: this.props.value || this.props.options[0].value};\n        this.dropdown = React.createRef();\n        this.onChange = this.onChange.bind(this);\n        this.showMenu = this.showMenu.bind(this);\n        this.hideMenu = this.hideMenu.bind(this);\n    }\n\n    showMenu(event) {\n        event.preventDefault();\n        this.setState({open: true}, () => {\n            document.addEventListener(\"click\", this.hideMenu);\n        });\n    }\n\n    hideMenu() {\n        this.setState({open: false}, () => {\n            document.removeEventListener(\"click\", this.hideMenu);\n        });\n    }\n\n    onChange(value) {\n        this.setState({value});\n        if (this.props.onChange) this.props.onChange(value);\n    }\n\n    get selected() {return this.props.options.find(o => o.value == this.state.value);}\n\n    get options() {\n        const selected = this.selected;\n        return <div className=\"bd-select-options\">\n            {this.props.options.map(opt => \n                <div className={`bd-select-option${selected.value == opt.value ? \" selected\" : \"\"}`} onClick={this.onChange.bind(this, opt.value)}>{opt.label}</div>\n            )}\n        </div>;\n    }\n\n    render() {\n        const style = this.props.style == \"transparent\" ? \" bd-select-transparent\" : \"\";\n        const isOpen = this.state.open ? \" menu-open\" : \"\";\n        return  <div className={`bd-select${style}${isOpen}`} onClick={this.showMenu} ref={this.dropdown}>\n                    <div className=\"bd-select-value\">{this.selected.label}</div>\n                    <Arrow className=\"bd-select-arrow\" />\n                    {this.state.open && this.options}\n                </div>;\n    }\n}\n\n// return <div className=\"bd-select-wrap\">\n// <label className=\"bd-label\">{this.props.label}</label>\n// <div className={`bd-select${style}${isOpen}`} onClick={this.showMenu} ref={this.dropdown}>\n//     <div className=\"bd-select-controls\">\n//         <div className=\"bd-select-value\">{this.selected.label}</div>\n//         <Arrow className=\"bd-select-arrow\" />\n//     </div>\n// </div>\n// {this.state.open && this.options}\n// </div>;","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class Search extends React.Component {\n    render() {\n        const size = this.props.size || \"16px\";\n        return <svg className={this.props.className || \"\"} fill=\"var(--text-normal)\" viewBox=\"0 0 24 24\" style={{width: size, height: size}}>\n                    <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n                    <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n                </svg>;\n    }\n}","import BDV2 from \"../../modules/v2\";\nimport SearchIcon from \"../icons/search\";\n\nconst React = BDV2.React;\n\nexport default class Search extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            focused: false\n        }\n    }\n    render() {\n        const className = [\"bd-search-wrapper\"]\n        if(this.state.focused)className.push(\"focused\")\n        return <div className={className.join(\" \")}>\n                    <input onChange={this.props.onChange} onKeyDown={this.props.onKeyDown} type=\"text\" \n                    className=\"bd-search\" placeholder={this.props.placeholder} maxLength=\"50\" \n                    onFocus={() => {\n                        this.setState({focused: true})\n                    }} onBlur={() => {\n                        this.setState({focused: false})\n                    }}/>\n                    <SearchIcon />\n                </div>;\n    }\n}","import ErrorBoundary from \"./errorBoundary\";\nimport ContentColumn from \"./contentColumn\";\nimport ReloadIcon from \"./reloadIcon\";\nimport AddonCard from \"./addoncard\";\nimport Dropdown from \"./components/dropdown\";\nimport Search from \"./components/search\";\n\nimport {settingsCookie, pluginCookie, themeCookie, bdplugins, bdthemes} from \"../0globals\";\nimport ContentManager from \"../modules/contentManager\";\nimport BDV2 from \"../modules/v2\";\nimport pluginModule from \"../modules/pluginModule\";\nimport themeModule from \"../modules/themeModule\";\nimport WebpackModules from \"../modules/webpackModules\";\nimport BdApi from \"../modules/bdApi\";\nimport Utils from \"../modules/utils\";\nimport TooltipWrap from \"./tooltipWrap\";\nimport bdEvents from \"../modules/bdEvents\";\nimport EmulatedTooltip from \"./tooltip\";\n\nconst Tooltip = WebpackModules.findByDisplayName(\"Tooltip\");\n\nconst React = BDV2.react;\n\nexport default class CardList extends BDV2.reactComponent {\n    constructor(props) {\n        super(props);\n        this.state = {sort: \"name\", ascending: true, query: \"\"};\n        this.isPlugins = this.props.type == \"plugins\";\n        this.cookie = this.isPlugins ? pluginCookie : themeCookie;\n        this.manager = this.isPlugins ? pluginModule : themeModule;\n\n        this.sort = this.sort.bind(this);\n        this.reverse = this.reverse.bind(this);\n        this.search = this.search.bind(this);\n\n        this.onAddonChanges = function(){\n            this.forceUpdate()\n        }\n        this.onAddonChanges = this.onAddonChanges.bind(this)\n    }\n\n    componentDidMount(){\n        const type = (this.isPlugins ? \"plugin\" : \"theme\") + \"-\"\n        bdEvents.on(`${type}loaded`, this.onAddonChanges)\n        bdEvents.on(`${type}unloaded`, this.onAddonChanges)\n        bdEvents.on(`${type}reloaded`, this.onAddonChanges)\n    }\n\n    componentWillUnmount(){\n        const type = (this.isPlugins ? \"plugin\" : \"theme\") + \"-\"\n        bdEvents.off(`${type}loaded`, this.onAddonChanges)\n        bdEvents.off(`${type}unloaded`, this.onAddonChanges)\n        bdEvents.off(`${type}reloaded`, this.onAddonChanges)\n    }\n\n    openFolder() {\n        const shell = require(\"electron\").shell;\n        const open = shell.openPath || shell.openItem;\n        open(this.isPlugins ? ContentManager.pluginsFolder : ContentManager.themesFolder);\n    }\n\n    edit(name) {\n        console.log(name);\n        this.manager.edit(name);\n    }\n\n    async delete(name) {\n        const shouldDelete = await this.confirmDelete(name);\n        if (!shouldDelete) return;\n        this.manager.delete(name);\n    }\n\n    confirmDelete(name) {\n        return new Promise(resolve => {\n            BdApi.showConfirmationModal(\"Are You Sure?\", `Are you sure you want to delete ${name}?`, {\n                danger: true,\n                confirmText: \"Delete\",\n                onConfirm: () => {resolve(true);},\n                onCancel: () => {resolve(false);}\n            });\n        });\n    }\n\n    get sortOptions() {\n        return [\n            {label: \"Name\", value: \"name\"},\n            {label: \"Author\", value: \"author\"},\n            {label: \"Version\", value: \"version\"},\n            {label: \"Recently Added\", value: \"added\"},\n            {label: \"Last Modified\", value: \"modified\"},\n            {label: \"File Size\", value: \"size\"},\n        ];\n    }\n\n    get directions() {\n        return [\n            {label: \"Ascending\", value: true},\n            {label: \"Descending\", value: false}\n        ];\n    }\n\n    reverse(value) {\n        this.setState({ascending: value});\n    }\n\n    sort(value) {\n        this.setState({sort: value});\n    }\n\n    search(event) {\n        this.setState({query: event.target.value.toLocaleLowerCase()});\n    }\n\n    getProps(addon) {\n        return {\n            key: this.getName(addon),\n            enabled: this.cookie[this.getName(addon)],\n            toggle: this.manager.toggle.bind(this.manager),\n            edit: settingsCookie[\"fork-ps-7\"] ? this.edit.bind(this) : null,\n            remove: this.delete.bind(this),\n            addon: addon,\n            hash: addon.hash\n        };\n    }\n\n    getString(value) {\n        if (!value) return \"???\";\n        return typeof value == \"string\" ? value : value.toString();\n    }\n\n    get list(){\n        return this.props.type === \"plugins\" ? Object.values(bdplugins) : Object.values(bdthemes);\n    }\n\n    getAddons() {\n        const sortedAddons = this.list.sort((a, b) => {\n            const cap = this.state.sort.charAt(0).toUpperCase() + this.state.sort.slice(1);\n            const first = a.plugin && a.plugin[`get${cap}`] ? this.getString(a.plugin[`get${cap}`]()) : this.getString(a[this.state.sort]);\n            const second = b.plugin && b.plugin[`get${cap}`] ? this.getString(b.plugin[`get${cap}`]())  : this.getString(b[this.state.sort]);\n            if (typeof(first) == \"string\") return first.toLocaleLowerCase().localeCompare(second.toLocaleLowerCase());\n            if (first > second) return 1;\n            if (second > first) return -1;\n            return 0;\n        });\n        if (!this.state.ascending) sortedAddons.reverse();\n        const rendered = [];\n        for (let a = 0; a < sortedAddons.length; a++) {\n            const addon = sortedAddons[a];\n            if (this.state.query) {\n                let matches = null;\n                const name = this.getName(addon);\n                const author = this.getAuthor(addon);\n                const description = this.getDescription(addon);\n                const version = this.getVersion(addon);\n                if (name) matches = name.toLocaleLowerCase().includes(this.state.query);\n                if (author) matches = matches || author.toLocaleLowerCase().includes(this.state.query);\n                if (description) matches = matches || description.toLocaleLowerCase().includes(this.state.query);\n                if (version) matches = matches || version.toLocaleLowerCase().includes(this.state.query);\n                if (!matches) continue;\n            }\n            const props = this.getProps(addon);\n            rendered.push(<ErrorBoundary><AddonCard {...props} reload={!settingsCookie[\"fork-ps-5\"] && this.manager.reload.bind(this.manager)} /></ErrorBoundary>);\n        }\n        return rendered;\n    }\n\n    getName(addon) {return this.getString(addon.plugin ? addon.plugin.getName() : addon.name);}\n    getAuthor(addon) {return this.getString(addon.plugin ? addon.plugin.getAuthor() : addon.author);}\n    getDescription(addon) {return this.getString(addon.plugin ? addon.plugin.getDescription() : addon.description);}\n    getVersion(addon) {return this.getString(addon.plugin ? addon.plugin.getVersion() : addon.version);}\n\n    renderCheckUpdates(){\n        if(!window.ZeresPluginLibrary)return null\n        if(!window.PluginUpdates)return null\n        if(typeof window.PluginUpdates.checkAll !== \"function\")return null\n        if(!this.isPlugins)return null\n\n        let tooltipIsShowing = false\n        let tooltip\n        return <TooltipWrap text=\"Checks for updates of plugins that support this feature. Right-click for a list.\">\n            <span style={{marginLeft: \"10px\"}} onMouseLeave={() => {\n                    tooltipIsShowing = false\n                    tooltip.hide()\n                }}>\n                <Lightcord.Api.Components.inputs.Button ref=\"checkUpdateButton\" color=\"brand\" look=\"filled\" size=\"min\" hoverColor=\"default\" onClick={() => {\n                    try{\n                        Utils.showToast(\"Plugin update check in progress.\", {type: \"info\"})\n                        window.PluginUpdates.checkAll()\n                        .then(() => {\n                            Utils.showToast(\"Plugin update check complete.\", {type: \"success\"})\n                        }).catch(err => {\n                            console.error(err)\n                            Utils.showToast(\"An error occured while checking update.\", {type: \"error\"})\n                        })\n                    }catch(e){\n                        console.error(e)\n                        Utils.showToast(\"An error occured while checking update.\", {type: \"error\"})\n                    }\n                }} wrapper={false} disabled={false} onRightClick={() => {\n                    if(!this.refs.checkUpdateButton)return\n                    if (!window.PluginUpdates || !window.PluginUpdates.plugins) return;\n                    if(tooltipIsShowing)return\n                    tooltip = new EmulatedTooltip(this.refs.checkUpdateButton.refs.original.refs.button, Object.values(window.PluginUpdates.plugins).map(p => p.name).join(\", \"), {\n                        side: \"bottom\",\n                        attachEvents: false\n                    })\n                    tooltip.show()\n                    tooltipIsShowing = true\n                }}>\n                    Check for Updates\n                </Lightcord.Api.Components.inputs.Button>\n            </span>\n        </TooltipWrap>\n    }\n\n    render() {\n        const refreshIcon = <Tooltip color=\"black\" position=\"top\" text=\"Reload List\">\n            {(props) => \n            <ReloadIcon {...props} className=\"bd-icon bd-reload bd-reload-header\" size=\"18px\" onClick={async () => {\n                if (this.isPlugins) pluginModule.updatePluginList();\n                else themeModule.updateThemeList();\n                this.forceUpdate();\n            }} />\n            }</Tooltip>;\n        const addonCards = this.getAddons();\n\n        return <ContentColumn title={`${this.props.type.toUpperCase()}—${addonCards.length}`}>\n            <Lightcord.Api.Components.inputs.Button key=\"folder-button\" color=\"brand\" \n                look=\"filled\" size=\"min\" hoverColor=\"default\" onClick={this.openFolder.bind(this)} wrapper={false}\n                style={{\n                    marginLeft: \"10px\"\n                }}>\n                Open {this.isPlugins ? \"Plugin\" : \"Theme\"} Folder\n            </Lightcord.Api.Components.inputs.Button>\n            {this.renderCheckUpdates()}\n            {!settingsCookie[\"fork-ps-5\"] && refreshIcon}\n            <div className=\"bd-controls bd-addon-controls\">\n                <Search onChange={this.search} placeholder={`Search ${this.props.type}...`} />\n                <div className=\"bd-addon-dropdowns\">\n                    <div className=\"bd-select-wrapper\">\n                        <label className=\"bd-label\">Sort by:</label>\n                        <Dropdown options={this.sortOptions} onChange={this.sort} style=\"transparent\" />\n                    </div>\n                    <div className=\"bd-select-wrapper\">\n                        <label className=\"bd-label\">Order:</label>\n                        <Dropdown options={this.directions} onChange={this.reverse} style=\"transparent\" />\n                    </div>\n                    \n                </div>\n            </div>\n            <div className=\"bda-slist bd-addon-list\">{addonCards}</div>\n        </ContentColumn>\n    }\n}\n\nconst originalRender = CardList.prototype.render;\nObject.defineProperty(CardList.prototype, \"render\", {\n    enumerable: false,\n    configurable: false,\n    set: function() {console.warn(\"Addon policy for plugins #5 https://github.com/rauenzi/BetterDiscordApp/wiki/Addon-Policies#plugins\");},\n    get: () => originalRender\n});","import {settingsRPC, defaultRPC} from \"../0globals\";\n\nconst dispatcher = BDModules.get(m=>m.Dispatcher&&m.default&&m.default.dispatch)[0].default\nconst ActionTypes = BDModules.get(m=>m.ActionTypes)[0].ActionTypes\n\nconst socketId = \"lightcord-spoof-socket\"\nconst pid = process.pid\n\nexport default new class CustomRichPresence {\n    constructor(){\n        this.enabled = false\n\n        this.game = settingsRPC\n    }\n    \n    get formatedGame(){\n        if(!this.game)return null\n        if(this.enabled === false)return null\n        let game = {\n            name: this.game.name || defaultRPC.name,\n            application_id: this.game.application_id || defaultRPC.application_id,\n            details: this.game.details || undefined,\n            state: this.game.state || undefined,\n            timestamps: this.game[\"timestamps.start\"] ? {\n                start: this.game[\"timestamps.start\"]\n            } : undefined,\n            assets: this.game[\"assets.large\"] ? {\n                large_image: this.game[\"assets.large\"],\n                small_image: this.game[\"assets.small\"] || undefined\n            } : undefined\n        }\n        return game\n    }\n\n    sendGame(){\n        dispatcher.dispatch({\n            type: ActionTypes.LOCAL_ACTIVITY_UPDATE,\n            socketId,\n            pid,\n            activity: this.formatedGame\n        })   \n    }\n\n    enable() {\n        if(this.enabled)return\n        this.enabled = true\n        console.log(\"Enabling custom RichPresence\")\n\n        this.set(settingsRPC || Object.create(defaultRPC))\n\n        this.sendGame()\n    }\n\n    disable() {\n        if(!this.enabled)return\n        this.enabled = false\n        console.log(\"Disabling custom RichPresence\")\n\n        this.sendGame()\n    }\n\n    async fetchAssets(applicationId){\n        let assets = await BDModules.get(e => e.getAssets)[0].getAssets(applicationId)\n        if(assets.undefined && typeof assets.undefined === \"number\"){\n            throw new Error(\"Unknown Application\")\n        }\n        return assets\n    }\n\n    set(activity){\n        this.game = activity\n\n        this.sendGame()\n    }\n}","import BDV2 from \"../modules/v2\";\nimport V2C_SettingsTitle from \"./settingsTitle\";\nimport V2C_SettingsGroup from \"./settingsGroup\";\nimport dataStore from \"../modules/dataStore\";\nimport { defaultRPC, settingsRPC } from \"../0globals\";\nimport CustomRichPresence from \"../modules/CustomRichPresence\"\nimport { remote } from \"electron\";\nimport MarginTop from \"./margintop\";\nimport Utils from \"../modules/utils\";\n\nconst React = BDV2.React;\n\nlet V2C_PresenceSettingsModules\nexport default class V2C_PresenceSettings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: dataStore.getSettingGroup(\"rpc\") || defaultRPC,\n            assets: []\n        }\n\n        this.preview = null\n        this.isfetching = false\n        if(this.state.data.application_id){\n            this.fetchAssets()\n        }\n\n        this.assetComponents = new Set()\n    }\n\n    updateWhenFetched(comp){\n        this.assetComponents.add(comp)\n    }\n\n    /**\n     * \n     * @param {InputText} setting \n     */\n    onChange(setting, value){\n        let defaultSetting = RPCProps.find(e => e.id === setting.props.id)\n\n        this.setState({\n            data: Object.assign(settingsRPC, this.state.data, {\n                [defaultSetting.id]: !!value ? value : null\n            }),\n            assets: this.state.assets\n        })\n        if(setting.props.id === \"application_id\"){\n            this.fetchAssets()\n        }\n\n        dataStore.setSettingGroup(\"rpc\", settingsRPC);\n        this.preview.forceUpdate()\n        CustomRichPresence.set(settingsRPC)\n    }\n\n    fetchAssets(){\n        if(this.isfetching === true){\n            let app = this.state.data.application_id\n            setTimeout(() => {\n                if(this.state.data.application_id !== app){\n                    return\n                }\n                this.fetchAssets()\n            }, 5000);\n        }\n        if(!this.state.data.application_id){\n            this.setState({\n                data: this.state.data,\n                assets: []\n            })\n            this.forceUpdate()\n            this.assetComponents.forEach(e => e.forceUpdate())\n            return\n        }\n        this.isfetching = true\n        CustomRichPresence.fetchAssets(this.state.data.application_id)\n        .then(assets => {\n            this.isfetching = false\n            this.setState({\n                data: this.state.data,\n                assets: Object.keys(assets).map(k => {\n                    let asset = assets[k]\n                    return {\n                        id: asset.id,\n                        name: asset.name,\n                        type: asset.type\n                    }\n                })\n            })\n            this.forceUpdate()\n            this.assetComponents.forEach(e => e.forceUpdate())\n        }).catch(() => {\n            this.isfetching = false\n            this.setState({\n                data: this.state.data,\n                assets: []\n            })\n            this.forceUpdate()\n            this.assetComponents.forEach(e => e.forceUpdate())\n        })\n    }\n\n    updatePreview(data){\n        this.setState({\n            data\n        })\n    }\n\n    get modules(){\n        return V2C_PresenceSettingsModules || (V2C_PresenceSettingsModules = [\n            BDModules.get(e => e.marginBottom20)[0]\n        ])\n    }\n\n    render() {\n        let [\n            marginModule\n        ] = this.modules\n        return [\n            <V2C_SettingsGroup title=\"RichPresence Settings\" settings={this.props.settings} onChange={this.props.onChange}/>,\n            <MarginTop />,\n            <V2C_SettingsTitle text=\"RichPresence\"/>,\n            <div>\n                {/** options */}\n                {this.optionsComponents}\n            </div>,\n            <div>\n                <MarginTop />\n                <V2C_SettingsTitle text=\"Preview\"/>\n                {/** preview */}\n                <RpcPreview settings={this}/>\n            </div>,\n            <div className={marginModule.marginBottom20}></div>,\n            <button style={{opacity: 0.01}} onClick={window.ohgodohfuck}>\n                Oh god Oh fuck\n            </button>,\n            <button style={{opacity: 0.01}} onClick={() => {\n                remote.shell.openExternal(\"https://www.youtube.com/watch?v=LkYa7rps_g4\")\n            }}>\n                See ? I pulled a litle sneaky on ya\n            </button>\n        ]\n    }\n\n    get optionsComponents(){\n        return this._optionsComponents || (this._optionsComponents = RPCProps.map(e => {\n            if(e.type === \"text\"){\n                return <InputText setting={e} manager={this} id={e.id}/>\n            }else if(e.type === \"number\"){\n                let array = [<InputNumber setting={e} manager={this} id={e.id}/>]/*\n                if(e.id === \"timestamps.start\"){\n                    array.unshift(<DiscordButton title=\"Copy Current Timestamp\" onClick={() => {\n                        DiscordNative.clipboard.copy(Date.now()+\"\")\n                    }} />)\n                }*/\n                return array\n            }else if(e.type === \"choice\"){\n                if([\"assets.small\", \"assets.large\"].includes(e.id)){\n                    return <InputChoice setting={e} manager={this} id={e.id} choices={[{value: \"none\", label: \"No assets\"}].concat(this.state.assets.map(e => {\n                        return {\n                            value: \"asset-\"+e.id,\n                            label: e.name\n                        }\n                    }))}/>\n                }else{\n                    return \"Unknown choice.\"\n                }\n            }\n        }))\n    }\n}\nconst RPCProps = [\n    {\n        title: \"Application ID\",\n        id: \"application_id\",\n        type: \"number\",\n        placeholder: \"711416957718757418\"\n    },\n    {\n        title: \"Name\",\n        id: \"name\",\n        type: \"text\",\n        placeholder: \"Lightcord\"\n    },\n    {\n        title: \"Details\",\n        id: \"details\",\n        type: \"text\",\n        placeholder: \"Browsing Discord\"\n    },\n    {\n        title: \"State\",\n        id: \"state\",\n        type: \"text\",\n        placeholder: \"Lightcord Client\"\n    },\n    {\n        title: \"Timestamp Start\",\n        id: \"timestamps.start\",\n        type: \"number\",\n        get placeholder(){\n            return Date.now()\n        }\n    },\n    {\n        title: \"LargeAsset\",\n        id: \"assets.large\",\n        type: \"choice\"\n    },\n    {\n        title: \"SmallAsset\",\n        id: \"assets.small\",\n        type: \"choice\"\n    },\n]\n\nlet inputTextModules\nclass InputText extends React.PureComponent {\n    get modules(){\n        if(inputTextModules && inputTextModules[0])return inputTextModules\n        return inputTextModules = [\n            BDModules.get(e => e.removeKeybind)[0],\n            BDModules.get(e => e.marginBottom20)[0],\n            BDModules.get(e => e.defaultMarginh5)[0],\n            BDModules.get(e => e.colorStandard)[0],\n            BDModules.get(e => e.size32)[0],\n            BDModules.get(e => e._horizontal)[0],\n            BDModules.get(e => e.inputMini)[0],\n            BDModules.get(e => e.size16 && e.size20)[0],\n        ]\n    }\n\n    constructor(props){\n        super(props)\n        let setting = this.props.setting\n        this.state = {\n            data: this.props.manager.state.data[setting.id]\n        }\n\n        this.input = <window.Lightcord.Api.Components.inputs.TextInput placeholder={setting.placeholder} name={setting.id} value={this.state.data} onChange={(value) => {\n            this.setState({\n                data: value\n            })\n            if(!this.lastEdited || this.lastEdited < Date.now() - 500){\n                this.props.manager.onChange(this, value)\n                this.lastEdited = Date.now()\n            }else if(!this.isTiming){\n                this.isTiming = setTimeout(() => {\n                    this.props.manager.onChange(this, this.state.data)\n                    this.isTiming = null\n                    this.lastEdited = Date.now()\n                }, 500);\n            }\n        }} type=\"text\"/>\n    }\n\n    render(){\n        let setting = this.props.setting\n\n        let [\n            rowModule,\n            marginModule,\n            marginModule2,\n            colorModule,\n            sizeModule,\n            flexModule,\n            inputModule,\n            sizeModule2,\n        ] = this.modules\n\n        return (<div className={rowModule.row+\" \"+marginModule.marginBottom20}>\n            <div className={`${rowModule.item} ${flexModule.flexChild}`}>\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    {setting.title}\n                </h5>\n                {this.input}\n            </div>\n            <Divider/>\n        </div>)\n    }\n}\n\nlet InputNumberModules\nclass InputNumber extends React.PureComponent {\n    get modules(){\n        return InputNumberModules || (InputNumberModules = [\n            BDModules.get(e => e.removeKeybind)[0],\n            BDModules.get(e => e.marginBottom20)[0],\n            BDModules.get(e => e.defaultMarginh5)[0],\n            BDModules.get(e => e.colorStandard)[0],\n            BDModules.get(e => e.size32)[0],\n            BDModules.get(e => e._horizontal)[0],\n            BDModules.get(e => e.inputMini)[0],\n            BDModules.get(e => e.size16 && e.size20)[0],\n            BDModules.get(e => e.colorTransparent)[0],\n        ])\n    }\n\n    constructor(props){\n        super(props)\n        let setting = this.props.setting\n        this.state = {\n            data: this.props.manager.state.data[setting.id]\n        }\n\n        this.input = <window.Lightcord.Api.Components.inputs.TextInput placeholder={setting.placeholder} name={setting.id} value={this.state.data} type=\"number\" onChange={(value, name, input) => {\n            value = value.replace(/[^\\d]+/g, \"\")\n            if(value == this.state.data){\n                input.setValue(value)\n                return\n            }\n\n            if(!this.lastEdited || this.lastEdited < Date.now() - 500){\n                this.props.manager.onChange(this, value)\n                this.lastEdited = Date.now()\n            }else if(!this.isTiming){\n                this.isTiming = setTimeout(() => {\n                    this.props.manager.onChange(this, this.state.data)\n                    this.isTiming = null\n                    this.lastEdited = Date.now()\n                }, 500);\n            }\n            this.setState({\n                data: value\n            })\n        }} type=\"text\"/>\n    }\n\n    render(){\n        let setting = this.props.setting\n\n        let [\n            rowModule,\n            marginModule,\n            marginModule2,\n            colorModule,\n            sizeModule,\n            flexModule,\n        ] = this.modules\n\n\n        return (<div className={rowModule.row+\" \"+marginModule.marginBottom20}>\n            <div className={`${rowModule.item} ${flexModule.flexChild}`}>\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    {setting.title}\n                </h5>\n                {this.input}\n                {setting.id === \"timestamps.start\" ? \n                <Lightcord.Api.Components.inputs.Button onClick={() => {\n                    DiscordNative.clipboard.copy(Date.now()+\"\")\n                }} color=\"brand\">Copy current timestamp</Lightcord.Api.Components.inputs.Button> : null}\n            </div>\n            <Divider/>\n        </div>)\n    }\n}\n\nlet InputChoiceModules\nclass InputChoice extends React.PureComponent {\n    constructor(props){\n        super(props)\n        let setting = this.props.setting\n        this.state = {\n            data: this.props.manager.state.data[setting.id] ? \"asset-\"+this.props.manager.state.data[setting.id] : \"none\"\n        }\n        this.props.manager.updateWhenFetched(this)\n    }\n\n    onChange(value){\n        if(!this.lastEdited || this.lastEdited < Date.now() - 500){\n            this.props.manager.onChange(this, value === \"none\" ? null : value.replace(\"asset-\", \"\"))\n            this.lastEdited = Date.now()\n        }else if(!this.isTiming){\n            this.isTiming = setTimeout(() => {\n                this.props.manager.onChange(this, this.state.data === \"none\" ? null : this.state.data.replace(\"asset-\", \"\"))\n                this.isTiming = null\n                this.lastEdited = Date.now()\n            }, 500);\n        }\n        this.setState({\n            data: value\n        })\n        this.forceUpdate()\n    }\n    \n    get modules(){\n        return InputChoiceModules || (InputChoiceModules = [\n            BDModules.get(e => e.removeKeybind)[0],\n            BDModules.get(e => e.marginBottom20)[0],\n            BDModules.get(e => e.defaultMarginh5)[0],\n            BDModules.get(e => e.colorStandard)[0],\n            BDModules.get(e => e.size32)[0],\n            BDModules.get(e => e._horizontal)[0]\n        ])\n    }\n\n    render(){\n        let setting = this.props.setting\n\n        let [\n            rowModule,\n            marginModule,\n            marginModule2,\n            colorModule,\n            sizeModule,\n            flexModule\n        ] = this.modules\n        \n        let options = this.props.manager.state.assets.map(e => {\n            return {\n                value: \"asset-\"+e.id,\n                label: e.name\n            }\n        })\n\n        options.unshift({\n            value: \"none\",\n            label: \"No assets\"\n        })\n\n        return (<div className={rowModule.row+\" \"+marginModule.marginBottom20}>\n            <div className={`${rowModule.item} ${flexModule.flexChild}`}>\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    {setting.title}\n                </h5>\n                <window.Lightcord.Api.Components.inputs.Dropdown value={this.state.data} options={options} onChange={this.onChange.bind(this)} />\n                {/*<Select value={this.state.data} onChange={this.onChange.bind(this)} options={options}/>*/}\n            </div>\n            <Divider/>\n        </div>)\n    }\n}\n\nlet DividerModules = []\nclass Divider extends React.PureComponent {\n    get modules(){\n        return DividerModules&&DividerModules[0] ? DividerModules : (DividerModules = [\n            BDModules.get(e => e.divider && Object.keys(e).length === 1)[0],\n            BDModules.get(e => e.dividerDefault)[0]\n        ])\n    }\n\n    render(){\n        let [\n            divider,\n            dividerDefault\n        ] = this.modules\n\n        return <div class={`${divider.divider} ${dividerDefault.dividerDefault}`}></div>\n    }\n}\n\nclass DiscordButton extends React.Component {\n    render(){\n        let rowModule = BDModules.get(e => e.removeKeybind)[0]\n        let marginModule = BDModules.get(e => e.marginBottom20)[0]\n        let flexModule = BDModules.get(e => e._horizontal)[0]\n\n        return (<div className={rowModule.row+\" \"+marginModule.marginBottom20}>\n            <div className={`${rowModule.item} ${flexModule.flexChild}`}>\n                <Lightcord.Api.Components.inputs.Button onClick={this.props.onClick} color=\"brand\">\n                    {this.props.title}\n                </Lightcord.Api.Components.inputs.Button>\n            </div>\n        </div>)\n    }\n}\n\nclass RpcPreview extends React.Component {\n    constructor(props = {}){\n        super(props)\n        this.state = {\n            active: \"profile\"\n        }\n        this.tabs = []\n\n        this.props.settings.preview = this\n    }\n\n    changeTab(tab){\n        let ancientTab = this.state.active\n        if(ancientTab === tab.props.id)return\n\n        this.tabs.forEach(e => {\n            e.setActive(false)\n        })\n        tab.setActive(true)\n        this.setState({\n            active: tab.props.id\n        })\n    }\n\n    render(){\n        return (<div className=\"lc-tabWrapper\">\n            <div className=\"lc-tabnav\" style={{flex: \"0 1 auto\"}}>\n                <Tab preview={this} title=\"Full Profile\" id=\"profile\"/>\n                <Tab preview={this} title=\"User Popout\" id=\"popout\"/>\n            </div>\n            <PresenceErrorCatcher preview={this.preview} state={this.state.rpc} props={{preview: this}} key={this.state.active} />\n        </div>)\n    }   \n\n    isActive(tab){\n        return this.state.active === tab\n    }\n\n    get preview(){\n        if(this.state.active === \"profile\")return Profile\n        return Popout\n    }\n}\n\nclass Tab extends React.Component {\n    constructor(props){\n        super(props)\n\n        this.state = {\n            active: props.preview.isActive(props.id)\n        }\n        props.preview.tabs.push(this)\n    }\n\n    setActive(isActive){\n        this.setState({\n            active: !!isActive\n        })\n    }\n\n    render(){\n        let className = `lc-navItem`\n        if(this.state.active){\n            className += ` lc-navItemActive`\n        }else{\n            className += ` lc-navItemInactive`\n        }\n        return (<div className={className} onClick={()=>{\n            this.props.preview.changeTab(this)\n        }}>\n            {this.props.title}\n        </div>)\n    }\n}\n\nlet emptyClasses\nclass PresenceErrorCatcher extends React.Component {\n    componentDidCatch(err, errInfo){\n        console.error(err, errInfo)\n        this.setState({\n            error: true\n        })\n    }\n    render(){\n        if(!this.state){\n            this.state = {\n                error: false\n            }\n        }\n        if(!this.state.error){\n            try{\n                const preview = new this.props.preview(this.props.props)\n                preview.setState(this.props.state)\n                return preview.render()\n            }catch(err){\n                console.error(err)\n                this.state.error = true\n                return this.render()\n            }\n        }else{\n            emptyClasses = emptyClasses || BDV2.WebpackModules.find(e => e.emptyStateImage && e.emptyState)\n            if(!emptyClasses){\n                Utils.showToast(\"An error occured. Please check the console for more informations.\")\n                return null\n            }\n            return <div style={{\n                margin: \"20px\"\n            }}>\n                <div style={{\n                    backgroundColor: \"var(--background-primary)\", \n                    padding: \"30px 30px\", \n                    borderRadius: \"8px\"\n                }} className={`lc-tab-box-shadow ${emptyClasses.emptyState}`}>\n                    <div className={emptyClasses.emptyStateImage} style={{\n                        marginTop: \"20px\"\n                    }}>\n\n                    </div>\n                    <div className={emptyClasses.emptyStateHeader}>An error occured</div>\n                    <p className={emptyClasses.emptyStateSubtext}>\n                        Please check the console for more informations. Join our ­\n                        <a className={`${BDV2.anchorClasses.anchor} ${BDV2.anchorClasses.anchorUnderlineOnHover}`} role=\"button\" tabindex={0} onClick={() => {\n                            BDV2.joinLC()\n                        }}>\n                            support server\n                        </a>\n                        ­ for help.\n                    </p>\n                </div>\n            </div>\n        }\n    }\n}\n\nlet popoutModules\nlet UserPopoutComponent\nlet PopoutProps\nclass Popout extends React.Component {\n    get modules(){\n        return popoutModules || (popoutModules = [\n            BDV2.WebpackModules.find(e => e.default && e.default.displayName === \"UserPopout\"),\n            BDV2.WebpackModules.find(e => e.default && e.default.getCurrentUser)\n        ])\n    }\n\n    getComponent(){\n        let [\n            UserPopout,\n            userModule\n        ] = this.modules\n\n        const user = userModule.default.getCurrentUser()\n        return React.createElement(() => {\n            let render1 = UserPopout.default({\n                userId: user.id, \n                guildId: null, \n                channelId: null, \n                disableUserProfileLink: true\n            })\n            UserPopoutComponent = render1.type\n            PopoutProps = render1.props\n            return this.render()\n        }, null)\n    }\n\n    render(){\n        if(!UserPopoutComponent)return this.getComponent()\n        let [\n            _UserPopout,\n            userModule\n        ] = this.modules\n\n        const user = userModule.default.getCurrentUser()\n\n        let data = Object.assign({}, defaultRPC, this.props.preview.props.settings.state.data)\n        const activity = (function(){\n            if(!this.game)return null\n            let game = {\n                name: this.game.name || defaultRPC.name,\n                application_id: this.game.application_id || defaultRPC.application_id,\n                details: this.game.details || undefined,\n                state: this.game.state || undefined,\n                timestamps: this.game[\"timestamps.start\"] ? {\n                    start: this.game[\"timestamps.start\"]\n                } : undefined,\n                assets: this.game[\"assets.large\"] ? {\n                    large_image: this.game[\"assets.large\"],\n                    small_image: this.game[\"assets.small\"] || undefined\n                } : undefined,\n                type: 0\n            }\n            return game\n        }).call({\n            game: data\n        })\n\n        const popout = new UserPopoutComponent(Object.assign({}, PopoutProps, {\n            activity: activity,\n            userId: user.id\n        })).render().props.children // bypass tracking\n\n        // remove the stop propagation shit.\n        const container = <div {...window.Lightcord.Api._.excludeProperties(popout.props, [\"onClick\", \"onContextMenu\"])} />\n\n        return <div className=\"lc-userPopout lc-tab-box-shadow\">\n            {container}\n        </div>\n    }\n}\n\nlet profileModules\nlet UserProfileComponent\nlet ProfileProps\nlet connectedProfileStore\nclass Profile extends React.Component {\n    get modules(){\n        return profileModules || (profileModules = [\n            BDV2.WebpackModules.find(e => e.default && e.default.displayName === \"UserProfile\"),\n            BDV2.WebpackModules.find(e => e.default && e.default.getCurrentUser)\n        ])\n    }\n\n    render(){\n        let [\n            UserProfile,\n            userModule\n        ] = this.modules\n\n        const user = userModule.default.getCurrentUser()\n        if(!UserProfileComponent){\n            const render1 = new UserProfile.default({\n                user: user\n            }).render()\n            connectedProfileStore = render1.type\n            const render2 = new render1.type(render1.props).render()\n            const render3 = render2.type.render(render2.props, null)\n            const render4 = new render3.type(render3.props).render()\n            UserProfileComponent = render4.type\n        }\n        if(!UserProfileComponent)throw new Error(`Couldn't find the UserProfileComponent component.`)\n\n        let data = Object.assign({}, defaultRPC, this.props.preview.props.settings.state.data)\n        const activity = (function(){\n            if(!this.game)return null\n            let game = {\n                name: this.game.name || defaultRPC.name,\n                application_id: this.game.application_id || defaultRPC.application_id,\n                details: this.game.details || undefined,\n                state: this.game.state || undefined,\n                timestamps: this.game[\"timestamps.start\"] ? {\n                    start: this.game[\"timestamps.start\"]\n                } : undefined,\n                assets: this.game[\"assets.large\"] ? {\n                    large_image: this.game[\"assets.large\"],\n                    small_image: this.game[\"assets.small\"] || undefined\n                } : undefined,\n                type: 0\n            }\n            return game\n        }).call({\n            game: data\n        })\n\n        ProfileProps = new connectedProfileStore({\n            user: user,\n            close: () => {}\n        }).render().props\n        const profile = new UserProfileComponent(Object.assign({}, ProfileProps, {\n            activity: activity\n        })).render().props.children // bypass tracking\n\n        profile.props.style = {\n            width: \"auto\"\n        }\n\n        return <div className=\"lc-tab lc-tab-box-shadow\">\n            {profile}\n        </div>\n    }\n}","import BDV2 from \"../modules/v2\";\nimport V2C_SettingsTitle from \"./settingsTitle\";\n\n/**\n * @type {typeof import(\"react\")}\n */\nconst React = BDV2.React;\n\nlet marginModule2 = BDModules.get(e => e.defaultMarginh5)[0]\nlet colorModule = BDModules.get(e => e.colorStandard)[0]\nlet sizeModule = BDModules.get(e => e.size32)[0]\nlet scrollbarModule1 = BDModules.get(e => e.scrollbarGhostHairline)[0]\nconst GuildModule = BDModules.get(e => e.default && e.default.getGuilds)[0].default\nconst relationShipModule = BDModules.get(e => e.default && e.default.getRelationships)[0].default\nconst sessionModule = BDModules.get(e => e.default && e.default.getSessions)[0].default\nconst userModule = BDModules.get(e => e.default && e.default.getCurrentUser)[0].default\n\nexport default class V2C_AccountInfos extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        if(!marginModule2)marginModule2 = BDModules.get(e => e.defaultMarginh5)[0]\n        if(!colorModule)colorModule = BDModules.get(e => e.colorStandard)[0]\n        if(!sizeModule)sizeModule = BDModules.get(e => e.size32)[0]\n        return [\n            <V2C_SettingsTitle text=\"Account Infos\"/>,\n            <div>\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    Profile\n                </h5>\n                <CodeContent content={this.getProfileValue()} language=\"diff\" />\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    Statistics\n                </h5>\n                <CodeContent content={this.getStatistics()} language=\"diff\" />\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    Connected Sessions\n                </h5>\n                <CodeContent content={this.getSessionValue()} language=\"diff\" />\n            </div>,\n            <div className={BDModules.get(e => e.marginBottom20)[0].marginBottom20}></div>\n        ]\n    }\n\n    getSessionValue(){\n        const sessionsRaw = sessionModule.getSessions()\n        const sessions = Object.keys(sessionsRaw).filter(e => e !== \"all\").map(e => sessionsRaw[e])\n\n        if(sessions.length === 0)return \"- No session detected. Please try in a few seconds\"\n        \n        return sessions.map(e => {\n            return `+ id: ${e.sessionId}\n+ os: ${e.clientInfo.os[0].toUpperCase()+e.clientInfo.os.slice(1)}\n+ client: ${e.clientInfo.client}\n+ status: ${e.status}\n+ Activities: ${e.activities.length}`\n        }).join(\"\\n\"+\"-\".repeat(38)+\"\\n\")\n    }\n\n    getProfileValue(){\n        const user = userModule.getCurrentUser()\n        /**\n         * @type {Date}\n         */\n        const createdAt = user.createdAt\n\n        let avatarURL = user.avatarURL\n        if(user.avatar && user.avatar.startsWith(\"a_\")){\n            avatarURL = user.getAvatarURL(\"gif\")\n        }\n\n        if(avatarURL.startsWith(\"/\")){\n            avatarURL = \"https://discord.com\"+avatarURL\n        }\n        if(avatarURL.endsWith(\"?size=128\")){\n            avatarURL = avatarURL.replace(\"?size=128\", \"?size=4096\")\n        }\n\n        return `+ Username: ${user.username}\n+ Discriminator: ${user.discriminator}\n+ Tag: ${user.tag}\n+ ID: ${user.id}\n+ Avatar: ${user.avatar}\n+ Avatar URL: ${avatarURL}\n+ Creation Date: ${(createdAt.getDate()).toString().padStart(2, \"0\")}/${(createdAt.getMonth()+1).toString().padStart(2, \"0\")}/${(createdAt.getFullYear()).toString().padStart(2, \"0\")} ${createdAt.getHours().toString().padStart(2, \"0\")}h ${createdAt.getMinutes().toString().padStart(2, \"0\")}min ${createdAt.getSeconds()}s\n+ Flags: ${user.flags}\n+ Has Nitro: ${user.hasPremiumSubscription ? \"Yes\" : \"No\"}\n- Email: ${user.email}\n- 2FA: ${user.mfaEnabled ? \"Yes\" : \"No\"}\n- Has Been On Mobile: ${user.mobile ? \"Yes\" : \"No\"}\n- Phone: ${user.phone || \"None\"}\n- Verified: ${user.verified}\n- Can See NSFW Channels: ${user.nsfwAllowed}`;\n    }\n\n    getStatistics(){\n\n        const guilds = Object.values(GuildModule.getGuilds())\n        const relations = Object.keys(relationShipModule.getRelationships())\n        const friends = relations.filter(e => relationShipModule.isFriend(e))\n        const blocked = relations.filter(e => relationShipModule.isBlocked(e))\n\n        return `+ Server Count: ${guilds.length} servers\n+ Relations: ${relations.length} relations\n+ Friends Count: ${friends.length} friends\n- Blocked Users Count: ${blocked.length} blocked users`\n    }\n}\n\n\nlet hightlightJS = BDModules.get(e => e.highlight)[0]\nlet messageModule1 = BDModules.get(e => e.markup)[0]\nlet messageModule2 = BDModules.get(e => e.messageContent)[0]\n\nclass CodeContent extends React.Component {\n    render(){\n        if(!messageModule1)messageModule1 = BDModules.get(e => e.markup)[0]\n        if(!messageModule2)messageModule2 = BDModules.get(e => e.messageContent)[0]\n        if(!scrollbarModule1)scrollbarModule1 = BDModules.get(e => e.scrollbarGhostHairline)[0]\n        if(!hightlightJS)hightlightJS = BDModules.get(e => e.listLanguages)[0]\n        return (<div class={`${messageModule1.markup} ${messageModule2.messageContent}`}>\n            <pre>\n                <code class={`${scrollbarModule1.scrollbarGhostHairline} hljs`} dangerouslySetInnerHTML={{__html: hightlightJS.highlight(this.props.language, this.props.content).value}}>\n\n                </code>\n            </pre>\n            <div className={BDModules.get(e => e.marginBottom8)[0].marginBottom8}></div>\n        </div>)\n    }\n}","import Utils from \"./utils\"\n\nconst dispatcher = window.Lightcord.DiscordModules.dispatcher\nconst ChannelModule = BDModules.get(e => e.default && e.default.getChannel && e.default.hasChannel)[0].default\nlet relationShipModule = BDModules.get(e => e.default && e.default.addRelationship)[0]\nlet DMModule = BDModules.get(e => e.default && e.default.closePrivateChannel)[0]\n\nconst blocked = {}\n\nlet userModule = BDModules.get(e => e.default && e.default.getCurrentUser)[0]\nfunction getCurrentUser(){\n    if(userModule)return userModule.default.getCurrentUser()\n    return null\n}\n\nexport default new class AntiBotDM {\n    constructor(){\n        this.antiDM = this.antiDM.bind(this)\n        this.enabled = false\n    }\n\n    enable(){\n        if(this.enabled)return\n        this.enabled = true\n\n        dispatcher.subscribe(\"MESSAGE_CREATE\", this.antiDM)\n    }\n\n    disable(){\n        if(!this.enabled)return\n        this.enabled = false\n\n        dispatcher.unsubscribe(\"MESSAGE_CREATE\", this.antiDM)\n    }\n\n    antiDM(ev){\n        if(!ev.message.author.bot)return\n        if(ev.message.author.id === getCurrentUser().id)\n        if(ev.message.guild_id)return\n\n        const channel = ChannelModule.getChannel(ev.message.channel_id)\n        if(!channel)return // might be broken\n\n        if(channel.type !== 1)return\n\n        if(blocked[ev.message.author.id])return // If the user unblock the bot, Don't block it again.\n\n        if(scanMessage(ev.message)){\n            blocked[ev.message.author.id] = true\n            Utils.showToast(`[AdBlock]: Blocked ${ev.message.author.username}#${ev.message.author.discriminator}`, {\n                \"type\": \"warning\"\n            })\n            if(!relationShipModule)relationShipModule = BDModules.get(e => e.default && e.default.addRelationship)[0]\n            relationShipModule.default.addRelationship(ev.message.author.id, {\n                location: \"ContextMenu\"\n            }, 2)\n            if(!DMModule)DMModule = BDModules.get(e => e.default && e.default.closePrivateChannel)[0]\n            DMModule.default.closePrivateChannel(channel.id, false)\n        }\n    }\n}\n\nfunction scanMessage(message){\n    if(/(discord\\.gg|discord\\.com\\/invite\\/|discordapp\\.com\\/invite\\/)/g.test(message.content))return true\n    if(EmbedsContains(message, \"discord.gg/\") || EmbedsContains(message, \"discord.com/invite/\") || EmbedsContains(message, \"discordapp.com/invite/\"))return true\n\n    return false\n}\nfunction EmbedsContains(message, search){\n    let embeds = message.embeds || []\n    if(embeds.length === 0)return false\n    return embeds.map(embed => {\n        if(embed.type !== \"rich\")return false\n        if((embed.title || \"\").includes(search))return true\n        if((embed.description || \"\").includes(search))return true\n        if(((embed.footer || \"\") && embed.footer.text || \"\").includes(search))return true\n        if((embed.fields || []).map(e => {\n            return e.value.includes(search) || e.name.includes(search)\n        }).includes(true))return true\n        return false\n\n    }).includes(true)\n}","/**\n * Credits to @hellbound1337 on github for the css\n */\n\nimport DOMTools from \"./domtools\"\nimport Utils from \"./utils\"\n\nlet selectors\nconst removeDa = Utils.removeDa\nfunction getSelectors(){\n    let standardSidebarView = BDModules.get(e => e.standardSidebarView)[0]\n    if(!standardSidebarView)return null\n    let defaultClassName = removeDa(standardSidebarView.standardSidebarView)\n    let selects = []\n    let userSettingsAccount = BDModules.get(e => e.userSettingsAccount)[0]\n    const children = BDModules.get(e => typeof e.children === \"string\")[0]\n    selects.push(`#app-mount .${defaultClassName} .payment-info .${removeDa(BDModules.get(e => e.description && typeof e.description === \"string\" && e.description.includes(\"formText\"))[0].description)}`)\n    selects.push(`#app-mount .${defaultClassName} .${removeDa(BDModules.get(e => e.paymentSourceRow)[0].paymentSourceRow)} .${removeDa(BDModules.get(e => e.subText && e.descriptionWrapper)[0].subText)}`)\n    if(userSettingsAccount){\n        selects.push(`#app-mount .${defaultClassName} .${removeDa(userSettingsAccount.userSettingsAccount)} div:nth-child(2)>div:nth-child(2)>.${removeDa(BDModules.get(e => e.viewBody)[0].viewBody)}`)\n        selects.push(`.${removeDa(userSettingsAccount.userSettingsSecurity)} .${removeDa(children.children)} > div:nth-child(2)`)\n    }\n    console.log(selects)\n    return selects\n}\n\nexport default new class BlurPrivate {\n    constructor(){\n        this.enabled = false\n    }\n\n    enable(){\n        if(this.enabled)return\n        this.enabled = true\n        selectors = selectors || getSelectors()\n\n        if(!selectors)console.error(new Error(\"Couldn't find selectors to blur personnal informations.\"))\n        DOMTools.addStyle(\"blurPrivate\", `\n${selectors.join(\", \")} {\n    transition: all 150ms cubic-bezier(.55,.085,.68,.53);\n    filter: blur(4px);\n    opacity: .8;\n}\n\n${selectors.map(e => e+\":hover\").join(\", \")}  {\n    transition: all 150ms cubic-bezier(.55,.09,.68,.53);\n    filter: none;\n    opacity: 1;\n}`)\n    }\n\n    disable(){\n        if(!this.enabled)return\n        this.enabled = false\n        DOMTools.removeStyle(\"blurPrivate\")\n    }\n}","export default new class DisableTyping {\n    constructor(){\n        window.Lightcord.Api.ensureExported(e => e.default && e.default.startTyping)\n        .then(typingModule => {\n            let self = this\n            const startTyping = typingModule.default.startTyping\n            typingModule.default.startTyping = function(){\n                if(self.disabled)return startTyping.call(this, ...arguments)\n            }\n            const stopTyping = typingModule.default.stopTyping\n            typingModule.default.stopTyping = function(){\n                if(self.disabled)return stopTyping.call(this, ...arguments)\n            }\n            this.disabled = true\n        })\n        window.Lightcord.BetterDiscord.DisableTyping = this\n    }\n\n    disable(){\n        this.disabled = true\n    }\n\n    enable(){\n        this.disabled = false\n    }\n}","// Good luck to read my code, Even me can't read it properly.\n\nimport { stat } from \"fs\"\nimport { uuidv4 } from \"../modules/distant\"\nimport webpackModules from \"../modules/webpackModules\"\nimport { remote } from \"electron\"\nimport MarginTop from \"./margintop\"\n\nlet formModule\nexport default class ApiPreview extends React.PureComponent {\n    constructor(){\n        super(...arguments)\n        this.state = {\n            states: []\n        }\n    }\n\n    render(){\n        if(!formModule)formModule = webpackModules.find(e => e.FormSection)\n        /** \n         * @type {Function[]}\n         */\n        const allComponents = [...new Set(Object.keys(window.Lightcord.Api.Components).map(e => {\n            return Object.keys(window.Lightcord.Api.Components[e]).map(k => window.Lightcord.Api.Components[e][k])\n        }).flat())]\n        return [\n            <formModule.FormSection tag=\"h2\" title=\"Lightcord's Api Availlable components\">\n                <formModule.FormText type=\"description\" className=\"\" selectable={false}>\n                    These components are here for the plugin devs. They can quickly embed any component below with this panel.\n                    <div style={{marginTop: \"20px\"}}></div>\n                    <Lightcord.Api.Components.general.AlertBox type=\"info\">All these components have error handling. If you want none, add `.original` after the component path.</Lightcord.Api.Components.general.AlertBox>\n                    <Lightcord.Api.Components.general.AlertBox type=\"warn\">We do not recommend modifying these component with plugins. Only do this if you know what you are doing.</Lightcord.Api.Components.general.AlertBox>\n                </formModule.FormText>\n                <MarginTop></MarginTop>\n                <Lightcord.Api.Components.inputs.Button color=\"brand\" look=\"outlined\" size=\"medium\" hoverColor=\"green\" onClick={() => {\n                    remote.shell.openExternal(\"https://lightcord.deroku.xyz/LightcordApi/docs\")\n                }} wrapper={false}>\n                    Documentation\n                </Lightcord.Api.Components.inputs.Button>\n            </formModule.FormSection>,\n            allComponents.map(comp => {\n                const compName = comp.displayName || comp.name\n                const compPath = `Lightcord.Api.Components.${Object.keys(window.Lightcord.Api.Components).find(e => window.Lightcord.Api.Components[e][compName])}.${compName}`\n                return <ComponentPreview key={compPath} comp={comp} />\n            })\n        ]\n    }\n\n    get renders(){\n\n    }\n}\n\nclass ComponentPreview extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            tab: \"preview\",\n            elem: props.comp,\n            options: {}\n        }\n    }\n\n    render(){\n        const comp = this.props.comp\n        let AllPreviews = []\n        if(comp.AllPreviews)AllPreviews = comp.AllPreviews\n        let state = this.state\n        let getProps = () => {\n            let final = {}\n            AllPreviews.forEach(category => {\n                final[Object.keys(category[0])[0]] = category[0][Object.keys(category[0])[0]]\n            })\n            Object.keys(state.options).forEach(key => {\n                final[key] = AllPreviews.find(e => e.find(e => e[key]))[state.options[key]][key]\n            })\n            return final\n        }\n        let renderPreview = () => {\n            return <div style={{margin: \"20px\"}}>\n                <div style={{\n                    backgroundColor: \"var(--background-secondary)\", \n                    padding: \"30px 30px\", \n                    borderRadius: \"8px\"\n                }} className=\"lc-tab-box-shadow\">\n                    {React.createElement(comp, getProps())}\n                </div>\n            </div>\n        }\n        let renderCode = () => {\n            return <div style={{margin: \"20px\"}}>\n                <div style={{\n                    backgroundColor: \"var(--background-secondary)\", \n                    padding: \"30px 30px\", \n                    borderRadius: \"8px\"\n                }} className=\"lc-tab-box-shadow\">\n                    <window.Lightcord.Api.Components.general.SettingSubTitle>\n                        JSX\n                    </window.Lightcord.Api.Components.general.SettingSubTitle>\n                    <window.Lightcord.Api.Components.general.ErrorCatcher>\n                        {React.createElement(() => {\n                            return <window.Lightcord.Api.Components.general.CodeBlock language=\"jsx\" content={generateCode(\"jsx\")}/>\n                        })}\n                    </window.Lightcord.Api.Components.general.ErrorCatcher>\n                    <window.Lightcord.Api.Components.general.SettingSubTitle>           \n                        React\n                    </window.Lightcord.Api.Components.general.SettingSubTitle>\n                    <window.Lightcord.Api.Components.general.ErrorCatcher>\n                        {React.createElement(() => {\n                            return <window.Lightcord.Api.Components.general.CodeBlock language=\"js\" content={generateCode(\"react\")}/>\n                        })}\n                    </window.Lightcord.Api.Components.general.ErrorCatcher>\n                </div>\n            </div>\n        }\n        let getStrForProp = (value, compPath, lang) => {\n            if(typeof value === \"string\"){\n                return value\n            }else if(typeof value === \"boolean\"){\n                return String(value)\n            }else if(typeof value === \"function\"){\n                return value.toString()\n            }else if(typeof value === \"object\"){\n                if(value && value.$$typeof && (value.$$typeof === Symbol.for(\"react.element\") || value.$$typeof === 0xeac7)){\n                    if(compPath === \"Lightcord.Api.Components.general.Tabs\"){\n                        if(lang === \"react\"){\n                            return `React.createElement(\"div\", {style: {\nmarginTop: \"20px\", marginBottom: \"20px\"\n}},\nReact.createElement(\"div\", {style: {\nbackgroundColor: \"var(--background-secondary)\",\npadding: \"30px 30px\",\nborderRadius: \"8px\"\n}, className: \"lc-tab-box-shadow\" },\nReact.createElement(Lightcord.Api.Components.general.Title, null, \"Preview tabs\")\n)\n)`\n                        }else if(lang === \"jsx\"){\n                            return `<div style={{\nmarginTop: \"20px\", marginBottom: \"20px\"\n}}>\n<div style={{\n    backgroundColor: \"var(--background-secondary)\", \n    padding: \"30px 30px\", \n    borderRadius: \"8px\"\n}} className=\"lc-tab-box-shadow\">\n    <Lightcord.Api.Components.general.Title>Preview tabs</Lightcord.Api.Components.general.Title>\n</div>\n</div>`\n                        }\n                    }\n                    return \"Your components here.\"\n                }\n                return JSON.stringify(value, null, \"    \")\n            }else if(typeof value === \"number\"){\n                return String(value)\n            }\n            return String(value)\n        }\n        let generateCode = function(lang){ // code formatting is hard\n            const compName = comp.displayName || comp.name\n            let categories = Object.keys(window.Lightcord.Api.Components)\n            const compCategory = categories.find(e => window.Lightcord.Api.Components[e][compName])\n            const compPath = `Lightcord.Api.Components.${compCategory}.${compName}`\n            const props = getProps()\n\n            if(lang === \"jsx\"){\n                let propStrings = []\n                let childrenProp = null\n                Object.keys(props).forEach(key => {\n                    if(key == \"children\"){\n                        childrenProp = getStrForProp(props[key], compPath, lang)\n                    }else{\n                        let str = key+\"=\"\n                        if(typeof props[key] === \"string\"){\n                            str += JSON.stringify(props[key])\n                        }else{\n                            str += `{${getStrForProp(props[key], compPath, lang)}}`\n                        }\n                        propStrings.push(str)\n                    }\n                })\n                let openTag\n                if(childrenProp){\n                    openTag = `<${compPath} ${propStrings.join(\" \")}>`\n                    let closeTag = `</${compPath}>`\n                    return `${openTag}\\n    ${childrenProp}\\n${closeTag}`\n                }else{\n                    openTag = `<${compPath} ${propStrings.join(\" \")}/>`\n                    return openTag\n                }\n            }else if(lang === \"react\"){\n                let children = props.children || null\n                delete props.children\n                if(children && children.$$typeof && (children.$$typeof === Symbol.for(\"react.element\") || children.$$typeof === 0xeac7)){\n                    children = getStrForProp(children, compPath, lang)\n                }\n                let propStrings = []\n                Object.keys(props).forEach(key => {\n                    let visibleKey = /[^\\w\\d_]/g.test(key) ? JSON.stringify(key) : key\n                    let str = visibleKey+\": \"\n                    if(typeof props[key] === \"string\"){\n                        str += JSON.stringify(props[key])\n                    }else{\n                        str += getStrForProp(props[key], compPath, lang).split(\"\\n\").map((str, i) => {\n                            if(i === 0)return str\n                            return \"    \" + str\n                        }).join(\"\\n\")\n                    }\n                    propStrings.push(str)\n                })\n                let propObject = \"{\"\n                if(propStrings.length){\n                    propStrings.forEach((str, i) => {\n                        let isLast = i === propStrings.length - 1\n                        let isFirst = i === 0\n                        if(!isFirst){\n                            propObject += \",\"\n                        }\n                        propObject += \"\\n    \"\n                        propObject += str\n                        if(isLast){\n                            propObject +=\"\\n}\"\n                        }\n                    })\n                }else{\n                    propObject += \"}\"\n                }\n                let childrenData = typeof children === \"string\" && children.startsWith(\"React.createElement\") ? children : JSON.stringify(children)\n                return `React.createElement(${compPath}, ${propObject}, ${childrenData})`\n            }\n        }\n        let help = comp.help || {}\n        let info = help.info ? <window.Lightcord.Api.Components.general.AlertBox type=\"info\">\n            {help.info}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        let warn = help.warn ? <window.Lightcord.Api.Components.general.AlertBox type=\"warn\">\n            {help.warn}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        let danger = help.danger ? <window.Lightcord.Api.Components.general.AlertBox type=\"danger\">\n            {help.danger}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        let error = help.error ? <window.Lightcord.Api.Components.general.AlertBox type=\"error\">\n            {help.error}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        let success = help.success ? <window.Lightcord.Api.Components.general.AlertBox type=\"success\">\n            {help.success}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        return (<div>\n            <window.Lightcord.Api.Components.general.SettingsTitle>\n                {comp.displayName || comp.name}\n            </window.Lightcord.Api.Components.general.SettingsTitle>\n            {info}\n            {success}\n            {warn}\n            {error}\n            {danger}\n            {AllPreviews.map(category => {\n                if(category[0].onClick)return null\n                if(category[0].text)return null\n                if(category[0].children)return null\n                if(category.length === 1)return null\n                \n                let key = Object.keys(category[0])[0]\n                return [\n                    <window.Lightcord.Api.Components.general.SettingSubTitle>\n                        {key}\n                    </window.Lightcord.Api.Components.general.SettingSubTitle>,\n                    <window.Lightcord.Api.Components.inputs.Dropdown options={category.map((e, index) => {\n                        return {\n                            value: \"opt-\"+index,\n                            label: JSON.stringify(e[Object.keys(e)[0]])\n                        }\n                    })} value={\"opt-\"+(state.options[key] || \"0\")} onChange={(value) => {\n                        this.setState({\n                            options: Object.assign({}, state.options, {\n                                [key]: (value.value || \"0\").replace(\"opt-\", \"\")\n                            })\n                        })\n                    }} searchable={true}/>,\n                    <div style={{marginBottom: \"8px\"}}></div>\n                ]\n            })}\n            <window.Lightcord.Api.Components.general.Tabs tabs={[{label: \"Preview\", id: \"preview\"}, {label: \"Code\", id: \"code\"}]} \n                active={state.tab} children={state.tab === \"preview\" ? renderPreview() : renderCode()} onChange={(tab) => {\n                    this.setState({\n                        tab\n                    })\n                }}/>\n        </div>)\n    }\n}","{/* <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"white\" width=\"18px\" height=\"18px\">\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    <path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"/>\n</svg> */}\n\nimport BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class History extends React.Component {\n    render() {\n        const size = this.props.size || \"18px\";\n        return <svg viewBox=\"0 0 24 24\" fill=\"var(--text-normal)\" className={this.props.className || \"\"} style={{width: size, height: size}} onClick={this.props.onClick}>\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n            <path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"/>\n        </svg>;\n    }\n}","import { themeCookie } from \"../0globals\"\nimport bdEvents from \"./bdEvents\"\nimport DOM from \"./domtools\"\n\nexport default new class popoutWindow {\n    constructor(){\n        /**\n         * @type {Map<string, Window>}\n         */\n        this.windows = new Map()\n        this.enabled = false\n        this.init()\n    }\n\n    async init(){\n        let popoutModule = await window.Lightcord.Api.ensureExported(e => e.default && e.default.getWindow)\n        window.Lightcord.DiscordModules.dispatcher.subscribe(\"POPOUT_WINDOW_OPEN\", (ev) => {\n            setImmediate(() => {\n                /**\n                 * @type {Window}\n                 */\n                const window = popoutModule.default.getWindow(ev.key)\n                this.windows.set(ev.key, window)\n\n                let classList = window.document.body.classList\n                classList.add(\"window-popout\")\n                classList.add(\"lightcord\")\n                classList.add(\"lightcord\")\n\n                this.update(ev.key)\n            })\n        })\n        window.Lightcord.DiscordModules.dispatcher.subscribe(\"POPOUT_WINDOW_CLOSE\", (ev) => {\n            setImmediate(() => {\n                this.windows.delete(ev.key)\n            })\n        })\n        bdEvents.on(\"theme-enabled\", () => {\n            this.update()\n        })\n        bdEvents.on(\"theme-disabled\", () => {\n            this.update()\n        })\n        bdEvents.on(\"theme-reloaded\", () => {\n            this.update()\n        })\n        bdEvents.on(\"theme-unloaded\", () => {\n            this.update()\n        })\n        bdEvents.on(\"theme-loaded\", () => {\n            this.update()\n        })\n    }\n\n    enable(){\n        this.enabled = true\n        this.update()\n    }\n\n    disable(){\n        this.enabled = false\n        this.update()\n    }\n\n    update(key){\n        if(!this.windows.size)return\n        if(!this.enabled){\n            return this.removeThemes(key)\n        }else{\n            return this.applyThemes(key)\n        }\n    }\n\n    removeThemes(key){\n        if(this.enabled)return\n        if(key){\n            let window = this.windows.get(key)\n            if(!window)return\n            let document = window.document\n\n            for(let style of document.querySelectorAll(\"style[data-lightcord-theme=true]\")){\n                style.remove()\n            }\n        }else{\n            for(let key of this.windows.keys()){\n                this.removeThemes(key)\n            }\n        }\n    }\n\n    applyThemes(key){\n        if(!this.enabled)return\n        if(key){\n            let window = this.windows.get(key)\n            if(!window)return\n            let document = window.document\n\n            for(let style of document.querySelectorAll(\"style[data-lightcord-theme=true]\")){\n                style.setAttribute(\"will-remove\", \"true\")\n            }\n\n            Object.keys(bdthemes)\n            .forEach(themeName => {\n                if(!themeCookie[themeName])return // theme disabled\n                const theme = bdthemes[themeName]\n                if(!theme)return //:shrug:\n\n                let existing = document.querySelector(\"style[data-lightcord-theme=true]#\"+DOM.escapeID(theme.id))\n                if(existing){\n                    existing.innerHTML = unescape(theme.css)\n                    existing.removeAttribute(\"will-remove\")\n                }else{\n                    const style = document.createElement(\"style\")\n                    style.id = DOM.escapeID(theme.id)\n                    style.innerHTML = unescape(theme.css)\n                    style.setAttribute(\"data-lightcord-theme\", \"true\")\n                    document.head.append(style)\n                }\n            })\n\n            for(let style of document.querySelectorAll(\"style[will-remove=true]\")){\n                style.remove()\n            }\n        }else{\n            for(let key of this.windows.keys()){\n                this.applyThemes(key)\n            }\n        }\n    }\n}","import {settings, settingsCookie, settingsRPC, lightcordSettings} from \"../0globals\";\nimport DataStore from \"./dataStore\";\nimport V2_SettingsPanel_Sidebar from \"./settingsPanelSidebar\";\nimport Utils from \"./utils\";\nimport BDV2 from \"./v2\";\nimport ContentManager from \"./contentManager\";\nimport coloredText from \"./coloredText\";\nimport tfHour from \"./24hour\";\nimport DOM from \"./domtools\";\n\nimport publicServersModule from \"./publicServers\";\nimport voiceMode from \"./voiceMode\";\nimport ClassNormalizer from \"./classNormalizer\";\nimport dMode from \"./devMode\";\n\nimport SectionedSettingsPanel from \"../ui/sectionedSettingsPanel\";\nimport CssEditor from \"../ui/cssEditor\";\nimport CardList from \"../ui/addonlist\";\nimport V2C_PresenceSettings from \"../ui/presenceSettings\";\nimport CustomRichPresence from \"./CustomRichPresence\";\nimport V2C_AccountInfos from \"../ui/AccountInfos\";\nimport { remote, ipcRenderer } from \"electron\";\nimport AntiAdDM from \"./AntiAdDM\";\nimport blurPrivate from \"./blurPrivate\";\nimport disableTyping from \"./disableTyping\";\nimport ApiPreview from \"../ui/ApiPreview\";\nimport Switch from \"../ui/switch\";\nimport MarginTop from \"../ui/margintop\";\nimport webpackModules from \"./webpackModules\";\nimport tooltipWrap from \"../ui/tooltipWrap\";\nimport History from \"../ui/icons/history\";\nimport core from \"./core\";\nimport popoutWindow from \"./popoutWindow\";\n\nclass BDSidebarHeader extends React.PureComponent {\n    render(){\n        let sidebarComponents = webpackModules.find(e => e.Separator && e.Header && e.Item)\n\n        const changelogButton = React.createElement(tooltipWrap, {color: \"black\", side: \"top\", text: \"Changelog\"}, \n            React.createElement(\"span\", {style: {float: \"right\", cursor: \"pointer\"}, className: \"bd-changelog-button\", onClick: () => {Utils.showChangelogModal(bbdChangelog);}},\n                React.createElement(History, {className: \"bd-icon\", size: \"16px\"})\n            )\n        );\n        let rendered = new sidebarComponents.Header({\n            children: React.createElement(\"span\", null, \"Bandaged BD\", changelogButton),\n            className: \"ui-tab-bar-header\"\n        })\n        return rendered\n    }\n}\n\nlet isClearingCache = false\n\nexport default new class V2_SettingsPanel {\n\n    constructor() {\n        this.onChange = this.onChange.bind(this);\n        this.updateSettings = this.updateSettings.bind(this);\n        this.sidebar = new V2_SettingsPanel_Sidebar();\n\n        this.registerComponents()\n    }\n\n    registerComponents(){\n        /** Lightcord */\n        this.sidebar.register(\"lightcord\", makeComponent(this.lightcordComponent.bind(this)))\n        this.sidebar.register(\"status\", makeComponent(this.PresenceComponent.bind(this)))\n        this.sidebar.register(\"accountinfo\", makeComponent(this.AccountInfosComponent.bind(this)))\n        this.sidebar.register(\"lcapipreview\", makeComponent(this.ApiPreviewComponent.bind(this)))\n\n        /* Bandaged BD */\n        this.sidebar.register(\"BDChangelogTitle\", makeComponent(() => {\n            return new BDSidebarHeader().render()\n        }))\n        this.sidebar.register(\"core\", makeComponent(this.coreComponent.bind(this)))\n        this.sidebar.register(\"customcss\", makeComponent(this.customCssComponent.bind(this)))\n        this.sidebar.register(\"plugins\", makeComponent(this.renderAddonPane(\"plugins\")))\n        this.sidebar.register(\"themes\", makeComponent(this.renderAddonPane(\"themes\")))\n    }\n    \n    get coreSettings() {\n        const settings = this.getSettings(\"core\");\n        const categories = [...new Set(settings.map(s => s.category))];\n        const sections = categories.map(c => {return {title: c, settings: settings.filter(s => s.category == c)};});\n        return sections;\n    }\n\n    get lightcordSettings() {\n        const settings = this.getSettings(\"lightcord\");\n        const categories = [...new Set(settings.map(s => s.category))];\n        const sections = categories.map(c => {return {title: c, settings: settings.filter(s => s.category == c)};});\n        return sections;\n    }\n\n    get PresenceSettings() {\n        return this.getSettings(\"status\")\n    }\n\n    getSettings(category) {\n        return Object.keys(settings).reduce((arr, key) => {\n            const setting = settings[key];\n            if (setting.cat === category && setting.implemented && !setting.hidden) {\n                setting.text = key;\n                arr.push(setting);\n            }\n            return arr;\n        }, []);\n    }\n\n\n    onChange(id, checked, sidebar) {\n        this.updateSettings(id, checked, sidebar);\n    }\n\n    updateSettings(id, enabled, sidebar) {\n        if(![\"lightcord-8\", \"no_window_bound\", \"enable_glasstron\", \"lightcord-10\"].includes(id))settingsCookie[id] = enabled;\n\n        if (id == \"bda-gs-2\") {\n            if (enabled) DOM.addClass(document.body, \"bd-minimal\");\n            else DOM.removeClass(document.body, \"bd-minimal\");\n        }\n\n        if (id == \"bda-gs-3\") {\n            if (enabled) DOM.addClass(document.body, \"bd-minimal-chan\");\n            else DOM.removeClass(document.body, \"bd-minimal-chan\");\n        }\n\n        if (id == \"bda-gs-1\") {\n            if (enabled) publicServersModule.addButton();\n            else publicServersModule.removeButton();\n        }\n\n        if (id == \"bda-gs-4\") {\n            if (enabled) voiceMode.start();\n            else voiceMode.stop();\n        }\n\n        if (id == \"bda-gs-5\") {\n            if (enabled) DOM.addClass(DOM.query(\"#app-mount\"), \"bda-dark\");\n            else DOM.removeClass(DOM.query(\"#app-mount\"), \"bda-dark\");\n        }\n\n        if (enabled && id == \"bda-gs-6\") tfHour.inject24Hour();\n\n        if (id == \"bda-gs-7\") {\n            if (enabled) coloredText.injectColoredText();\n            else coloredText.removeColoredText();\n        }\n\n        if (id == \"fork-ps-4\") {\n            if (enabled) ClassNormalizer.start();\n            else ClassNormalizer.stop();\n        }\n\n        if (id == \"fork-ps-5\") {\n            if (enabled) {\n                ContentManager.watchContent(\"plugin\");\n                ContentManager.watchContent(\"theme\");\n            }\n            else {\n                ContentManager.unwatchContent(\"plugin\");\n                ContentManager.unwatchContent(\"theme\");\n            }\n        }\n\n        if (id == \"fork-wp-1\") {\n            Utils.setWindowPreference(\"transparent\", enabled);\n            if (enabled) Utils.setWindowPreference(\"backgroundColor\", null);\n            else Utils.setWindowPreference(\"backgroundColor\", \"#2f3136\");\n        }\n\n\n        if (id == \"bda-gs-8\") {\n            if (enabled) dMode.startDebugListener();\n            else dMode.stopDebugListener();\n        }\n\n        if (id == \"fork-dm-1\") {\n            if (enabled) dMode.startCopySelector();\n            else dMode.stopCopySelector();\n        }\n\n        if (id === \"lightcord-1\") {\n            if (enabled) window.Lightcord.Settings.devMode = true\n            else window.Lightcord.Settings.devMode = false\n            sidebar.forceUpdate()\n        }\n        if (id === \"lightcord-2\") {\n            if (enabled) window.Lightcord.Settings.callRingingBeat = true\n            else window.Lightcord.Settings.callRingingBeat = false\n        }\n        if (id === \"lightcord-presence-1\") {\n            if (enabled) {\n                CustomRichPresence.enable()\n                const settingsStore = BDModules.get(e => e.default && typeof e.default === \"object\" && \"showCurrentGame\" in e.default)[0]\n                if(settingsStore && !settingsStore.default.showCurrentGame){\n                    BDModules.get(e => e.default && e.default.updateRemoteSettings)[0].default.updateRemoteSettings({\n                        showCurrentGame: true\n                    })\n                }\n            }\n            else CustomRichPresence.disable()\n        }\n        if (id === \"lightcord-3\") {\n            ipcRenderer.sendSync(\"LIGHTCORD_SET_ALWAYS_ON_TOP\", enabled)\n        }\n        if (id === \"lightcord-4\") {\n            if(enabled){\n                AntiAdDM.enable()\n            }else{\n                AntiAdDM.disable()\n            }\n        }\n        if (id === \"lightcord-6\") {\n            if(enabled){\n                blurPrivate.enable()\n            }else{\n                blurPrivate.disable()\n            }\n        }\n        if (id === \"lightcord-7\") {\n            if(enabled){\n                disableTyping.enable()\n            }else{\n                disableTyping.disable()\n            }\n        }\n        if (id === \"lightcord-8\"){\n            let appSettings = window.Lightcord.Api.settings\n            appSettings.set(\"isTabs\", enabled)\n            appSettings.save()\n            DiscordNative.app.relaunch()\n        }\n        if (id === \"lightcord-9\") {\n            popoutWindow[enabled ? \"enable\" : \"disable\"]()\n        }\n        if (id === \"lightcord-10\"){\n            core.methods.NotificationsUseShim(enabled)\n            return\n        }\n        if (id === \"no_window_bound\"){\n            let appSettings = window.Lightcord.Api.settings\n            appSettings.set(\"NO_WINDOWS_BOUND\", enabled)\n\n            appSettings.delete(\"IS_MAXIMIZED\")\n            appSettings.delete(\"IS_MINIMIZED\") \n            appSettings.delete(\"WINDOW_BOUNDS\")\n            \n            appSettings.save()\n            DiscordNative.app.relaunch()\n        }\n        if (id === \"enable_glasstron\"){\n            let appSettings = window.Lightcord.Api.settings\n            appSettings.set(\"GLASSTRON\", enabled)\n            appSettings.save()\n            DiscordNative.app.relaunch()\n        }\n\n        this.saveSettings();\n    }\n\n    async initializeSettings() {\n        if (settingsCookie[\"bda-gs-2\"]) DOM.addClass(document.body, \"bd-minimal\");\n        if (settingsCookie[\"bda-gs-3\"]) DOM.addClass(document.body, \"bd-minimal-chan\");\n        if (settingsCookie[\"bda-gs-1\"]) publicServersModule.addButton();\n        if (settingsCookie[\"bda-gs-4\"]) voiceMode.start();\n        if (settingsCookie[\"bda-gs-5\"]) DOM.addClass(DOM.query(\"#app-mount\"), \"bda-dark\");\n        if (settingsCookie[\"bda-gs-6\"]) tfHour.inject24Hour();\n        if (settingsCookie[\"bda-gs-7\"]) coloredText.injectColoredText();\n        if (settingsCookie[\"fork-ps-4\"]) ClassNormalizer.start();\n        if (settingsCookie[\"lightcord-1\"]) window.Lightcord.Settings.devMode = true\n        if (settingsCookie[\"lightcord-2\"]) window.Lightcord.Settings.callRingingBeat = true\n        if (settingsCookie[\"lightcord-presence-1\"]) CustomRichPresence.enable()\n        if (settingsCookie[\"lightcord-3\"]) ipcRenderer.sendSync(\"LIGHTCORD_SET_ALWAYS_ON_TOP\", true)\n        if (settingsCookie[\"lightcord-4\"]) AntiAdDM.enable()\n        if (settingsCookie[\"lightcord-6\"]) blurPrivate.enable()\n        if (settingsCookie[\"lightcord-7\"]) disableTyping.enable()\n        if (settingsCookie[\"lightcord-9\"]) popoutWindow.enable()\n\n        if (settingsCookie[\"fork-ps-5\"]) {\n            ContentManager.watchContent(\"plugin\");\n            ContentManager.watchContent(\"theme\");\n        }\n\n        if (settingsCookie[\"bda-gs-8\"]) dMode.startDebugListener();\n        if (settingsCookie[\"fork-dm-1\"]) dMode.startCopySelector();\n\n        this.saveSettings();\n    }\n\n    saveSettings() {\n        DataStore.setSettingGroup(\"settings\", settingsCookie);\n        DataStore.setSettingGroup(\"rpc\", settingsRPC);\n    }\n\n    loadSettings() {\n        Object.assign(settingsCookie, DataStore.getSettingGroup(\"settings\"));\n        Object.assign(settingsRPC, DataStore.getSettingGroup(\"rpc\"));\n    }\n\n    renderSidebar(sidebar) {\n        return this.sidebar.render(sidebar);\n    }\n\n    coreComponent() {\n        return BDV2.react.createElement(SectionedSettingsPanel, {key: \"cspanel\", onChange: this.onChange, sections: this.coreSettings})\n    }\n\n    lightcordComponent(sidebar, forceUpdate) {\n        let appSettings = window.Lightcord.Api.settings\n        return [\n            this.lightcordSettings.map((section, i) => {\n                return [\n                    (i === 0 ? null : BDV2.react.createElement(MarginTop)),\n                    BDV2.react.createElement(\"h2\", {className: \"ui-form-title h2 margin-reset margin-bottom-20\"}, section.title),\n                    section.settings.map(setting => {\n                        let isChecked = settingsCookie[setting.id]\n                        if(setting.id === \"lightcord-8\")isChecked = appSettings.get(\"isTabs\", false);\n                        if(setting.id === \"no_window_bound\")isChecked = appSettings.get(\"NO_WINDOWS_BOUND\", false)\n                        if(setting.id === \"enable_glasstron\")isChecked = appSettings.get(\"GLASSTRON\", true)\n                        if(setting.id === \"lightcord-10\")isChecked = !appSettings.get(\"DEFAULT_NOTIFICATIONS\", true)\n                        let returnValue = BDV2.react.createElement(Switch, {id: setting.id, key: setting.id, data: setting, checked: isChecked, onChange: (id, checked) => {\n                            this.onChange(id, checked, sidebar);\n                        }})\n                        if(setting.id == \"lightcord-8\" && isChecked){\n                            return [\n                                returnValue,\n                                React.createElement(Lightcord.Api.Components.inputs.Button, {\n                                    color: \"green\",\n                                    look: \"outlined\",\n                                    size: \"small\",\n                                    hoverColor: \"brand\",\n                                    onClick: () => {\n                                        DiscordNative.ipc.send(\"NEW_TAB\")\n                                    },\n                                    wrapper: false,\n                                    disabled: false\n                                }, \"Open a new Tab\")\n                            ]\n                        }\n                        if(setting.id === \"enable_glasstron\" && isChecked){\n                            if(process.platform !== \"linux\"){\n                                let choices = []\n                                let actual = null\n                                if(process.platform === \"win32\"){\n                                    choices.push(\"blurbehind\", \"acrylic\", \"transparent\")\n                                    actual = appSettings.get(\"GLASSTRON_BLUR\", \"blurbehind\")\n                                }else if(process.platform === \"darwin\"){\n                                    choices.push(\"titlebar\", \n                                        \"selection\", \n                                        \"menu\", \n                                        \"popover\", \n                                        \"sidebar\", \n                                        \"header\", \n                                        \"sheet\", \n                                        \"window\", \n                                        \"hud\", \n                                        \"fullscreen-ui\", \n                                        \"tooltip\", \n                                        \"content\", \n                                        \"under-window\", \n                                        \"under-page\", \n                                        \"none\"\n                                    )\n                                    actual = appSettings.get(\"GLASSTRON_VIBRANCY\", \"fullscreen-ui\")\n                                }\n                                return [\n                                    returnValue,\n                                    React.createElement(Lightcord.Api.Components.general.SettingSubTitle, {}, \"Glasstron Blur\"),\n                                    React.createElement(Lightcord.Api.Components.inputs.Dropdown, {\n                                        options: choices.map(e => {\n                                            return {\n                                                value: e,\n                                                label: e\n                                            }\n                                        }),\n                                        value: actual,\n                                        disabled: false,\n                                        searchable: true,\n                                        clearable: false,\n                                        onChange: (value) => {\n                                            if(process.platform === \"win32\"){\n                                                ipcRenderer.invoke(\"LIGHTCORD_SET_BLUR_TYPE\", value)\n                                            }else{\n                                                ipcRenderer.invoke(\"LIGHTCORD_SET_VIBRANCY\", value)\n                                            }\n                                        }\n                                    }, null)\n                                ]\n                            }\n                        }\n                        return returnValue\n                    })\n                ]\n            }), \n            BDV2.react.createElement(window.Lightcord.Api.Components.inputs.Button, {\n                color: \"yellow\",\n                look: \"ghost\",\n                size: \"medium\",\n                hoverColor: \"red\",\n                onClick(){\n                    ipcRenderer.sendSync(\"LIGHTCORD_RELAUNCH_APP\", {\n                        args: remote.process.argv.slice(1).concat([\"--disable-betterdiscord\"])\n                    })\n                },\n                wrapper: true\n            }, \"Relaunch without BetterDiscord\"),\n            React.createElement(Lightcord.Api.Components.inputs.Button, {\n                color: \"yellow\",\n                look: \"ghost\",\n                size: \"medium\",\n                hoverColor: \"red\",\n                onClick: () => {\n                    if(isClearingCache)return\n                    isClearingCache = true\n                    Utils.showToast(\"Clearing cache...\", {\n                        type: \"info\"\n                    })\n                    forceUpdate()\n                    remote.getCurrentWebContents().session.clearCache()\n                    .then(() => {\n                        Utils.showToast(\"Cache is cleared !\", {\n                            type: \"success\"\n                        })\n                        isClearingCache = false\n                        forceUpdate()\n                    }).catch(err => {\n                        console.error(err)\n                        Utils.showToast(\"An error occured. Check console for more informations.\", {\n                            type: \"error\"\n                        })\n                        isClearingCache = false\n                        forceUpdate()\n                    })\n                },\n                wrapper: true,\n                disabled: isClearingCache\n            }, \"Clear cache\")\n        ]\n    }\n\n    PresenceComponent() {\n        return BDV2.react.createElement(V2C_PresenceSettings, {\n            key: \"lppannel\",\n            onChange: this.onChange, \n            settings: this.PresenceSettings\n        })\n    }\n\n    AccountInfosComponent() {\n        return BDV2.react.createElement(V2C_AccountInfos, {\n            key: \"lapannel\"\n        })\n    }\n\n    ApiPreviewComponent() {\n        return BDV2.react.createElement(ApiPreview, {\n            key: \"lapipannel\"\n        })\n    }\n\n    customCssComponent() {\n        return BDV2.react.createElement(CssEditor, {key: \"csseditor\"})\n    }\n\n    renderAddonPane(type) {\n        // I know this shouldn't be here, but when it isn't,\n        // React refuses to change the button when going\n        // between plugins and themes page... something\n        // to debug later.\n        class ContentList extends BDV2.react.Component {\n            constructor(props) {\n                super(props);\n                this.prefix = this.props.type.replace(\"s\", \"\");\n            }\n        \n            onChange() {\n                this.props.onChange(this.props.type);\n            }\n        \n            render() {return this.props.children;}\n        }\n        const originalRender = ContentList.prototype.render;\n        Object.defineProperty(ContentList.prototype, \"render\", {\n            enumerable: false,\n            configurable: false,\n            set: function() {console.warn(\"Addon policy for plugins #5 https://github.com/rauenzi/BetterDiscordApp/wiki/Addon-Policies#plugins\");},\n            get: () => originalRender\n        });\n        return function(){\n            return BDV2.react.createElement(ContentList, {type}, BDV2.react.createElement(CardList, {type}))\n        }\n    }\n};\n\n/**\n * No need to export settingsPanel on window\n */\n\nfunction makeComponent(children){\n    class SettingComponent extends React.Component {\n        render(){\n            return children(sidebar, () => this.forceUpdate())\n        }\n    }\n    let sidebar\n    return (s) => {\n        sidebar = s\n        return SettingComponent\n    }\n}","import BDV2 from \"../modules/v2\";\n\nexport default class BDLogo extends BDV2.reactComponent {\n    render() {\n        return BDV2.react.createElement(\n            \"svg\",\n            {height: \"100%\", width: this.props.size || \"16px\", className: \"bd-logo \" + this.props.className, style: {fillRule: \"evenodd\", clipRule: \"evenodd\", strokeLinecap: \"round\", strokeLinejoin: \"round\"}, viewBox: \"0 0 2000 2000\"},\n            BDV2.react.createElement(\"metadata\", null),\n            BDV2.react.createElement(\"defs\", null,\n                BDV2.react.createElement(\"filter\", {id: \"shadow1\"}, BDV2.react.createElement(\"feDropShadow\", {\"dx\": \"20\", \"dy\": \"0\", \"stdDeviation\": \"20\", \"flood-color\": \"rgba(0,0,0,0.35)\"})),\n                BDV2.react.createElement(\"filter\", {id: \"shadow2\"}, BDV2.react.createElement(\"feDropShadow\", {\"dx\": \"15\", \"dy\": \"0\", \"stdDeviation\": \"20\", \"flood-color\": \"rgba(255,255,255,0.15)\"})),\n                BDV2.react.createElement(\"filter\", {id: \"shadow3\"}, BDV2.react.createElement(\"feDropShadow\", {\"dx\": \"10\", \"dy\": \"0\", \"stdDeviation\": \"20\", \"flood-color\": \"rgba(0,0,0,0.35)\"}))\n            ),\n            BDV2.react.createElement(\"g\", null,\n                BDV2.react.createElement(\"path\", {style: {filter: \"url(#shadow3)\"}, d: \"M1195.44+135.442L1195.44+135.442L997.6+136.442C1024.2+149.742+1170.34+163.542+1193.64+179.742C1264.34+228.842+1319.74+291.242+1358.24+365.042C1398.14+441.642+1419.74+530.642+1422.54+629.642L1422.54+630.842L1422.54+632.042C1422.54+773.142+1422.54+1228.14+1422.54+1369.14L1422.54+1370.34L1422.54+1371.54C1419.84+1470.54+1398.24+1559.54+1358.24+1636.14C1319.74+1709.94+1264.44+1772.34+1193.64+1821.44C1171.04+1837.14+1025.7+1850.54+1000+1863.54L1193.54+1864.54C1539.74+1866.44+1864.54+1693.34+1864.54+1296.64L1864.54+716.942C1866.44+312.442+1541.64+135.442+1195.44+135.442Z\", fill: \"#171717\", opacity: \"1\"}),\n                BDV2.react.createElement(\"path\", {style: {filter: \"url(#shadow2)\"}, d: \"M1695.54+631.442C1685.84+278.042+1409.34+135.442+1052.94+135.442L361.74+136.442L803.74+490.442L1060.74+490.442C1335.24+490.442+1335.24+835.342+1060.74+835.342L1060.74+1164.84C1150.22+1164.84+1210.53+1201.48+1241.68+1250.87C1306.07+1353+1245.76+1509.64+1060.74+1509.64L361.74+1863.54L1052.94+1864.54C1409.24+1864.54+1685.74+1721.94+1695.54+1368.54C1695.54+1205.94+1651.04+1084.44+1572.64+999.942C1651.04+915.542+1695.54+794.042+1695.54+631.442Z\", fill: \"#3E82E5\", opacity: \"1\"}),\n                BDV2.react.createElement(\"path\", {style: {filter: \"url(#shadow1)\"}, d: \"M1469.25+631.442C1459.55+278.042+1183.05+135.442+826.65+135.442L135.45+135.442L135.45+1004C135.45+1004+135.427+1255.21+355.626+1255.21C575.825+1255.21+575.848+1004+575.848+1004L577.45+490.442L834.45+490.442C1108.95+490.442+1108.95+835.342+834.45+835.342L664.65+835.342L664.65+1164.84L834.45+1164.84C923.932+1164.84+984.244+1201.48+1015.39+1250.87C1079.78+1353+1019.47+1509.64+834.45+1509.64L135.45+1509.64L135.45+1864.54L826.65+1864.54C1182.95+1864.54+1459.45+1721.94+1469.25+1368.54C1469.25+1205.94+1424.75+1084.44+1346.35+999.942C1424.75+915.542+1469.25+794.042+1469.25+631.442Z\", fill: \"#FFFFFF\", opacity: \"1\"})\n            )\n        );\n    }\n}","export default class LightcordLogo extends React.Component {\n    render(){\n        const props = this.props\n        return (\n            <svg viewBox=\"0 0 168 168.69\" {...props} height=\"100%\" width={props.size}>\n                <defs>\n                    <linearGradient id=\"prefix__a\" x1={66.7} y1={-487.7} x2={66.7} y2={-508.73} gradientTransform=\"matrix(1 0 0 -1 0 -408)\" gradientUnits=\"userSpaceOnUse\">\n                        <stop offset={0} stopColor=\"#e30613\" />\n                        <stop offset={1} stopColor=\"#731a14\" />\n                    </linearGradient>\n                    <linearGradient id=\"prefix__b\" x1={101.7} y1={-487.7} x2={101.7} y2={-508.73} gradientTransform=\"matrix(1 0 0 -1 0 -408)\" gradientUnits=\"userSpaceOnUse\">\n                        <stop offset={0} stopColor=\"#e20613\" />\n                        <stop offset={1} stopColor=\"#731a13\" />\n                    </linearGradient>\n                    <linearGradient id=\"prefix__c\" x1={84} y1={-408} x2={84} y2={-576.69} gradientTransform=\"matrix(1 0 0 -1 0 -408)\" gradientUnits=\"userSpaceOnUse\">\n                        <stop offset={0} stopColor=\"#e30613\" />\n                        <stop offset={1} stopColor=\"#731a13\" />\n                    </linearGradient>\n                </defs>\n                <path fill=\"#fff\" d=\"M14.9 35.3h139.2V133H14.9z\" />\n                <path d=\"M66.7 79.7c-5.4 0-9.8 4.7-9.8 10.5s4.4 10.5 9.8 10.5 9.8-4.7 9.8-10.5-4.4-10.5-9.8-10.5z\" fill=\"url(#prefix__a)\" />\n                <path d=\"M101.7 79.7c-5.4 0-9.8 4.7-9.8 10.5s4.4 10.5 9.8 10.5 9.8-4.7 9.8-10.5-4.4-10.5-9.8-10.5z\" fill=\"url(#prefix__b)\" />\n                <path d=\"M0 0v168l168 .69V0zm111.3 124.1s-3.4-4.1-6.3-7.7c12.6-3.5 17.4-11.3 17.4-11.3a52.52 52.52 0 01-11.1 5.6 68.63 68.63 0 01-38.9 4 70.12 70.12 0 01-14.1-4.1 48.88 48.88 0 01-7.1-3.3c-.3-.2-.6-.3-.9-.5a.76.76 0 00-.4-.2c-1.7-1-2.6-1.6-2.6-1.6s4.6 7.6 16.8 11.2c-2.9 3.6-6.4 7.9-6.4 7.9-21.2-.6-29.3-14.5-29.3-14.5 0-30.6 13.8-55.4 13.8-55.4 13.8-10.3 26.9-10 26.9-10l1 1.1C52.8 50.3 45 57.9 45 57.9a56.2 56.2 0 015.7-2.7 72.19 72.19 0 0121.8-6 8.75 8.75 0 011.6-.2 89.1 89.1 0 0119.4-.2 78.45 78.45 0 0128.9 9.1s-7.5-7.2-23.9-12.1l1.3-1.5s13.1-.3 26.9 10c0 0 13.8 24.8 13.8 55.4.1-.1-8 13.8-29.2 14.4z\" fill=\"url(#prefix__c)\" />\n            </svg>\n        )\n    }\n}","import BDV2 from \"./v2\";\nimport Utils from \"./utils\";\n\nconst Constants = {\n    EmojiRegex: /<a?\\.(\\w+)\\.(\\d+)>/g\n}\n\nlet CustomEmojiModule = BDModules.get(e => e.CustomEmoji)[0]\nlet EmojiModuleApi = BDModules.get(e => e.default && e.default.getCustomEmojiById)[0]\nlet AutocompleteModule = BDModules.get(e => e.default && e.default.displayName === \"Autocomplete\")[0]\nlet AutoCompletionTemplates = BDModules.get(e => e.getAutocompleteOptions)[0]\nlet EmojiModuleQuery = BDModules.get(e => e.default && e.default.queryEmojiResults)[0]\nlet Messages = BDModules.get(e => e.default && e.default.Messages && e.default.Messages.EMOJI_MATCHING)[0]\nlet guildModule = BDModules.get(e => e.default && e.default.getGuild && e.default.getGuilds && !e.default.isFetching)[0]\nlet emojiSearch = BDModules.get(e => e.default && e.default.getDisambiguatedEmojiContext)\n\nexport default new class EmojiModule {\n    constructor(){\n        this.init().catch(err => Utils.err(\"EmojiModule\", \"An error occured\", err)) // better logging\n    }\n\n    async init(){\n        /** Emoji AutoComplete */\n        if(!AutocompleteModule)AutocompleteModule = await window.Lightcord.Api.ensureExported(e => e.default && e.default.displayName === \"Autocomplete\")\n        if(!AutoCompletionTemplates)AutoCompletionTemplates = await window.Lightcord.Api.ensureExported(e => e.getAutocompleteOptions)\n        if(!EmojiModuleQuery)EmojiModuleQuery = await window.Lightcord.Api.ensureExported(e => e.default && e.default.queryEmojiResults)\n        if(!Messages)Messages = await window.Lightcord.Api.ensureExported(e => e.default && e.default.Messages && e.default.Messages.EMOJI_MATCHING)\n        if(!guildModule)guildModule = await window.Lightcord.Api.ensureExported(e => e.default && e.default.getGuild && e.default.getGuilds && !e.default.isFetching)\n        if(!emojiSearch)emojiSearch = await window.Lightcord.Api.ensureExported(e => e.default && e.default.getDisambiguatedEmojiContext)\n\n        if(AutocompleteModule && AutoCompletionTemplates && EmojiModuleQuery && Messages && guildModule && emojiSearch){\n            console.log(`Patching getAutocompleteOptions of AutoCompletionTemplates`, AutoCompletionTemplates)\n            const getAutocompleteOptions = AutoCompletionTemplates.getAutocompleteOptions\n            AutoCompletionTemplates.getAutocompleteOptions = function(e, t, n, r, a){\n                const value = getAutocompleteOptions.call(this, ...arguments)\n                value.LIGHTCORD_EMOJIS = {\n                    matches(arg1, arg2){\n                        let condition = arg2.length > 1 && \".\" === arg1\n                        setEmojiUsable(condition)\n                        return condition\n                    },\n                    queryResults(t){\n                        let results = EmojiModuleQuery.default.queryEmojiResults(t, e)\n                        return results\n                    },\n                    renderResults(e, t, n, r, a){\n                        return D(e, t, a.emojis, n, r, Messages.default.Messages.EMOJI_MATCHING, Messages.default.Messages.EMOJI, AutocompleteModule.default.Emoji, (function(e) {\n                            return {\n                                emoji: e,\n                                key: e.id || e.uniqueName || e.name,\n                                sentinel: \".\",\n                                guild: null != e.guildId ? guildModule.default.getGuild(e.guildId) : null\n                            }\n                        }), (function(e) {\n                            return \".\" + e + \".\"\n                        }))\n                    },\n                    getPlainText(id, guild){\n                        var emojis = guild.emojis;\n                        if (null == emojis || null == emojis[id]) return \"\";\n                        var emoji = emojis[id],\n                            isAnimated = emoji.animated ? \"a\" : \"\";\n                        return emoji.managed || null == emoji.id ? \".\" + emoji.name + \".\" : \"<\" + isAnimated + \".\" + (emoji.originalName || emoji.name) + \".\" + emoji.id + \">\"\n                    },\n                    getRawText(id, guild){\n                        var emojis = guild.emojis;\n                        if (null == emojis || null == emojis[id]) return \"\";\n                        var emoji = emojis[id],\n                            isAnimated = emoji.animated ? \"a\" : \"\";\n                        return emoji.managed || null == emoji.id ? \".\" + emoji.name + \".\" : \"<\" + isAnimated + \".\" + (emoji.originalName || emoji.name) + \".\" + emoji.id + \">\"\n                    }\n                }\n                return value\n            }\n        }else{\n            console.error(new Error(\"Couldn't start autocompletion of Lightcord's emojis.\"))\n        }\n\n        /** Emoji display */\n        while (!BDV2.MessageComponent) await new Promise(resolve => setTimeout(resolve, 100));\n\n        if (!this.cancelEmojiRender){ // TODO: Proper emoji formatting / rendering\n            this.cancelEmoteRender = Utils.monkeyPatch(BDV2.MessageComponent, \"default\", {before: (data) => {\n                const message = Utils.getNestedProp(data.methodArguments[0], \"childrenMessageContent.props.message\")\n                if(!message)return\n                const content = Utils.getNestedProp(data.methodArguments[0], \"childrenMessageContent.props.content\")\n                if(!content || !content.length)return\n    \n                /**\n                 * @type {{\n                 *  raw: string,\n                 *  name: string,\n                 *  id: string,\n                 *  animated: boolean\n                 * }[]}\n                 */\n                let emojis = []\n                \n                const newContent = []\n                for(let node of content){\n                    if (typeof(node) !== \"string\") {\n                        newContent.push(node)\n                        continue\n                    };\n                    let parsed;\n                    let hasParsed = false\n        \n                    do {\n                        parsed = Constants.EmojiRegex.exec(node);\n                        if (parsed) {\n                            hasParsed = true\n                            if(!EmojiModuleApi)EmojiModuleApi = BDModules.get(e => e.default && e.default.getCustomEmojiById)[0]\n                            const emoji = EmojiModuleApi.default.getCustomEmojiById(parsed[2])\n                            if(emoji){\n                                emojis.push({\n                                    animated: emoji.animated,\n                                    name: emoji.name,\n                                    id: emoji.id,\n                                    raw: parsed[0]\n                                })\n                            }else{\n                                emojis.push({\n                                    animated: parsed[0].startsWith(\"<a\"),\n                                    name: parsed[1],\n                                    id: parsed[2],\n                                    raw: parsed[0]\n                                })\n                            }\n                        }\n                    } while (parsed);\n    \n                    if(hasParsed){\n                        const words = node.split(\" \").map((word, index, arr) => {\n                            if(!word)return \"\"\n                            const emoji = emojis.find(e => e.raw == word)\n                            if(!emoji)return word\n                            if(!CustomEmojiModule)CustomEmojiModule = BDModules.get(e => e.CustomEmoji)[0]\n                            return React.createElement(CustomEmojiModule.CustomEmoji, {\n                                emoji: {\n                                    name: `.${emoji.name}.`,\n                                    emojiId: emoji.id,\n                                    animated: emoji.animated,\n                                    jumboable: arr.length === 1 && content.length === 1\n                                }\n                            })\n                        }).reduce((previous, current) => {\n                            if(previous.length === 0)return [current]\n                            if(typeof current === \"string\"){\n                                if(typeof previous[previous.length - 1] === \"string\"){\n                                    previous[previous.length - 1] += ` ${current}`\n                                    return previous\n                                }\n                                previous.push(\" \"+current)\n                                return previous\n                            }\n                            previous.push(\" \", current)\n                            return previous\n                        }, [])\n                        newContent.push(...words)\n                    }else{\n                        newContent.push(node)\n                    }\n                }\n                while(data.methodArguments[0].childrenMessageContent.props.content[0]){\n                    data.methodArguments[0].childrenMessageContent.props.content.shift()\n                }\n                while(newContent[0]){\n                    data.methodArguments[0].childrenMessageContent.props.content.push(newContent.shift())\n                }\n            }});\n        }/*\n        let userModule\n        window.Lightcord.Api.ensureExported(e => e.default && e.default.displayName === \"EmojiPickerListRow\")\n        .then(EmojiPickerListRow => {\n            let classs = EmojiPickerListRow.default\n            EmojiPickerListRow.default = class EmojiPickerListRow extends React.Component {\n                constructor(props){\n                    super(props)\n                }\n\n                render(){\n                    if(!userModule)userModule = BDModules.get(e => e.default && e.default.getCurrentUser)[0]\n                    if(!userModule)return React.createElement(classs, this.props)\n                    let user = userModule.default.getCurrentUser()\n                    if(!user.hasPremiumSubscription)return React.createElement(classs, this.props)\n\n                    return React.createElement(classs, Object.assign({}, this.props, {\n                        emojiDescriptors: this.props.emojiDescriptors.map(e => {\n                            e.isDisabled = false\n                        })\n                    }))                    \n                }\n            }\n            EmojiPickerListRow.default.displayName = \"EmojiPickerListRow\"\n        })*/\n    }\n\n    disable(){\n        if (!this.cancelEmoteRender) return;\n        this.cancelEmoteRender();\n        this.cancelEmoteRender = null;\n    }\n\n    start(){\n        \n    }\n}\n\nfunction D(e, t, n, r, o, i, s, u, l, c) {\n    if (null == n || 0 === n.length) return null;\n    var d = n.map((function(e, n) {\n        return React.createElement(u, Object.assign({\n            onClick: o,\n            onHover: r,\n            selected: t === n,\n            index: n\n        }, l(e, n)))\n    }));\n    return [R(i, s, e, c), d]\n}\n\nfunction R(e, t, n, r) {\n    var a = (n.length > 0 ? e.format({\n        prefix: r(n)\n    }) : t)\n    if(Array.isArray(a)){\n        a.unshift(React.createElement(\"strong\", {}, \"[Lightcord] \"))\n    }else{\n        a = \"[LIGHTCORD] \"+a\n    }\n    return React.createElement(AutocompleteModule.default.Title, {\n        title: a\n    }, a)\n}\nR.displayName = \"renderHeader\";\n\nlet EmojiFilterModule = BDModules.get(e => e.default && e.default.isEmojiDisabled)[0]\nlet isEmojiDisabled = EmojiFilterModule && EmojiFilterModule.default.isEmojiDisabled\nlet isUsable = false\nlet hasPatched = false\n\nfunction setEmojiUsable(usable){\n    isUsable = usable\n    if(hasPatched)return\n    if(!EmojiFilterModule)EmojiFilterModule = BDModules.get(e => e.default && e.default.isEmojiDisabled)[0]\n    if(!EmojiFilterModule)return\n    if(!isEmojiDisabled)isEmojiDisabled = EmojiFilterModule.default.isEmojiDisabled\n\n    hasPatched = true\n    EmojiFilterModule.default.isEmojiDisabled = function(emoji){\n        if(isUsable){\n            if(emoji.surrogates || emoji.diversity)return true\n            return false\n        }\n        return isEmojiDisabled.call(this, ...arguments)\n    }\n}","import {bdConfig, minSupportedVersion, bbdVersion, settingsCookie, bdpluginErrors, bdthemeErrors, bbdChangelog, defaultCookie, currentDiscordVersion, defaultRPC, settingsRPC, lightcordSettings} from \"../0globals\";\nimport Utils from \"./utils\";\n\nimport BDV2 from \"./v2\";\nimport settingsPanel from \"./settingsPanel\";\nimport pluginModule from \"./pluginModule\";\nimport themeModule from \"./themeModule\";\nimport DataStore from \"./dataStore\";\nimport WebpackModules from \"./webpackModules\";\nimport DOM from \"./domtools\";\n\nimport BDLogo from \"../ui/bdLogo\";\nimport TooltipWrap from \"../ui/tooltipWrap\";\nimport LightcordLogo from \"../svg/Lightcord\";\nimport PluginCertifier from \"./pluginCertifier\";\nimport distant, { uuidv4 } from \"./distant\";\nimport EmojiModule from \"./emojiModule\"\nimport * as electron from \"electron\"\nimport v2 from \"./v2\";\nimport contentManager from \"./contentManager\";\n\nlet methods\nfunction Core() {}\n\n\nCore.prototype.setConfig = function(config) {\n    if (this.hasStarted) return;\n    Object.assign(bdConfig, config);\n};\n\nObject.defineProperty(Core.prototype, \"methods\", {\n    get(){\n        return methods\n    }\n})\n\nCore.prototype.setMethods = function(m) {\n    if (this.hasStarted) return;\n    methods = m\n};\n\nCore.prototype.init = async function() {\n    if (this.hasStarted) return;\n    this.hasStarted = true;\n\n    if (!Array.prototype.flat) {\n        Utils.alert(\"Not Supported\", \"BetterDiscord v\" + bbdVersion + \" does not support this old version (\" + currentDiscordVersion + \") of Discord. Please update your Discord installation before proceeding.\");\n        return;\n    }\n\n    if (bdConfig.version < minSupportedVersion) {\n        Utils.alert(\"Not Supported\", \"BetterDiscord v\" + bdConfig.version + \" (your version)\" + \" is not supported by the latest js (\" + bbdVersion + \").<br><br> Please download the latest version from <a href='https://github.com/rauenzi/BetterDiscordApp/releases/latest' target='_blank'>GitHub</a>\");\n        return;\n    }\n\n    if (window.ED) {\n        Utils.alert(\"Not Supported\", \"BandagedBD does not work with EnhancedDiscord. Please uninstall one of them.\");\n        return;\n    }\n\n    if (window.WebSocket && window.WebSocket.name && window.WebSocket.name.includes(\"Patched\")) {\n        Utils.alert(\"Not Supported\", \"BandagedBD does not work with Powercord. Please uninstall one of them.\");\n        return;\n    }\n\n    Utils.suppressErrors(this.patchAttributes.bind(this), \"LC Plugin Certifier Patch\")();\n\n    Utils.log(\"Startup\", \"Initializing Settings\");\n    this.initSettings();\n\n    await this.checkForGuilds();\n    BDV2.initialize();\n    Utils.log(\"Startup\", \"Updating Settings\");\n    settingsPanel.initializeSettings();\n\n    Utils.log(\"Startup\", \"Loading Addons Cache\")\n    await contentManager.loadAddonCertifierCache()\n\n    Utils.log(\"Startup\", \"Loading Plugins\");\n    await pluginModule.loadPlugins();\n\n    Utils.log(\"Startup\", \"Loading Themes\");\n    await themeModule.loadThemes();\n\n    DOM.addStyle(\"customcss\", Buffer.from(DataStore.getBDData(\"bdcustomcss\"), \"base64\").toString(\"utf8\"));\n\n    window.addEventListener(\"beforeunload\", function() {\n        if (settingsCookie[\"bda-dc-0\"]) document.querySelector(\".btn.btn-disconnect\").click();\n    });\n\n    PluginCertifier.start()\n\n    Utils.log(\"Startup\", \"Removing Loading Icon\");\n    if (document.getElementsByClassName(\"bd-loaderv2\").length) document.getElementsByClassName(\"bd-loaderv2\")[0].remove();\n    Utils.log(\"Startup\", \"Initializing Main Observer\");\n    this.initObserver();\n\n    // Show loading errors\n    if (settingsCookie[\"fork-ps-1\"]) {\n        Utils.log(\"Startup\", \"Collecting Startup Errors\");\n        Utils.showContentErrors({plugins: bdpluginErrors, themes: bdthemeErrors});\n    }\n\n    const previousVersion = DataStore.getBDData(\"version\");\n    if (bbdVersion > previousVersion) {\n        if (bbdChangelog) this.showChangelogModal(bbdChangelog);\n        DataStore.setBDData(\"version\", bbdVersion);\n    }\n\n    EmojiModule.start()\n\n    Utils.suppressErrors(this.patchSocial.bind(this), \"BD Social Patch\")();\n    Utils.suppressErrors(this.patchGuildPills.bind(this), \"BD Guild Pills Patch\")();\n    Utils.suppressErrors(this.patchGuildListItems.bind(this), \"BD Guild List Items Patch\")();\n    Utils.suppressErrors(this.patchGuildSeparator.bind(this), \"BD Guild Separator Patch\")();\n    Utils.suppressErrors(this.patchMessageHeader.bind(this), \"BD Badge Chat Patch\")();\n    Utils.suppressErrors(this.patchMemberList.bind(this), \"BD Badge Member List Patch\")();\n    Utils.suppressErrors(this.patchAttachment.bind(this), \"LC Plugin Certifier Patch\")();\n\n    if(bdConfig.haveInstalledDefault){\n        let alert = Utils.alert(\"First Installation\", \"As it is the first time you install Lightcord, We added two default themes and one default plugin in your plugin/theme folder. Check it in the Plugin/Theme settings.\")\n        await new Promise((resolve) => {\n            alert.onClose(resolve)\n        })\n    }\n    const logo = document.querySelector(\"#app-mount > div.typeWindows-1za-n7.withFrame-haYltI.titleBar-AC4pGV.horizontalReverse-3tRjY7.flex-1O1GKY.directionRowReverse-m8IjIq.justifyStart-2NDFzi.alignStretch-DpGPf3.da-typeWindows.da-withFrame.da-titleBar.da-horizontalReverse.da-flex.da-directionRowReverse.da-justifyStart.da-alignStretch > div.wordmarkWindows-1v0lYD.wordmark-2iDDfm.da-wordmarkWindows.da-wordmark\")\n    if(logo){\n        logo.style.top = \"3px\"\n        logo.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"10\" width=\"70\" viewBox=\"0 0 72.54 10\" style=\"margin-left: -5px, margin-top: 10px\">\n    <path fill=\"currentColor\" d=\"M44.81,9.67V6.33c0-1.21,2.13-1.49,2.78-.28l2-.81A3.53,3.53,0,0,0,46.2,3c-1.92,0-3.81,1.13-3.81,3.33V9.67c0,2.21,1.89,3.33,3.77,3.33a3.87,3.87,0,0,0,3.45-2.18l-2.12-1C47,11.17,44.81,10.85,44.81,9.67ZM10.68,12.89h2.41V3.17H10.68ZM71.76,3.14H68.19V7.23L70.57,9.4v-4h1.27c.81,0,1.21.41,1.21,1v3c0,.63-.38,1.05-1.21,1.05H68.18v2.31h3.57c1.92,0,3.72-1,3.72-3.2V6.39C75.48,4.13,73.68,3.14,71.76,3.14ZM54.22,3c-2,0-4,1.1-4,3.34V9.66c0,2.23,2,3.34,4,3.34s3.95-1.11,3.95-3.34V6.34C58.19,4.11,56.2,3,54.22,3Zm1.55,6.66c0,.7-.78,1.06-1.54,1.06s-1.55-.35-1.55-1.06V6.34c0-.72.75-1.1,1.5-1.1s1.59.35,1.59,1.1ZM66.84,6.34c0-2.29-1.58-3.2-3.55-3.2H59.46v9.73h2.45V9.77h.43l2.22,3.09h3L65,9.52C66.13,9.15,66.84,8.14,66.84,6.34ZM63.33,7.65H61.91V5.43h1.42A1.11,1.11,0,1,1,63.33,7.65ZM29.83,13h2.42V3.06H29.83V6.73l-3,0V3.09H24.7v9.78h2.14V8.68l3,0ZM17.16,9.76V6.42c0-1.21,2.13-1.49,2.78-.28l2-.81a3.55,3.55,0,0,0-3.36-2.24c-1.92,0-3.81,1.13-3.81,3.33V9.76c0,2.21,2,3.15,3.9,3.15s3.58-1,3.58-3V7.58H18.79l0,1.36H20.3v.77C20.3,10.92,17.16,10.94,17.16,9.76Z\" transform=\"translate(-2.93 -3)\"/>\n    <polygon fill=\"currentColor\" points=\"35.91 0.06 38.43 0.06 38.43 1.84 35.92 1.81 35.97 10 33.55 10 33.49 1.75 30.98 1.74 30.98 0.06 33.49 0.06 35.91 0.06\"/>\n    <polygon fill=\"currentColor\" points=\"0 9.97 6.5 10 6.5 7.63 2.41 7.63 2.41 0.26 0 2.26 0 9.97\"/>\n</svg>`\n    }\n};\n\nCore.prototype.patchAttributes = async function() {\n    let attribsPatchs = []\n    this.cancelPatchAttributes = function() {\n        attribsPatchs.forEach(e => e())\n    }\n\n    while(!v2.MessageComponent)await new Promise(resolve => setTimeout(resolve, 100))\n    \n    // TODO: try to patch correctly the user popout on a next update\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    window.Lightcord.Api.ensureExported(e => e.default && e.default.displayName === \"DiscordTag\")\n    .then(DiscordTag => {\n        let DiscordTagComp = DiscordTag.default\n        DiscordTag.default = function(props){\n            let returnValue = DiscordTagComp(props)\n\n            let id = uuidv4()\n\n            let badgeDiv = BDV2.React.createElement(\"div\", {\n                style: {\n                    display: \"inline\",\n                    marginTop: \"5px\"\n                }\n            }, BDV2.React.createElement(\"span\", {\n                id: \"badges-\"+id,\n                key: \"badges-\"+id,\n                style: {\n                    display: \"inherit\"\n                }\n            }))\n\n            let children = [returnValue]\n\n            if (props.user.id === \"249746236008169473\") { // Rauenzi: BandagedBD Developer\n                children.push(\n                    BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"BandagedBD Developer\"},\n                        BDV2.React.createElement(Anchor, {className: \"bd-chat-badge\", href: \"https://github.com/rauenzi/BetterDiscordApp\", title: \"BandagedBD\", target: \"_blank\"},\n                            BDV2.React.createElement(BDLogo, {size: \"16px\", className: \"bd-logo\"})\n                        )\n                    )\n                );\n            } else if (props.user.id === \"696481194443014174\" || props.user.id === \"696003456611385396\"){ // Not Thomiz: Lightcord Developer, Phorcys: Lightcord Developer\n                children.push(\n                    BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"Lightcord Developer\"},\n                        BDV2.React.createElement(Anchor, {className: \"bd-chat-badge\", href: \"https://github.com/Lightcord/Lightcord\", title: \"Lightcord\", target: \"_blank\"},\n                            BDV2.React.createElement(LightcordLogo, {size: \"16px\", className: \"bd-logo\"})\n                        )\n                    )\n                );\n            }\n\n            children.push(badgeDiv)\n            let div = BDV2.React.createElement(\"div\", {\n                style: {\n                    display: \"block\"\n                }\n            }, children)\n            applyBadges(id, props.user, false)\n\n            return div\n        }\n        DiscordTag.default.displayName = DiscordTagComp.displayName\n    })\n\n    attribsPatchs.push(Utils.monkeyPatch(v2.MessageComponent, \"default\", {after: (data) => {\n        if(data.methodArguments[0].childrenMessageContent.props.message){ // this can be a blocked message (not opened)\n            data.returnValue.props[\"data-message-id\"] = data.methodArguments[0].childrenMessageContent.props.message.id\n        }\n    }}))\n        /*\n    attribsPatchs.push(Utils.monkeyPatch(v2.MessageComponent, \"default\", {after: (data) => {\n        data.returnValue.props[\"message-id\"] = data.methodArguments[0].childrenMessageContent.props.message.id\n    }}))*/\n}\n\nCore.prototype.checkForGuilds = function() {\n    let timesChecked = 0;\n    return new Promise(resolve => {\n        const checkForGuilds = function() {\n            const wrapper = BDV2.guildClasses.wrapper.split(\" \")[0];\n            if (document.querySelectorAll(`.${wrapper}`).length > 0) timesChecked++;\n            const guild = BDV2.guildClasses.listItem.split(\" \")[0];\n            const blob = BDV2.guildClasses.blobContainer.split(\" \")[0];\n            if (document.querySelectorAll(`.${wrapper} .${guild} .${blob}`).length > 0) return resolve(bdConfig.deferLoaded = true);\n            else if (timesChecked >= 50) return resolve(bdConfig.deferLoaded = true);\n            setTimeout(checkForGuilds, 100);\n        };\n        if (document.readyState != \"loading\") setTimeout(checkForGuilds, 100);\n        document.addEventListener(\"DOMContentLoaded\", () => {setTimeout(checkForGuilds, 100);});\n    });\n};\n\nCore.prototype.injectExternals = async function() {\n    // No externals\n};\n\nCore.prototype.initSettings = function () {\n    DataStore.initialize();\n    if(!DataStore.getSettingGroup(\"rpc\")){\n        Object.assign(settingsRPC, defaultRPC);\n    }\n    if(!DataStore.getSettingGroup(\"settings\")){\n            Object.assign(settingsCookie, defaultCookie);\n        settingsPanel.saveSettings();\n    } else {\n        settingsPanel.loadSettings();\n        for (const setting in defaultCookie) {\n            if (settingsCookie[setting] == undefined) {\n                settingsCookie[setting] = defaultCookie[setting];\n                settingsPanel.saveSettings();\n            }\n        }\n    }\n    window.Lightcord.Api.ensureExported(e => e.default && e.default.prototype && e.default.prototype.getPredicateSections)\n    .then(settingModule => {\n\n        let getPredicateSections = settingModule.default.prototype.getPredicateSections\n        settingModule.default.prototype.getPredicateSections = function(){\n            let result = getPredicateSections.call(this, ...arguments)\n\n            if(!result[1])return result\n            if(result[1].section === \"My Account\"){ // user settings, not guild settings\n                let poped = []\n                \n                poped.push(result.pop())\n                poped.push(result.pop())\n                poped.push(result.pop())\n                poped.push(result.pop())\n\n                result.push(...settingsPanel.renderSidebar(this))\n\n                while(poped[0]){\n                    result.push(poped.pop())\n                }\n            }\n            console.log(result)\n            return result\n        }\n    })\n};\n\n\nlet classNameLayer\nlet classNameSocialLinks\nlet classNameModal\n\nCore.prototype.initObserver = function () {\n    const mainObserver = new MutationObserver((mutations) => {\n        for (let i = 0, mlen = mutations.length; i < mlen; i++) {\n            const mutation = mutations[i];\n            if (typeof pluginModule !== \"undefined\") pluginModule.rawObserver(mutation);\n\n            // if there was nothing added, skip\n            if (!mutation.addedNodes.length || !(mutation.addedNodes[0] instanceof Element)) continue;\n\n            const node = mutation.addedNodes[0];\n\n            if(!classNameLayer)classNameLayer = BDModules.get((e) => e.layer && typeof e.layer === \"string\" && e.animating)[0].layer\n            if(!classNameSocialLinks)classNameSocialLinks = BDModules.get((e) => e.socialLinks && typeof e.socialLinks === \"string\")[0].socialLinks\n            if(!classNameModal)classNameModal = BDModules.get((e) => e.modal && typeof e.modal === \"string\" && e.inner && typeof e.inner === \"string\" && !e.responsiveWidthMobile)[0].modal\n\n            if (node.classList.contains(classNameLayer)) {\n                if (node.getAttribute(\"aria-label\") === \"GUILD_SETTINGS\"){\n                    node.setAttribute(\"layer-id\", \"server-settings\");\n                    node.setAttribute(\"id\", \"server-settings\");\n                }\n\n                if (node.getElementsByClassName(classNameSocialLinks).length) {\n                    node.setAttribute(\"layer-id\", \"user-settings\");\n                    node.setAttribute(\"id\", \"user-settings\");\n                }\n            }\n\n            if (node.parentElement == document.body && node.querySelector(\"#ace_settingsmenu\")) node.id = \"ace_settingsmenu_container\";\n\n            // Emoji Picker\n            //node.getElementsByClassName(\"emojiPicker-3m1S-j\").length && !node.querySelector(\".emojiPicker-3m1S-j\").parentElement.classList.contains(\"animatorLeft-1EQxU0\")\n            //if (node.classList.contains(classNameLayer2) && node.getElementsByClassName(classNameEmojiPicker).length  && !node.querySelector(\".\"+classNameEmojiPicker).parentElement.classList.contains(classNameAnimatorLeft)) quickEmoteMenu.obsCallback(node);\n\n        }\n    });\n\n    mainObserver.observe(document, {\n        childList: true,\n        subtree: true\n    });\n};\n\nCore.prototype.showChangelogModal = function(options = {}) {\n    return Utils.showChangelogModal(options);\n};\n\nCore.prototype.alert = function(title, content) {\n    return Utils.alert(title, content);\n};\n\nCore.prototype.patchSocial = function() {\n    if (this.socialPatch) return;\n    const TabBar = WebpackModules.find(m => m.displayName == \"TabBar\");\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    if (!TabBar) return;\n    this.socialPatch = Utils.monkeyPatch(TabBar.prototype, \"render\", {after: (data) => {\n        const children = data.returnValue.props.children;\n        if (!children || !children.length || children.length < 3) return;\n        if (children[children.length - 3].type.displayName !== \"Separator\") return;\n        if (!children[children.length - 2].type.toString().includes(\"socialLinks\")) return;\n        if (Anchor) {\n            let socialModule1 = BDModules.get(e => e.socialLinks)[0]\n            const original = children[children.length - 2].type;\n            const newOne = function() {\n                const returnVal = original(...arguments);\n                returnVal.props.children.push(\n                    BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"Lightcord\"},\n                        BDV2.React.createElement(Anchor, {className: \"bd-social-link \"+socialModule1.link, href: \"https://github.com/Lightcord/Lightcord\", title: \"Lightcord\", target: \"_blank\"},\n                            BDV2.React.createElement(LightcordLogo, {size: \"16px\", className: \"bd-social-logo\"})\n                        )\n                    )\n                );\n                returnVal.props.children.push(\n                    BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"BandagedBD\"},\n                        BDV2.React.createElement(Anchor, {className: \"bd-social-link \"+socialModule1.link, href: \"https://github.com/rauenzi/BetterDiscordApp\", title: \"BandagedBD\", target: \"_blank\"},\n                            BDV2.React.createElement(BDLogo, {size: \"16px\", className: \"bd-social-logo\"})\n                        )\n                    )\n                );\n                return returnVal;\n            };\n            children[children.length - 2].type = newOne;\n        }\n\n        let [\n            classNameColorMuted,\n            sizes,\n            classNameVersionHash\n        ] = [\n            BDModules.get(e => e.colorMuted)[0].colorMuted,\n            BDModules.get(e => e.size32)[0],\n            BDModules.get(e => e.versionHash)[0].versionHash\n        ]\n\n        const versionHash = `(${bdConfig.hash ? bdConfig.hash.substring(0, 7) : bdConfig.branch})`;\n        const buildInfo = electron.ipcRenderer.sendSync(\"LIGHTCORD_GET_BUILD_INFOS\")\n        const additional = [\n            BDV2.react.createElement(\"div\", {className: `${classNameColorMuted} ${sizes.size12}`}, `Lightcord ${buildInfo.version} `, BDV2.react.createElement(\"span\", {className: classNameVersionHash+\" da-versionHash\"}, `(${(buildInfo.commit || \"Unknown\").slice(0, 7)})`)),\n            BDV2.react.createElement(\"div\", {className: `${classNameColorMuted} ${sizes.size12}`}, `BBD ${bbdVersion} `, BDV2.react.createElement(\"span\", {className: classNameVersionHash+\" da-versionHash\"}, versionHash))\n        ]\n        \n\n        const originalVersions = children[children.length - 1].type;\n        children[children.length - 1].type = function() {\n            const returnVal = originalVersions(...arguments);\n            returnVal.props.children.splice(1, 0, additional);\n            return returnVal;\n        };\n    }});\n};\n\nconst getGuildClasses = function() {\n    const guildsWrapper = WebpackModules.findByProps(\"wrapper\", \"unreadMentionsBar\");\n    const guilds = WebpackModules.findByProps(\"guildsError\", \"selected\");\n    const pill = WebpackModules.findByProps(\"blobContainer\");\n    return Object.assign({}, guildsWrapper, guilds, pill);\n};\n\nCore.prototype.patchGuildListItems = function() {\n    if (this.guildListItemsPatch) return;\n    const GuildClasses = getGuildClasses();\n    const listItemClass = GuildClasses.listItem.split(\" \")[0];\n    const blobClass = GuildClasses.blobContainer.split(\" \")[0];\n    const reactInstance = BDV2.getInternalInstance(document.querySelector(`.${listItemClass} .${blobClass}`).parentElement);\n    const GuildComponent = reactInstance.return.type;\n    if (!GuildComponent) return;\n    this.guildListItemsPatch = Utils.monkeyPatch(GuildComponent.prototype, \"render\", {after: (data) => {\n        if (data.returnValue && data.thisObject) {\n            const returnValue = data.returnValue;\n            const guildData = data.thisObject.props;\n            let className = returnValue.props.className\n            className += \" bd-guild\";\n            if (guildData.unread) className += \" bd-unread\";\n            if (guildData.selected) className += \" bd-selected\";\n            if (guildData.audio) className += \" bd-audio\";\n            if (guildData.video) className += \" bd-video\";\n            if (guildData.badge) className += \" bd-badge\";\n            if (guildData.animatable) className += \" bd-animatable\";\n            returnValue.props.className = className\n            return returnValue;\n        }\n    }});\n};\n\nCore.prototype.patchGuildPills = function() {\n    if (this.guildPillPatch) return;\n    const guildPill = WebpackModules.find(m => m.default && !m.default.displayName && m.default.toString && m.default.toString().includes(\"translate3d\"));\n    if (!guildPill) return;\n    this.guildPillPatch = Utils.monkeyPatch(guildPill, \"default\", {after: (data) => {\n        const props = data.methodArguments[0];\n        if (props.unread) data.returnValue.props.className += \" bd-unread\";\n        if (props.selected) data.returnValue.props.className += \" bd-selected\";\n        if (props.hovered) data.returnValue.props.className += \" bd-hovered\";\n        return data.returnValue;\n    }});\n};\n\nCore.prototype.patchGuildSeparator = function() {\n    if (this.guildSeparatorPatch) return;\n    const Guilds = WebpackModules.findByDisplayName(\"Guilds\");\n    const guildComponents = WebpackModules.findByProps(\"renderListItem\");\n    if (!guildComponents || !Guilds) return;\n    const GuildSeparator = function() {\n        const returnValue = guildComponents.Separator(...arguments);\n        returnValue.props.className += \" bd-guild-separator\";\n        return returnValue;\n    };\n    this.guildSeparatorPatch = Utils.monkeyPatch(Guilds.prototype, \"render\", {after: (data) => {\n        data.returnValue.props.children[1].props.children[3].type = GuildSeparator;\n    }});\n};\n\nCore.prototype.patchAttachment = function() {\n    if (this.AttachmentPatch) return;\n    const Attachment = BDModules.get(e => e.default && e.default.displayName === \"Attachment\")[0] // temporary\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    if (!Anchor || !Attachment || !Attachment.default) return;\n    this.AttachmentPatch = Utils.monkeyPatch(Attachment, \"default\", {after: (data) => {\n        if(!settingsCookie[\"fork-ps-6\"])return\n        const attachment = data.methodArguments[0] || null\n        const children = Utils.getNestedProp(data.returnValue, \"props.children\");\n\n        if (!children || !attachment || !attachment.url)return\n        if (!Array.isArray(children)) return;\n\n        const id = uuidv4()\n        children.push(BDV2.react.createElement(\"span\", {\n            id: \"certified-\"+id\n        }))\n        PluginCertifier.patch(attachment, \"certified-\"+id)\n    }})\n}\n\nCore.prototype.patchMessageHeader = function() {\n    if (this.messageHeaderPatch) return;\n    const MessageHeader = WebpackModules.findByProps(\"MessageTimestamp\");\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    if (!Anchor || !MessageHeader || !MessageHeader.default) return;\n    this.messageHeaderPatch = Utils.monkeyPatch(MessageHeader, \"default\", {after: (data) => {\n        const author = Utils.getNestedProp(data.methodArguments[0], \"message.author\");\n        // const header = Utils.getNestedProp(data.returnValue, \"props.children.1.props\");\n        const children = Utils.getNestedProp(data.returnValue, \"props.children.1.props.children.1.props.children\");\n        if (!children || !author || !author.id)return\n        // if (header && header.className) header.className += \" \"\n        if (!Array.isArray(children)) return;\n        if (author.id === \"249746236008169473\") { // Rauenzi: BandagedBD Developer\n            children.push(\n                BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"BandagedBD Developer\"},\n                    BDV2.React.createElement(Anchor, {className: \"bd-chat-badge\", href: \"https://github.com/rauenzi/BetterDiscordApp\", title: \"BandagedBD\", target: \"_blank\"},\n                        BDV2.React.createElement(BDLogo, {size: \"16px\", className: \"bd-logo\"})\n                    )\n                )\n            );\n        } else if (author.id === \"696481194443014174\" || author.id === \"696003456611385396\"){ // Not Thomiz: Lightcord Developer, Phorcys: Lightcord Developer\n            children.push(\n                BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"Lightcord Developer\"},\n                    BDV2.React.createElement(Anchor, {className: \"bd-chat-badge\", href: \"https://github.com/Lightcord/Lightcord\", title: \"Lightcord\", target: \"_blank\"},\n                        BDV2.React.createElement(LightcordLogo, {size: \"16px\", className: \"bd-logo\"})\n                    )\n                )\n            );\n        }\n        const id = uuidv4()\n        children.push(\n            BDV2.React.createElement(\"div\", {\n                id: \"badges-\"+id,\n                style: {\n                    display: \"inline\"\n                }\n            })\n        )\n        applyBadges(id, author, true)\n    }});\n};\n\nfunction applyBadges(id, user, chat){\n    process.nextTick(() => {\n        const div = document.getElementById(\"badges-\"+id)\n        if(!div || div.childNodes.length > 0)return\n        if(div.childNodes.length)return\n        let blockDiv = document.createElement(\"div\")\n        blockDiv.style.display = \"none\"\n        div.appendChild(blockDiv)\n\n        const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n\n        distant.getBadges(user.id)\n        .then(badges => {\n            badges.forEach(badge => {\n                const props = {\n                    svg: {\n                        size: \"16px\", \n                        className: \"bd-logo\",\n                        width: \"16px\", \n                    }\n                }\n                badge.scopes.forEach(scope => {\n                    if(scope === \"user\"){// require user\n                        props.user = user\n                    }\n                }) \n                if(!badge.href){\n                    props.Anchor = Anchor\n                    props.href = {\n                        className: chat ? \"bd-chat-badge\" : \"bd-member-badge\", \n                        title: badge.name, \n                        target: \"_blank\"\n                    }\n                }\n                const element = BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: badge.name},\n                    badge.href ? BDV2.react.createElement(Anchor, {\n                        href: badge.href,\n                        className: chat ? \"bd-chat-badge\" : \"bd-member-badge\", \n                        title: badge.name, \n                        target: \"_blank\"\n                    }, BDV2.React.createElement(badge.component, props)) : BDV2.React.createElement(badge.component, props)\n                )\n                const div2 = document.createElement(\"div\")\n                BDV2.reactDom.render(element, div2)\n                div2.childNodes.forEach(node => {\n                    div.appendChild(node)\n                })\n            })\n        })\n    })\n}\n\nCore.prototype.patchMemberList = function() {\n    if (this.memberListPatch) return;\n    const MemberListItem = WebpackModules.findByDisplayName(\"MemberListItem\");\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    if (!Anchor || !MemberListItem || !MemberListItem.prototype || !MemberListItem.prototype.renderDecorators) return;\n    this.memberListPatch = Utils.monkeyPatch(MemberListItem.prototype, \"renderDecorators\", {after: (data) => {\n        const user = Utils.getNestedProp(data.thisObject, \"props.user\");\n        const children = Utils.getNestedProp(data.returnValue, \"props.children\");\n        if (!children || !user || !user.id)return\n        // if (header && header.className) header.className += \" \"\n        if (!Array.isArray(children)) return;\n        if (user.id === \"249746236008169473\") {\n            children.push(\n                BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"BandagedBD Developer\"},\n                    BDV2.React.createElement(Anchor, {className: \"bd-member-badge\", href: \"https://github.com/rauenzi/BetterDiscordApp\", title: \"BandagedBD\", target: \"_blank\"},\n                        BDV2.React.createElement(BDLogo, {size: \"16px\", className: \"bd-logo\"})\n                    )\n                )\n            );\n        } else if (user.id === \"696481194443014174\" || user.id === \"696003456611385396\"){\n            children.push(\n                BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"Lightcord Developer\"},\n                    BDV2.React.createElement(Anchor, {className: \"bd-member-badge\", href: \"https://github.com/Lightcord/Lightcord\", title: \"Lightcord\", target: \"_blank\"},\n                        BDV2.React.createElement(LightcordLogo, {size: \"16px\", className: \"bd-logo\"})\n                    )\n                )\n            );\n        }\n        const id = uuidv4()\n        children.push(\n            BDV2.React.createElement(\"div\", {id: \"badges-\"+id})\n        )\n        applyBadges(id, user, false)\n    }});\n};\n\nCore.prototype.updateInjector = async function() {\n    // There will never be an injection path, so we do not need the code below. \n    // Insert comments so it will be erased when production.\n    \n    const injectionPath = DataStore.injectionPath;\n    if (!injectionPath) return false;\n\n    /*\n\n    const fs = require(\"fs\");\n    const path = require(\"path\");\n    const rmrf = require(\"rimraf\");\n    const yauzl = require(\"yauzl\");\n    const mkdirp = require(\"mkdirp\");\n    const request = require(\"request\");\n\n    const parentPath = path.resolve(injectionPath, \"..\");\n    const folderName = path.basename(injectionPath);\n    const zipLink = \"https://github.com/rauenzi/BetterDiscordApp/archive/injector.zip\";\n    const savedZip = path.resolve(parentPath, \"injector.zip\");\n    const extractedFolder = path.resolve(parentPath, \"BetterDiscordApp-injector\");\n\n    // Download the injector zip file\n    Utils.log(\"InjectorUpdate\", \"Downloading \" + zipLink);\n    let success = await new Promise(resolve => {\n        request.get({url: zipLink, encoding: null}, async (error, response, body) => {\n            if (error || response.statusCode !== 200) return resolve(false);\n            // Save a backup in case someone has their own copy\n            const alreadyExists = await new Promise(res => fs.exists(savedZip, res));\n            if (alreadyExists) await new Promise(res => fs.rename(savedZip, `${savedZip}.bak${Math.round(performance.now())}`, res));\n\n            Utils.log(\"InjectorUpdate\", \"Writing \" + savedZip);\n            fs.writeFile(savedZip, body, err => resolve(!err));\n        });\n    });\n    if (!success) return success;\n\n    // Check and delete rename extraction\n    const alreadyExists = await new Promise(res => fs.exists(extractedFolder, res));\n    if (alreadyExists) await new Promise(res => fs.rename(extractedFolder, `${extractedFolder}.bak${Math.round(performance.now())}`, res));\n    \n    // Unzip the downloaded zip file\n    const zipfile = await new Promise(r => yauzl.open(savedZip, {lazyEntries: true}, (err, zip) =>  r(zip)));\n    zipfile.on(\"entry\", function(entry) {\n        // Skip directories, they are handled with mkdirp\n        if (entry.fileName.endsWith(\"/\")) return zipfile.readEntry();\n\n        Utils.log(\"InjectorUpdate\", \"Extracting \" + entry.fileName);\n        // Make any needed parent directories\n        const fullPath = path.resolve(parentPath, entry.fileName);\n        mkdirp.sync(path.dirname(fullPath));\n        zipfile.openReadStream(entry, function(err, readStream) {\n            if (err) return success = false;\n            readStream.on(\"end\", function() {zipfile.readEntry();}); // Go to next file after this\n            readStream.pipe(fs.createWriteStream(fullPath));\n        });\n    });\n    zipfile.readEntry(); // Start reading\n\n    // Wait for the final file to finish\n    await new Promise(resolve => zipfile.once(\"end\", resolve));\n\n    // Save a backup in case something goes wrong during final step\n    const backupFolder = path.resolve(parentPath, `${folderName}.bak${Math.round(performance.now())}`);\n    await new Promise(resolve => fs.rename(injectionPath, backupFolder, resolve));\n\n    // Rename the extracted folder to what it should be\n    Utils.log(\"InjectorUpdate\", `Renaming ${path.basename(extractedFolder)} to ${folderName}`);\n    success = await new Promise(resolve => fs.rename(extractedFolder, injectionPath, err => resolve(!err)));\n    if (!success) {\n        Utils.err(\"InjectorUpdate\", \"Failed to rename the final directory\");\n        return success;\n    }\n\n    // If rename had issues, delete what we tried to rename and restore backup\n    if (!success) {\n        Utils.err(\"InjectorUpdate\", \"Something went wrong... restoring backups.\");\n        await new Promise(resolve => rmrf(extractedFolder, resolve));\n        await new Promise(resolve => fs.rename(backupFolder, injectionPath, resolve));\n        return success;\n    }\n\n    // If we've gotten to this point, everything should have gone smoothly.\n    // Cleanup the backup folder then remove the zip\n    await new Promise(resolve => rmrf(backupFolder, resolve));\n    await new Promise(resolve => fs.unlink(savedZip, resolve));\n\n    Utils.log(\"InjectorUpdate\", \"Injector Updated!\");\n    return success;*/\n};\n\nexport default new Core();\n\n/**\n * Don't expose core - could be dangerous for now\n */","import {pluginCookie, themeCookie, bdplugins, bdthemes, settingsCookie, settings} from \"../0globals\";\nimport mainCore from \"./core\";\nimport Utils from \"./utils\";\nimport BDV2 from \"./v2\";\nimport DataStore from \"./dataStore\";\nimport pluginModule from \"./pluginModule\";\nimport themeModule from \"./themeModule\";\nimport settingsPanel from \"./settingsPanel\";\nimport DOM from \"./domtools\";\n\nconst BdApi = {\n    get React() { return BDV2.React; },\n    get ReactDOM() { return BDV2.ReactDom; },\n    get ReactComponent() {return BDV2.ReactComponent;},\n    get WindowConfigFile() {return Utils.WindowConfigFile;},\n    get settings() {return settings;},\n    get emotes() {return null}, // deprecated, deleted all emotes from betterdiscord.\n    get screenWidth() { return Math.max(document.documentElement.clientWidth, window.innerWidth || 0); },\n    get screenHeight() { return Math.max(document.documentElement.clientHeight, window.innerHeight || 0); }\n};\n\nBdApi.getAllWindowPreferences = function() {\n    return Utils.getAllWindowPreferences();\n};\n\nBdApi.getWindowPreference = function(key) {\n    return Utils.getWindowPreference(key);\n};\n\nBdApi.setWindowPreference = function(key, value) {\n    return Utils.setWindowPreference(key, value);\n};\n\n//Inject CSS to document head\n//id = id of element\n//css = custom css\nBdApi.injectCSS = function (id, css) {\n    DOM.addStyle(DOM.escapeID(id), css);\n};\n\n//Clear css/remove any element\n//id = id of element\nBdApi.clearCSS = function (id) {\n    DOM.removeStyle(DOM.escapeID(id));\n};\n\n//Inject CSS to document head\n//id = id of element\n//css = custom css\nBdApi.linkJS = function (id, url) {\n    DOM.addScript(DOM.escapeID(id), url);\n};\n\n//Clear css/remove any element\n//id = id of element\nBdApi.unlinkJS = function (id) {\n    DOM.removeScript(DOM.escapeID(id));\n};\n\n//Get another plugin\n//name = name of plugin\nBdApi.getPlugin = function (name) {\n    if (bdplugins.hasOwnProperty(name)) {\n        return bdplugins[name].plugin;\n    }\n    return null;\n};\n\n//Get BetterDiscord Core\nBdApi.getCore = function () {\n    Utils.warn(\"Deprecation Notice\", `BdApi.getCore() will be removed in future versions.`);\n    return mainCore;\n};\n\n/**\n * Shows a generic but very customizable modal.\n * @param {string} title - title of the modal\n * @param {string} content - a string of text to display in the modal\n */\nBdApi.alert = function (title, content) {\n    return Utils.showConfirmationModal(title, content, {cancelText: null});\n};\n\n/**\n * Shows a generic but very customizable confirmation modal with optional confirm and cancel callbacks.\n * @param {string} title - title of the modal\n * @param {(string|ReactElement|Array<string|ReactElement>)} children - a single or mixed array of react elements and strings. Every string is wrapped in Discord's `Markdown` component so strings will show and render properly.\n * @param {object} [options] - options to modify the modal\n * @param {boolean} [options.danger=false] - whether the main button should be red or not\n * @param {string} [options.confirmText=Okay] - text for the confirmation/submit button\n * @param {string} [options.cancelText=Cancel] - text for the cancel button\n * @param {callable} [options.onConfirm=NOOP] - callback to occur when clicking the submit button\n * @param {callable} [options.onCancel=NOOP] - callback to occur when clicking the cancel button\n * @param {string} [options.key] - key used to identify the modal. If not provided, one is generated and returned\n * @returns {string} - the key used for this modal\n */\nBdApi.showConfirmationModal = function (title, content, options = {}) {\n    return Utils.showConfirmationModal(title, content, options);\n};\n\n//Show toast alert\nBdApi.showToast = function(content, options = {}) {\n    Utils.showToast(content, options);\n};\n\n// Finds module\nBdApi.findModule = function(filter) {\n    return BDV2.WebpackModules.find(filter);\n};\n\n// Finds module\nBdApi.findAllModules = function(filter) {\n    return BDV2.WebpackModules.findAll(filter);\n};\n\n// Finds module\nBdApi.findModuleByProps = function(...props) {\n    return BDV2.WebpackModules.findByUniqueProperties(props);\n};\n\nBdApi.findModuleByPrototypes = function(...protos) {\n    return BDV2.WebpackModules.findByPrototypes(protos);\n};\n\nBdApi.findModuleByDisplayName = function(name) {\n    return BDV2.WebpackModules.findByDisplayName(name);\n};\n\n// Gets react instance\nBdApi.getInternalInstance = function(node) {\n    if (!(node instanceof window.jQuery) && !(node instanceof Element)) return undefined;\n    if (node instanceof jQuery) node = node[0];\n    return BDV2.getInternalInstance(node);\n};\n\n// Gets data\nBdApi.loadData = function(pluginName, key) {\n    return DataStore.getPluginData(pluginName, key);\n};\n\nBdApi.getData = BdApi.loadData;\n\n// Sets data\nBdApi.saveData = function(pluginName, key, data) {\n    return DataStore.setPluginData(pluginName, key, data);\n};\n\nBdApi.setData = BdApi.saveData;\n\n// Deletes data\nBdApi.deleteData = function(pluginName, key) {\n    return DataStore.deletePluginData(pluginName, key);\n};\n\n// Patches other functions\nBdApi.monkeyPatch = function(what, methodName, options) {\n    return Utils.monkeyPatch(what, methodName, options);\n};\n\n// Event when element is removed\nBdApi.onRemoved = function(node, callback) {\n    return Utils.onRemoved(node, callback);\n};\n\n// Wraps function in try..catch\nBdApi.suppressErrors = function(method, message) {\n    return Utils.suppressErrors(method, message);\n};\n\n// Tests for valid JSON\nBdApi.testJSON = function(data) {\n    return Utils.testJSON(data);\n};\n\nBdApi.isPluginEnabled = function(name) {\n    return !!pluginCookie[name];\n};\n\nBdApi.isThemeEnabled = function(name) {\n    return !!themeCookie[name];\n};\n\nBdApi.isSettingEnabled = function(id) {\n    return !!settingsCookie[id];\n};\n\nBdApi.enableSetting = function(id) {\n    return settingsPanel.onChange(id, true);\n};\n\nBdApi.disableSetting = function(id) {\n    return settingsPanel.onChange(id, false);\n};\n\nBdApi.toggleSetting = function(id) {\n    return settingsPanel.onChange(id, !settingsCookie[id]);\n};\n\n// Gets data\nBdApi.getBDData = function(key) {\n    return DataStore.getBDData(key);\n};\n\n// Sets data\nBdApi.setBDData = function(key, data) {\n    return DataStore.setBDData(key, data);\n};\n\n\n\nconst makeAddonAPI = (cookie, list, manager) => new class AddonAPI {\n\n    get folder() {return manager.folder;}\n\n    isEnabled(name) {\n        return !!cookie[name];\n    }\n\n    enable(name) {\n        return manager.enable(name);\n    }\n\n    disable(name) {\n        return manager.disable(name);\n    }\n\n    toggle(name) {\n        if (cookie[name]) this.disable(name);\n        else this.enable(name);\n    }\n\n    reload(name) {\n        return manager.reload(name);\n    }\n\n    get(name) {\n        if (list.hasOwnProperty(name)) {\n            if (list[name].plugin) return list[name].plugin;\n            return list[name];\n        }\n        return null;\n    }\n\n    getAll() {\n        return Object.keys(list).map(k => this.get(k)).filter(a => a);\n    }\n};\n\nBdApi.Plugins = makeAddonAPI(pluginCookie, bdplugins, pluginModule);\nBdApi.Themes = makeAddonAPI(themeCookie, bdthemes, themeModule);\n\nexport default BdApi;\n\nwindow.Lightcord.BetterDiscord.BdApi = BdApi","export default function() {\n    const contentWindowGetter = Object.getOwnPropertyDescriptor(HTMLIFrameElement.prototype, \"contentWindow\").get;\n    Object.defineProperty(HTMLIFrameElement.prototype, \"contentWindow\", {\n        get: function () {\n            const contentWindow = Reflect.apply(contentWindowGetter, this, arguments);\n            return new Proxy(contentWindow, {\n                getOwnPropertyDescriptor: function(obj, prop) {\n                    if (prop === \"localStorage\") return undefined;\n                    return Object.getOwnPropertyDescriptor(obj, prop);\n                },\n                get: function(obj, prop) {\n                    if (prop === \"localStorage\") return null;\n                    const val = obj[prop];\n                    if (typeof val === \"function\") return val.bind(obj);\n                    return val;\n                }\n            });\n        }\n    });\n\n    // Prevent interception by patching Reflect.apply and Function.prototype.bind\n    Object.defineProperty(Reflect, \"apply\", {value: Reflect.apply, writable: false, configurable: false});\n    Object.defineProperty(Function.prototype, \"bind\", {value: Function.prototype.bind, writable: false, configurable: false});\n\n    const oOpen = XMLHttpRequest.prototype.open;\n    XMLHttpRequest.prototype.open = function() {\n        const url = arguments[1];\n        if (url.toLowerCase().includes(\"api/webhooks\")) return null;\n        return Reflect.apply(oOpen, this, arguments);\n    };\n}","import localStorageFix from \"./localStorageFix\";\nimport loadingIcon from \"./loadingIcon\";\nlocalStorageFix();\nloadingIcon();\n\nconst deprecateGlobal = (key, value) => {\n    Object.defineProperty(window, key, {\n        get() {\n            Utils.warn(\"Deprecated Global\", `\"${key}\" will be removed in future versions. Please only use BdApi.`);\n            return value;\n        }\n    });  \n};\n\n\nimport * as Globals from \"./0globals\";\n\nconst globalKeys = Object.keys(Globals);\nfor (const key of globalKeys) deprecateGlobal(key, Globals[key]);\n\n\nimport BdApi from \"./modules/bdApi\";\nimport BDV2 from \"./modules/v2\";\nimport pluginModule from \"./modules/pluginModule\";\nimport themeModule from \"./modules/themeModule\";\nimport Utils from \"./modules/utils\";\nimport BDEvents from \"./modules/bdEvents\";\nimport settingsPanel from \"./modules/settingsPanel\";\nimport DataStore from \"./modules/dataStore\";\nimport ContentManager from \"./modules/contentManager\";\nimport ClassNormalizer from \"./modules/classNormalizer\";\n\ndeprecateGlobal(\"BDV2\", BDV2);\ndeprecateGlobal(\"pluginModule\", pluginModule);\ndeprecateGlobal(\"themeModule\", themeModule);\ndeprecateGlobal(\"Utils\", Utils);\ndeprecateGlobal(\"BDEvents\", BDEvents);\ndeprecateGlobal(\"settingsPanel\", settingsPanel);\ndeprecateGlobal(\"DataStore\", DataStore);\ndeprecateGlobal(\"ContentManager\", ContentManager);\ndeprecateGlobal(\"ClassNormalizer\", ClassNormalizer);\n\nwindow.BdApi = BdApi;\n\nimport Core from \"./modules/core\";\ndeprecateGlobal(\"mainCore\", Core);\n\n// TODO: Change Init mode and stop using CoreWrapper.\nexport default class CoreWrapper {\n    constructor(bdConfig, methods) {\n        Core.setConfig(bdConfig);\n        Core.setMethods(methods);\n    }\n\n    init() {\n        // deprecateGlobal(\"mainCore\", this.mainCore);\n        Core.init();\n    }\n}","export default () => {\n    const v2Loader = document.createElement(\"div\");\n    v2Loader.className = \"bd-loaderv2\";\n    v2Loader.title = \"BandagedBD is loading...\";\n    document.body.appendChild(v2Loader);\n};"],"sourceRoot":""}