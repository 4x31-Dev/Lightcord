{"version":3,"sources":["webpack://BetterDiscord/webpack/bootstrap","webpack://BetterDiscord/external \"electron\"","webpack://BetterDiscord/external \"path\"","webpack://BetterDiscord/external \"fs\"","webpack://BetterDiscord/external \"crypto\"","webpack://BetterDiscord/external \"node-fetch\"","webpack://BetterDiscord/external \"events\"","webpack://BetterDiscord/external \"module\"","webpack://BetterDiscord/./src/0globals.js","webpack://BetterDiscord/./src/modules/webpackModules.js","webpack://BetterDiscord/./src/modules/dataStore.js","webpack://BetterDiscord/./src/modules/bdEvents.js","webpack://BetterDiscord/./src/modules/pluginModule.js","webpack://BetterDiscord/./src/ui/tooltip.js","webpack://BetterDiscord/./src/ui/tooltipWrap.js","webpack://BetterDiscord/./src/modules/pluginCertifier.js","webpack://BetterDiscord/./src/modules/contentManager.js","webpack://BetterDiscord/./src/modules/domtools.js","webpack://BetterDiscord/./src/modules/themeModule.js","webpack://BetterDiscord/./src/modules/v2.js","webpack://BetterDiscord/./src/modules/utils.js","webpack://BetterDiscord/./src/modules/settingsPanelSidebar.js","webpack://BetterDiscord/./src/modules/coloredText.js","webpack://BetterDiscord/./src/modules/24hour.js","webpack://BetterDiscord/./src/ui/settingsTitle.js","webpack://BetterDiscord/./src/ui/tabBarSeparator.js","webpack://BetterDiscord/./src/ui/publicservers/serverCard.js","webpack://BetterDiscord/./src/modules/hooks.js","webpack://BetterDiscord/./src/ui/publicservers/publicServers.js","webpack://BetterDiscord/./src/svg/bug_hunter.jsx","webpack://BetterDiscord/./src/svg/circus.jsx","webpack://BetterDiscord/./src/modules/distant.js","webpack://BetterDiscord/./src/modules/Layers.jsx","webpack://BetterDiscord/./src/modules/publicServers.js","webpack://BetterDiscord/./src/modules/voiceMode.js","webpack://BetterDiscord/./src/modules/classNormalizer.js","webpack://BetterDiscord/./src/modules/devMode.js","webpack://BetterDiscord/./src/ui/components/switch.jsx","webpack://BetterDiscord/./src/ui/switch.js","webpack://BetterDiscord/./src/ui/margintop.jsx","webpack://BetterDiscord/./src/ui/settingsGroup.jsx","webpack://BetterDiscord/./src/ui/sectionedSettingsPanel.js","webpack://BetterDiscord/./src/ui/checkbox.js","webpack://BetterDiscord/./src/ui/cssEditorDetached.js","webpack://BetterDiscord/./src/ui/cssEditor.js","webpack://BetterDiscord/./src/ui/errorBoundary.js","webpack://BetterDiscord/./src/ui/contentColumn.js","webpack://BetterDiscord/./src/ui/reloadIcon.js","webpack://BetterDiscord/./src/ui/xSvg.js","webpack://BetterDiscord/./src/ui/icons/edit.jsx","webpack://BetterDiscord/./src/ui/icons/delete.jsx","webpack://BetterDiscord/./src/ui/addoncard.jsx","webpack://BetterDiscord/./src/ui/icons/downarrow.jsx","webpack://BetterDiscord/./src/ui/components/dropdown.jsx","webpack://BetterDiscord/./src/ui/icons/search.jsx","webpack://BetterDiscord/./src/ui/components/search.jsx","webpack://BetterDiscord/./src/ui/addonlist.jsx","webpack://BetterDiscord/./src/modules/CustomRichPresence.js","webpack://BetterDiscord/./src/ui/presenceSettings.jsx","webpack://BetterDiscord/./src/ui/AccountInfos.jsx","webpack://BetterDiscord/./src/modules/AntiAdDM.js","webpack://BetterDiscord/./src/modules/blurPrivate.js","webpack://BetterDiscord/./src/modules/disableTyping.js","webpack://BetterDiscord/./src/ui/ApiPreview.jsx","webpack://BetterDiscord/./src/ui/icons/history.jsx","webpack://BetterDiscord/./src/modules/popoutWindow.js","webpack://BetterDiscord/./src/ui/components/textinput.jsx","webpack://BetterDiscord/./src/ui/TextInputSetting.jsx","webpack://BetterDiscord/./src/modules/settingsPanel.js","webpack://BetterDiscord/./src/ui/bdLogo.js","webpack://BetterDiscord/./src/svg/Lightcord.jsx","webpack://BetterDiscord/./src/modules/emojiModule.js","webpack://BetterDiscord/./src/modules/core.js","webpack://BetterDiscord/./src/modules/bdApi.js","webpack://BetterDiscord/./src/localStorageFix.js","webpack://BetterDiscord/./src/index.js","webpack://BetterDiscord/./src/loadingIcon.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","minimumDiscordVersion","currentDiscordVersion","window","DiscordNative","remoteApp","getVersion","minSupportedVersion","bbdVersion","bbdChangelog","description","changes","title","type","items","settings","id","info","implemented","hidden","cat","category","experimental","process","platform","default","defaultCookie","settingsCookie","settingsRPC","defaultRPC","Date","now","lightcordSettings","defaultLightcordSettings","bdpluginErrors","bdthemeErrors","bdConfig","BetterDiscordConfig","bdthemes","bdplugins","pluginCookie","themeCookie","req","webpackJsonp","push","__extra_id__","find","filter","mod","findAll","findByProps","propNames","every","prop","undefined","findByPrototypes","protoNames","protoProp","findByDisplayName","displayName","Lightcord","BetterDiscord","WebpackModules","fs","path","releaseChannel","globals","app","getReleaseChannel","dataPath","env","APPDATA","join","HOME","XDG_CONFIG_HOME","constructor","this","data","stable","canary","ptb","pluginData","DataStore","initialize","existsSync","BDFile","writeFileSync","JSON","stringify","parse","readFileSync","settingsFile","__non_webpack_require__","unlinkSync","assign","setBDData","err","console","error","Utils","alert","_injectionPath","_configFile","resolve","injectionPath","_BDFile","_settingsFile","getPluginFile","pluginName","ContentManager","pluginsFolder","getSettingGroup","setSettingGroup","getBDData","getPluginData","setPluginData","deletePluginData","EventEmitter","super","BDEvents","dispatch","eventName","args","emit","off","eventAction","removeListener","PluginModule","loadPlugins","async","loadPluginData","splice","plugins","keys","length","plugin","getName","load","file","filename","message","stack","start","showToast","Promise","setTimeout","savePluginData","remote","getCurrentWebContents","on","channelSwitch","startPlugin","reload","stopPlugin","stop","enablePlugin","enable","disablePlugin","disable","togglePlugin","toggle","loadPlugin","loadContent","showContentErrors","values","log","unloadPlugin","filenameOrName","bdplugin","unloadContent","delete","fullPath","reloadPlugin","enabled","reloadContent","edit","shell","openExternal","updatePluginList","results","loadNewContent","added","removed","saved","newMessage","onMessage","onSwitch","rawObserver","e","observer","TooltipClasses","TooltipLayers","getTooltipClasses","getTooltipLayers","getClass","sideOrColor","upperCase","toUpperCase","slice","tooltipClass","classExists","toPx","EmulatedTooltip","node","text","options","style","side","preventFlip","disabled","attachEvents","jQuery","label","toLowerCase","element","document","createElement","className","layer","disabledPointerEvents","tooltipElement","tooltip","labelElement","tooltipContent","pointerElement","tooltipPointer","append","addEventListener","show","MutationObserver","mutations","forEach","mutation","nodes","Array","from","removedNodes","directMatch","indexOf","parentMatch","some","parent","contains","hide","disconnect","observe","body","subtree","childList","querySelector","removeDa","BDModules","popouts","layerContainer","getBoundingClientRect","top","offsetHeight","screenHeight","left","offsetWidth","screenWidth","remove","_className","textContent","container","canShowAbove","showAbove","showBelow","canShowBelow","canShowLeft","showLeft","showRight","canShowRight","classList","add","setProperty","centerHorizontally","centerVertically","nodecenter","React","Component","props","BDV2","reactDom","findDOMNode","Tooltip","componentWillUnmount","render","children","cache","cache2","PluginCertifier","patch","attachment","nextTick","getElementById","url","startsWith","endsWith","nodeFetch","headers","electron","sendSync","then","res","status","Error","hash","crypto","Buffer","alloc","chunk","concat","update","hashResult","digest","hashToUrl","checkHash","result","div","childNodes","flowerStarModule","flowerStarContainer","childModule","childContainer","suspect","parentNode","borderColor","nextNode","child","tagName","preventDefault","stopImmediatePropagation","showConfirmationModal","harm","confirmText","cancelText","danger","onCancel","onConfirm","href","includes","react","tooltipWrap","width","height","svg","viewBox","x","y","mask","fill","pointerEvents","official","span","display","float","flowerStar","stroke","color","onClick","link","getKeyedArray","content","buffer","installPath","contentManager","_pluginsFolder","_themesFolder","catch","cursor","fill-rule","class","renderToElements","elem","processAttachment","isTrusted","tests","threats","checkViruses","resultCallback","removeCallback","isHarmful","no_comments","toString","replace","trim","test","removeComment","scrpt","exec","split","pop","json","processFile","__path","isFromLoader","createReadStream","addonCache","timestamp","saveAddonCache","basename","obj","arr","k","save","generateKey","encryptSettingsCache","cipher","encrypted","final","Api","ensureExported","ObjectStorage","localStorageModule","localStorage","impl","set","btoa","setInterval","val","safeJSONParse","atob","isArray","Module","globalPaths","MetaError","originalJSRequire","_extensions","originalCSSRequire","splitRegex","escapedAtRegex","hasPatched","timeCache","watchers","patchExtensions","getContentRequire","realpathSync","loadAddonCertifierCache","dataStore","decipher","decrypted","decryptSettingsCache","resetAddonCache","watchContent","contentType","isPlugin","baseFolder","themesFolder","fileEnding","watch","persistent","eventType","statSync","code","pluginModule","themeModule","unloadTheme","isFile","stats","mtime","getTime","loadTheme","reloadTheme","unwatchContent","close","extractMeta","firstLine","parseOldMeta","parseNewMeta","meta","rawMeta","substring","lastIndexOf","parsed","testJSON","format","block","out","field","accum","line","charAt","substr","self","originalRequire","possiblePath","Reflect","apply","arguments","stripBOM","atimeMs","modified","mtimeMs","size","css","_compile","isEmpty","warn","makePlaceholderPlugin","getAuthor","getDescription","source","website","escapeID","isLoaded","cantUnload","basedir","files","readdirSync","contentList","map","f","errors","loadAllContent","loadThemes","DOMTools","head","script","src","onload","timing","_","duration","performance","requestAnimationFrame","animate","time","timeFraction","progress","selector","parseHTML","NodeList","nodeType","query","baseElement","querySelectorAll","html","fragment","template","innerHTML","cloneNode","textNode","createTextNode","spanElement","nodeValue","classes","flat","classname","indicator","oldName","newName","thisNode","thatNode","prepend","targetNode","insertBefore","nextSibling","newNode","nextElementSibling","next","matches","previous","previousElementSibling","num","indexInParent","parentElement","parents","closest","attribute","global","getComputedStyle","parseInt","clientWidth","clientHeight","_listeners","event","delegate","callback","namespace","hasDelegate","eventFunc","target","cancel","removeEventListener","listeners","newCancel","findIndex","matchFilter","listener","defaultFilter","list","__offAll","onMount","wrappedCallback","unsubscribe","subscribe","addedNodes","onMountChange","onUnmount","elements","domWrapper","appendChild","Element","DOM","ThemeModule","loadThemeData","themes","theme","addStyle","unescape","saveThemeData","enableTheme","bdEvents","version","disableTheme","removeStyle","toggleTheme","bdtheme","updateThemeList","editorDetached","protect","theModule","isDefault","clear","sort","getToken","getEmail","showToken","proxy","Proxy","getOwnPropertyDescriptor","func","__proto__","findByUniqueProperties","internal","getInternalInstance","V2","joinBD1","InviteActions","acceptInviteAndTransitionToInviteChannel","leaveBD1","GuildActions","leaveGuild","joinBD2","leaveBD2","joinLC","leaveLC","anchor","anchorUnderlineOnHover","guildsWrapper","wrapper","unreadMentionsBar","guilds","guildsError","selected","pill","blobContainer","defaultProps","search","submit","activateRagingDemon","dismiss","openDM","userId","selfId","UserStore","getCurrentUser","privateChannelId","ChannelStore","getDMFromUserId","PrivateChannelActions","selectPrivateChannel","ChannelActions","openPrivateChannel","parseSettings","reduce","setting","Math","max","documentElement","innerWidth","innerHeight","_windowConfigFile","transparent","frame","charCodeAt","channelTextArea","titleWrapper","textarea","focus","selectionStart","selectionEnd","execCommand","moduleName","groupCollapsed","groupEnd","string","replacement","RegExp","method","params","what","methodName","before","after","instead","once","silent","force","origMethod","canceled","thisObject","methodArguments","cancelPatch","originalMethod","callOriginalMethod","returnValue","tempRet","suppressErrors","__monkeyPatched","__originalMethod","sidebar","hasNotice","form","bottom","toastWrapper","icon","timeout","toastElem","innerText","modalModule","modal","inner","hideOnFullscreen","headerModule","header","responsiveWidthMobile","footer2Module","focusLock","backdrop","backdropWithLayer","footer","addClass","closingListeners","onClose","pluginErrors","themeErrors","generateTab","el","tabs","removeClass","scroller","index","click","ModalStack","ChangelogClasses","TextElement","FlexChild","Titles","Changelog","selectable","MarkdownParser","image","subtitle","ce","changelogItems","entry","margin","marginTop","renderHeader","Child","grow","shrink","tag","Tags","H4","Sizes","SMALL","Colors","STANDARD","date","renderFooter","Anchor","AnchorClasses","joinSupportServer","stopPropagation","supportLink","defaultFooter","onScroll","ModalActions","Markdown","ConfirmationModal","emptyFunction","openModal","red","modalKey","V2_SettingsPanel_Sidebar","panels","register","panel","component","getComponent","Settings","devMode","section","LCitems","LCDevItems","injectColoredText","cancelColoredText","MessageComponent","monkeyPatch","childrenMessageContent","messageContent","originalType","roleColor","colorString","removeColoredText","classNameMarkup","markup","inject24Hour","cancel24Hour","twelveHour","convert","matched","match","padStart","cancelCozy","TimeFormatter","cancelCompact","remove24Hour","V2C_SettingsTitle","reactComponent","V2C_TabBarSeparator","V2C_ServerCard","server","iconUrl","fallback","state","imageError","joined","guildList","identifier","cardModule","card","cardPrimary","flexModule","flexChild","_horizontalReverse","wrapModule","noWrap","streamerModeEnabled","marginBottom8","pinned","ref","onError","handleError","draggable","horizontal","members","flex","categories","minHeight","backgroundColor","setState","useState","useForceUpdate","setValue","SettingsView","V2C_PublicServers","setInitialState","changeCategory","searchKeyDown","checkConnection","connect","GuildStore","AvatarDefaults","SortedGuildStore","hooks","componentDidMount","selectedCategory","loading","servers","connection","user","categorySlugs","fetch","searchEndPoint","end","term","categoryButtons","total","serverCard","acceptInvite","invite_code","joinEndPoint","credentials","windowOptions","round","screenX","screenY","win","joinWindow","webContents","loadURL","setMenuBarVisibility","resizable","maximizable","minimizable","alwaysOnTop","center","webPreferences","nodeIntegration","getFlattenedGuildIds","defaultList","DEFAULT_AVATARS","ServerCard","online","nativejoin","floor","random","response","onSetSection","sections","searchInput","getThis","marginLeft","serchinput","refs","searchinput","onKeyDown","onChange","placeholder","maxLength","which","notConnected","columnModule","contentColumnDefault","contentColumn","SettingsTitle","bdServer","marginBottom","lineHeight","forceUpdate","useEffect","TabBarSeparator","fontSize","username","discriminator","padding","BugHunterBadge","Circus","xmlns","cx","cy","uuidv4","awaitingBadgesPromises","badgesToFetch","_cache","badges","DistantServer","newPromise","badge","Constants","defaultUsers","fetchedBadges","users","handleRequest","Routes","responseBody","promise","user_id","LightcordError","route","SERVER_URL","Authorization","reject","scopes","layers","Layers","inject","isInjected","classNameLayers","v2","ReactInstance","FindReact","createLayer","getLayer","lay","LayerModules","Layer","animation","Value","keydown","ev","componentWillEnter","toValue","componentWillLeave","interpolation","interpolate","inputRange","outputRange","opacity","transform","scale","Div","__SECRET_EMOTION__","position","right","overflow","WebkitBoxOrient","WebkitBoxDirection","msFlexDirection","flexDirection","zIndex","paddingTop","_appendButton","V2_PublicServers","rootId","btn","guildClasses","listItem","circleButtonMask","classNametutorialContainer","downloadProgress","tutorialContainer","button","addButton","guildPatch","GuildList","webpackModules","GuildListOld","removeButton","randClass","ClassNormalizer","unpatchClassModules","moduleFilter","revertElement","patchClassModules","normalizeElement","patchDOMMethods","patchClassModule","unpatchClassModule","shouldIgnore","isNaN","baseClassName","componentName","classNames","normalClass","camelCase","newString","clen","newClass","toRemove","DOMTokenList","token","tokens","debugListener","copySelectorListener","startDebugListener","startCopySelector","stopDebugListener","stopCopySelector","getSelector","classLayer","classItems","menu","cm","cmWrap","styleFlexible","accommodateScrollbar","clientY","clientX","setAttribute","scrollerClasses","scrollerWrap","scrollerThemed","themeGhostHairline","removeCM","keyCode","cmg","cmi","item","labelContainer","colorDefault","NativeModule","copy","queryAll","focused","separator","scrollHeight","names","unshift","ownerDocument","entries","Switch","checked","Components","inputs","classnames","getClassName","SwitchItem","beta","userSettingsVoice","formModule","switchItem","betaClassNames","marginModule","marginTop60","MarginTop","V2C_SettingsGroup","renderOldSettings","buttonComponent","componentDidCatch","errInfo","FormSection","FormText","hideBorder","note","tooltipNote","setImmediate","V2C_SectionedSettingsPanel","SettingsGroup","V2C_Checkbox","checkboxElement","checkbox","checkboxInner","V2C_CssEditorDetached","updateCss","saveCss","editor","ace","setTheme","session","setMode","setShowPrintMargin","setFontSize","destroy","updateLineCount","lineCount","lines","lineNumbers","indentUnit","scrollbarStyle","_ccss","ccss","_root","injectRoot","detachedRoot","insertAfter","Checkbox","borderRadius","borderRight","borderLeft","saveSettings","attach","unmountComponentAtNode","root","getValue","V2C_CssEditor","detachedEditor","detach","detached","componentDidUpdate","prevProps","prevState","codeMirror","arg","droot","injectDetachedRoot","BDErrorBoundary","hasError","originalRender","configurable","V2C_ContentColumn","V2C_ReloadIcon","V2C_XSvg","fillRule","Edit","Delete","anchorClasses","V2C_PluginCard","showSettings","hasSettings","addon","getSettingsPanel","settingsPanel","reloads","trusted","closeSettings","panelRef","current","settingsOpen","settingspanel","cardNode","cTop","scrollTop","cBottom","eTop","offsetTop","eBottom","isHidden","thisNodeOffset","offset","containerOffset","original","endPoint","getString","XSvg","dangerouslySetInnerHTML","__html","buildTitle","author","nameIndex","versionIndex","authorIndex","LayerStack","popLayer","makeLink","makeButton","action","unmounted","links","invite","tester","donate","patreon","settingsComponent","authorId","authorLink","isScanning","DownArrow","Select","open","dropdown","createRef","showMenu","hideMenu","opt","isOpen","Search","onFocus","onBlur","CardList","ascending","isPlugins","cookie","manager","reverse","onAddonChanges","openFolder","openPath","openItem","confirmDelete","BdApi","toLocaleLowerCase","getProps","getAddons","sortedAddons","a","b","cap","first","second","localeCompare","rendered","renderCheckUpdates","ZeresPluginLibrary","PluginUpdates","checkAll","tooltipIsShowing","onMouseLeave","Button","look","hoverColor","onRightClick","checkUpdateButton","refreshIcon","addonCards","sortOptions","directions","dispatcher","Dispatcher","ActionTypes","pid","game","application_id","details","timestamps","assets","large_image","small_image","sendGame","LOCAL_ACTIVITY_UPDATE","socketId","activity","formatedGame","applicationId","getAssets","V2C_PresenceSettingsModules","V2C_PresenceSettings","preview","isfetching","fetchAssets","assetComponents","Set","updateWhenFetched","comp","defaultSetting","RPCProps","CustomRichPresence","asset","updatePreview","marginBottom20","optionsComponents","RpcPreview","ohgodohfuck","_optionsComponents","InputText","InputNumber","InputChoice","choices","inputTextModules","InputNumberModules","InputChoiceModules","PureComponent","removeKeybind","defaultMarginh5","colorStandard","size32","_horizontal","inputMini","size16","size20","input","TextInput","lastEdited","isTiming","rowModule","marginModule2","colorModule","sizeModule","inputModule","sizeModule2","row","size14","h5","Divider","colorTransparent","clipboard","Dropdown","emptyClasses","popoutModules","UserPopoutComponent","PopoutProps","profileModules","UserProfileComponent","ProfileProps","connectedProfileStore","DividerModules","divider","dividerDefault","active","changeTab","tab","setActive","Tab","rpc","isActive","Profile","Popout","PresenceErrorCatcher","emptyStateImage","emptyState","emptyStateHeader","emptyStateSubtext","role","tabindex","UserPopout","userModule","render1","guildId","channelId","disableUserProfileLink","_UserPopout","popout","excludeProperties","UserProfile","render2","render3","render4","profile","scrollbarModule1","scrollbarGhostHairline","GuildModule","getGuilds","relationShipModule","getRelationships","sessionModule","getSessions","V2C_AccountInfos","CodeContent","getProfileValue","language","getStatistics","getSessionValue","sessionsRaw","sessions","sessionId","clientInfo","os","client","activities","repeat","createdAt","avatarURL","avatar","getAvatarURL","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","flags","hasPremiumSubscription","email","mfaEnabled","mobile","phone","verified","nsfwAllowed","relations","friends","isFriend","blocked","isBlocked","hightlightJS","highlight","messageModule1","messageModule2","listLanguages","DiscordModules","ChannelModule","getChannel","hasChannel","addRelationship","DMModule","closePrivateChannel","antiDM","bot","guild_id","channel","channel_id","EmbedsContains","location","embeds","embed","fields","selectors","standardSidebarView","defaultClassName","selects","userSettingsAccount","paymentSourceRow","subText","descriptionWrapper","viewBody","userSettingsSecurity","getSelectors","startTyping","typingModule","stopTyping","DisableTyping","ApiPreview","states","allComponents","general","AlertBox","compName","compPath","ComponentPreview","AllPreviews","getStrForProp","lang","String","$$typeof","for","generateCode","openTag","propStrings","childrenProp","str","propObject","isLast","childrenData","help","success","SettingSubTitle","searchable","Tabs","ErrorCatcher","CodeBlock","History","windows","Map","init","popoutModule","getWindow","applyThemes","removeThemes","themeName","existing","removeAttribute","emitChange","TextInputSetting","BDSidebarHeader","sidebarComponents","Separator","Header","Item","changelogButton","showChangelogModal","isClearingCache","updateSettings","registerComponents","makeComponent","lightcordComponent","PresenceComponent","AccountInfosComponent","ApiPreviewComponent","coreComponent","customCssComponent","renderAddonPane","getSettings","publicServersModule","voiceMode","tfHour","coloredText","setWindowPreference","dMode","callRingingBeat","settingsStore","showCurrentGame","updateRemoteSettings","ipcRenderer","AntiAdDM","blurPrivate","disableTyping","appSettings","relaunch","popoutWindow","core","methods","NotificationsUseShim","loadSettings","renderSidebar","SectionedSettingsPanel","coreSettings","isChecked","ipc","send","actual","clearable","invoke","argv","clearCache","PresenceSettings","CssEditor","ContentList","prefix","SettingComponent","BDLogo","clipRule","strokeLinecap","strokeLinejoin","LightcordLogo","x1","y1","x2","y2","gradientTransform","gradientUnits","stopColor","EmojiRegex","CustomEmojiModule","CustomEmoji","EmojiModuleApi","getCustomEmojiById","AutocompleteModule","AutoCompletionTemplates","getAutocompleteOptions","EmojiModuleQuery","queryEmojiResults","Messages","EMOJI_MATCHING","guildModule","getGuild","isFetching","emojiSearch","getDisambiguatedEmojiContext","LIGHTCORD_EMOJIS","arg1","arg2","condition","setEmojiUsable","queryResults","renderResults","D","emojis","EMOJI","Emoji","emoji","uniqueName","sentinel","guild","getPlainText","isAnimated","animated","managed","originalName","getRawText","cancelEmojiRender","cancelEmoteRender","getNestedProp","newContent","hasParsed","raw","words","word","emojiId","jumboable","shift","u","onHover","R","Title","classNameLayer","classNameSocialLinks","classNameModal","EmojiFilterModule","isEmojiDisabled","isUsable","usable","surrogates","diversity","Core","setConfig","config","hasStarted","setMethods","ED","WebSocket","patchAttributes","initSettings","checkForGuilds","initializeSettings","getElementsByClassName","initObserver","previousVersion","EmojiModule","patchSocial","patchGuildPills","patchGuildListItems","patchGuildSeparator","patchMessageHeader","patchMemberList","patchAttachment","haveInstalledDefault","logo","attribsPatchs","cancelPatchAttributes","DiscordTag","DiscordTagComp","badgeDiv","TooltipWrap","applyBadges","timesChecked","blob","deferLoaded","readyState","injectExternals","getPredicateSections","settingModule","poped","mlen","animating","socialLinks","getAttribute","socialPatch","TabBar","socialModule1","newOne","returnVal","classNameColorMuted","sizes","classNameVersionHash","colorMuted","versionHash","branch","buildInfo","additional","size12","commit","originalVersions","chat","blockDiv","distant","getBadges","scope","div2","guildListItemsPatch","GuildClasses","getGuildClasses","listItemClass","blobClass","GuildComponent","return","guildData","unread","audio","video","animatable","guildPillPatch","guildPill","hovered","guildSeparatorPatch","Guilds","guildComponents","GuildSeparator","AttachmentPatch","Attachment","messageHeaderPatch","MessageHeader","memberListPatch","MemberListItem","renderDecorators","updateInjector","ReactDom","ReactComponent","WindowConfigFile","getAllWindowPreferences","getWindowPreference","addScript","removeScript","mainCore","protos","getData","loadData","saveData","setData","deleteData","onRemoved","isPluginEnabled","isThemeEnabled","isSettingEnabled","enableSetting","disableSetting","toggleSetting","makeAddonAPI","folder","isEnabled","getAll","Plugins","Themes","contentWindowGetter","HTMLIFrameElement","contentWindow","writable","Function","oOpen","XMLHttpRequest","localStorageFix","v2Loader","loadingIcon","deprecateGlobal","globalKeys","Globals","CoreWrapper"],"mappings":"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","file":"index.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = require(\"electron\");","module.exports = require(\"path\");","module.exports = require(\"fs\");","module.exports = require(\"crypto\");","module.exports = require(\"node-fetch\");","module.exports = require(\"events\");","module.exports = require(\"module\");","export const minimumDiscordVersion = \"0.0.308\";\nexport const currentDiscordVersion = (window.DiscordNative && window.DiscordNative.remoteApp && window.DiscordNative.remoteApp.getVersion && window.DiscordNative.remoteApp.getVersion()) || \"0.0.308\";\nexport const minSupportedVersion = \"0.3.0\";\nexport const bbdVersion = \"0.3.5\";\nexport const bbdChangelog = {\n    description: \"Big things are coming.\",\n    changes: [\n        {\n            title: \"Bug Fixes\",\n            type: \"fixed\",\n            items: [\n                \"Some fixes related to showing modals in the `BdApi`.\",\n                \"Fixed the open folder buttons for plugins and themes\"\n            ]\n        }\n    ]\n};\n\nexport const settings = {\n    \"Custom css live update\":     {id: \"bda-css-0\", info: \"\",                                                  implemented: true,  hidden: true,  cat: \"core\"},\n    \"Custom css auto udpate\":     {id: \"bda-css-1\", info: \"\",                                                  implemented: true,  hidden: true,  cat: \"core\"},\n    \"BetterDiscord Blue\":         {id: \"bda-gs-b\",  info: \"Replace Discord blue with BD Blue\",                 implemented: false,  hidden: false, cat: \"core\"},\n\n    /* Core */\n    /* ====== */\n    \"Public Servers\":             {id: \"bda-gs-1\",  info: \"Display public servers button\",                     implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Minimal Mode\":               {id: \"bda-gs-2\",  info: \"Hide elements and reduce the size of elements.\",    implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Voice Mode\":                 {id: \"bda-gs-4\",  info: \"Only show voice chat\",                              implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Hide Channels\":              {id: \"bda-gs-3\",  info: \"Hide channels in minimal mode\",                     implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Dark Mode\":                  {id: \"bda-gs-5\",  info: \"Make certain elements dark by default(wip)\",        implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Voice Disconnect\":           {id: \"bda-dc-0\",  info: \"Disconnect from voice server when closing Discord\", implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"24 Hour Timestamps\":         {id: \"bda-gs-6\",  info: \"Replace 12hr timestamps with proper ones\",          implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Colored Text\":               {id: \"bda-gs-7\",  info: \"Make text color the same as role color\",            implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n    \"Normalize Classes\":          {id: \"fork-ps-4\", info: \"Adds stable classes to elements to help themes. (e.g. adds .da-channels to .channels-Ie2l6A)\", implemented: true,  hidden: false, cat: \"core\", category: \"modules\"},\n\n    /* Content */\n    \"Content Error Modal\":        {id: \"fork-ps-1\", info: \"Shows a modal with plugin/theme errors\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Scan Plugins\":               {id: \"fork-ps-6\", info: \"Scan plugins for any threat that can be hidden inside.\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Show Toasts\":                {id: \"fork-ps-2\", info: \"Shows a small notification for important information\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Scroll To Settings\":         {id: \"fork-ps-3\", info: \"Auto-scrolls to a plugin's settings when the button is clicked (only if out of view)\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Automatic Loading\":          {id: \"fork-ps-5\", info: \"Automatically loads, reloads, and unloads plugins and themes\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Enable Edit Button\":         {id: \"fork-ps-7\", info: \"Enable an Edit Button on the plugin and theme panel.\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\"},\n    \"Themes in Popout Window\":    {id: \"lightcord-9\", info: \"Enable themes in Popout Window. (For example, when detaching screenshare.)\", implemented: true, hidden: false, cat: \"core\", category: \"content manager\", experimental: true},\n\n    /* Developer */\n    \"Developer Mode\":         \t  {id: \"bda-gs-8\", info: \"Developer Mode Toggle\", implemented: true, hidden: false, cat: \"core\", category: \"developer settings\"},\n    \"Copy Selector\":\t\t\t  {id: \"fork-dm-1\", info: \"Adds a \\\"Copy Selector\\\" option to context menus when developer mode is active\", implemented: true, hidden: false, cat: \"core\", category: \"developer settings\"},\n\n    /** Lightcord */\n    \"Disable BetterDiscord\":      {id: \"bd-disable\",  info: \"Disable Betterdiscord (plugins, themes, etc) (Not implemented).\", implemented: false, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Blur Personal Information\":  {id: \"lightcord-6\", info: \"Blur sensitive informations like email, payment infos and more.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Calling Ring Beat\":          {id: \"lightcord-2\", info: \"Enable Discord's special calling beat.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Developer Options\":          {id: \"lightcord-1\", info: \"Enable Discord's & Lightcord's Internal Developer Options. This allow the \\\"Experiments\\\" tab, the \\\"Developer Options\\\" tab and the \\\"Lightcord Api\\\" section.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Ad Block\":                   {id: \"lightcord-4\", info: \"Block any BOT that dms you with an invite link. Even in an embed.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Enable Lightcord Servers\":   {id: \"lightcord-5\", info: \"Enable Lightcord's servers. Disabling this will disable custom badges.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Disable typing\":             {id: \"lightcord-7\", info: \"Don't let other see you're typing.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\"},\n    \"Lightcord Tabs\":             {id: \"lightcord-8\", info: \"Allows you to launch multiple instances of Lightcord in the same window.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\", experimental: true},\n    \"Use Notification Shim\":      {id: \"lightcord-10\", info: \"Basically don't use Windows's Notifications.\", implemented: true, hidden: process.platform !== \"win32\", cat: \"lightcord\", category: \"Lightcord\"},\n    \"Emoji Prefix\":               {id: \"lightcord-11\", info: \"Change the prefix used for free nitros emojis. Please put only one character. Default: .\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Lightcord\", default: \".\"},\n\n    /** Lightcord Window */\n    \"Always-on-Top\":              {id: \"lightcord-3\", info: \"Enable the window's Always-on-Top mode, where Lightcord stays on top of other applications.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Window\"},\n    \"No Window Bounds\":           {id: \"no_window_bound\", info: \"Disable Window Bounds. Can be useful if you use a window manager.\", implemented: true, hidden: process.platform !== \"linux\", cat: \"lightcord\", category: \"Window\"},\n    \"Enable Glasstron\":           {id: \"enable_glasstron\", info: \"Enable Glasstron. If you're not using transparent themes, this can reduce lag.\", implemented: true, hidden: false, cat: \"lightcord\", category: \"Window\"},\n    \n    /** RichPresence */\n    \"Enable\":                     {id: \"lightcord-presence-1\", info: \"Enable RichPresence below.\", implemented: true, hidden: false, cat: \"status\"}\n};\n\nexport const defaultCookie = {\n    \"bda-gs-1\": true,\n    \"bda-gs-2\": false,\n    \"bda-gs-3\": false,\n    \"bda-gs-4\": false,\n    \"bda-gs-5\": true,\n    \"bda-gs-6\": false,\n    \"bda-gs-7\": false,\n    \"bda-gs-8\": false,\n    \"bda-es-0\": true,\n    \"bda-es-1\": true,\n    \"bda-es-2\": true,\n    \"bda-es-4\": false,\n    \"bda-es-6\": true,\n    \"bda-es-7\": true,\n    \"bda-gs-b\": false,\n    \"bda-es-8\": true,\n    \"bda-dc-0\": false,\n    \"bda-css-0\": false,\n    \"bda-css-1\": false,\n    \"bda-es-9\": true,\n    \"fork-dm-1\": false,\n    \"fork-ps-1\": true,\n    \"fork-ps-2\": true,\n    \"fork-ps-3\": true,\n    \"fork-ps-4\": true,\n    \"fork-ps-5\": true,\n    \"fork-ps-6\": true,\n    \"fork-ps-7\": false,\n    \"fork-es-2\": false,\n    \"fork-es-3\": true,\n    \"fork-wp-1\": false,\n    \"fork-wp-2\": false,\n    \"fork-beta\": true,\n    \"lightcord-1\": false,\n    \"lightcord-2\": true,\n    \"lightcord-presence-1\": false,\n    \"lightcord-3\": false,\n    \"lightcord-4\": false,\n    \"lightcord-5\": true,\n    \"lightcord-6\": true,\n    \"lightcord-7\": false,\n    \"lightcord-8\": false,\n    \"lightcord-9\": false,\n    \"lightcord-10\": false,\n    \"no_window_bound\": false,\n};\n\n\nexport const settingsCookie = {};\n\nexport const settingsRPC = {};\nexport const defaultRPC = {\n    \"name\": \"Lightcord\",\n    \"application_id\": \"711416957718757418\",\n    \"state\": \"Lightcord Client\",\n    \"details\": \"Browsing Discord\",\n    \"timestamps.start\": Date.now(),\n    \"assets.small\": null,\n    \"assets.large\": \"712323821037682791\"\n}\n\nexport const lightcordSettings = {};\nexport const defaultLightcordSettings = {};\n\nexport const bdpluginErrors = [];\nexport const bdthemeErrors = []; // define for backwards compatibility\n\nexport const bdConfig = Object.create(BetterDiscordConfig);\n\nexport const bdthemes = {};\nexport const bdplugins = {};\n\nexport const pluginCookie = {};\nexport const themeCookie = {};","const req = webpackJsonp.push([[], {__extra_id__: (module, exports, req) => module.exports = req}, [[\"__extra_id__\"]]]);\r\ndelete req.m.__extra_id__;\r\ndelete req.c.__extra_id__;\r\nconst find = (filter) => {\r\n    for (const i in req.c) {\r\n        if (req.c.hasOwnProperty(i)) {\r\n            const m = req.c[i].exports;\r\n            if (m && m.__esModule && m.default && filter(m.default)) return m.default;\r\n            if (m && filter(m))\treturn m;\r\n        }\r\n    }\r\n    // console.warn(\"Cannot find loaded module in cache\");\r\n    return null;\r\n};\r\n\r\nconst findAll = (filter) => {\r\n    const modules = [];\r\n    for (const i in req.c) {\r\n        if (req.c.hasOwnProperty(i)) {\r\n            const m = req.c[i].exports;\r\n            if (m && m.__esModule && m.default && filter(m.default)) modules.push(m.default);\r\n            else if (m && filter(m)) modules.push(m);\r\n        }\r\n    }\r\n    return modules;\r\n};\r\n\r\nconst findByProps = (...propNames) => find(module => propNames.every(prop => module[prop] !== undefined));\r\nconst findByPrototypes = (...protoNames) => find(module => module.prototype && protoNames.every(protoProp => module.prototype[protoProp] !== undefined));\r\nconst findByDisplayName = (displayName) => find(module => module.displayName === displayName);\r\n\r\nlet mod =  {find, findAll, findByProps, findByPrototypes, findByDisplayName};\r\nexport default mod\r\n\r\nwindow.Lightcord.BetterDiscord.WebpackModules = mod","import Utils from \"./utils\";\nimport ContentManager from \"./contentManager\";\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst releaseChannel = DiscordNative.globals ? DiscordNative.globals.releaseChannel : DiscordNative.app ? DiscordNative.app.getReleaseChannel() : \"stable\";\n\nlet dataPath = \"\";\nif (process.platform === \"win32\") dataPath = process.env.APPDATA;\nelse if (process.platform === \"darwin\") dataPath = path.join(process.env.HOME, \"Library\", \"Preferences\");\nelse dataPath = process.env.XDG_CONFIG_HOME ? process.env.XDG_CONFIG_HOME : path.join(process.env.HOME, \".config\");\ndataPath = path.join(dataPath, \"BetterDiscord\");\n\nexport default new class DataStore {\n    constructor() {\n        this.data = {settings: {stable: {}, canary: {}, ptb: {}}};\n        this.pluginData = {};\n        window.Lightcord.BetterDiscord.DataStore = this\n    }\n\n    initialize() {\n        try {\n            if (!fs.existsSync(this.BDFile)) fs.writeFileSync(this.BDFile, JSON.stringify(this.data, null, 4), \"utf-8\");\n            const data = JSON.parse(fs.readFileSync(this.BDFile, \"utf-8\"))\n            if (data.hasOwnProperty(\"settings\")) this.data = data;\n            if (!fs.existsSync(this.settingsFile)) return;\n            let settings = __non_webpack_require__(this.settingsFile);\n            fs.unlinkSync(this.settingsFile);\n            if (settings.hasOwnProperty(\"settings\")) settings = Object.assign({stable: {}, canary: {}, ptb: {}}, {[releaseChannel]: settings});\n            else settings = Object.assign({stable: {}, canary: {}, ptb: {}}, settings);\n            this.setBDData(\"settings\", settings);\n        }\n        catch (err) {\n            console.error(err);\n            Utils.alert(\"Corrupt Storage\", \"The bd storage has somehow become corrupt. You may either try to salvage the file or delete it then reload.\");\n        }\n    }\n\n    get injectionPath() {\n        return this._injectionPath = null;\n    }\n\n    get configFile() {return this._configFile || (this._configFile = path.resolve(this.injectionPath, \"betterdiscord\", \"config.json\"));}\n    get BDFile() {return this._BDFile || (this._BDFile = path.resolve(dataPath, \"bdstorage.json\"));}\n    get settingsFile() {return this._settingsFile || (this._settingsFile = path.resolve(dataPath, \"bdsettings.json\"));}\n    getPluginFile(pluginName) {return path.resolve(ContentManager.pluginsFolder, pluginName + \".config.json\");}\n\n    getSettingGroup(key) {\n        return this.data.settings[releaseChannel][key] || null;\n    }\n\n    setSettingGroup(key, data) {\n        this.data.settings[releaseChannel][key] = data;\n        fs.writeFileSync(this.BDFile, JSON.stringify(this.data, null, 4), \"utf-8\");\n    }\n\n    getBDData(key) {\n        return this.data[key] || \"\";\n    }\n\n    setBDData(key, value) {\n        this.data[key] = value;\n        fs.writeFileSync(this.BDFile, JSON.stringify(this.data, null, 4), \"utf-8\");\n    }\n\n    getPluginData(pluginName, key) {\n        if (this.pluginData[pluginName] !== undefined) return this.pluginData[pluginName][key];\n        if (!fs.existsSync(this.getPluginFile(pluginName))) return undefined;\n        this.pluginData[pluginName] = JSON.parse(fs.readFileSync(this.getPluginFile(pluginName)));\n        return this.pluginData[pluginName][key];\n    }\n\n    setPluginData(pluginName, key, value) {\n        if (value === undefined) return;\n        if (this.pluginData[pluginName] === undefined) this.pluginData[pluginName] = {};\n        this.pluginData[pluginName][key] = value;\n        fs.writeFileSync(this.getPluginFile(pluginName), JSON.stringify(this.pluginData[pluginName], null, 4), \"utf-8\");\n    }\n\n    deletePluginData(pluginName, key) {\n        if (this.pluginData[pluginName] === undefined) this.pluginData[pluginName] = {};\n        delete this.pluginData[pluginName][key];\n        fs.writeFileSync(this.getPluginFile(pluginName), JSON.stringify(this.pluginData[pluginName], null, 4), \"utf-8\");\n    }\n};","/* BDEvents */\nconst EventEmitter = require(\"events\");\nexport default new class BDEvents extends EventEmitter {\n    constructor(){\n        super()\n        window.Lightcord.BetterDiscord.BDEvents = this\n    }\n    dispatch(eventName, ...args) {this.emit(eventName, ...args);}\n    off(eventName, eventAction) {this.removeListener(eventName, eventAction);}\n};","import {bdpluginErrors, pluginCookie, settingsCookie, bdplugins} from \"../0globals\";\nimport ContentManager from \"./contentManager\";\nimport DataStore from \"./dataStore\";\nimport BDEvents from \"./bdEvents\";\nimport Utils from \"./utils\";\n\nclass PluginModule {\n    constructor(){\n        window.Lightcord.BetterDiscord.PluginModule = this\n    }\n    get folder() {return ContentManager.pluginsFolder;}\n}\n\nPluginModule.prototype.loadPlugins = async function () {\n    this.loadPluginData();\n    bdpluginErrors.splice(0, 0, ...(await ContentManager.loadPlugins()));\n    const plugins = Object.keys(bdplugins);\n    for (let i = 0; i < plugins.length; i++) {\n        let plugin, name;\n\n        try {\n            plugin = bdplugins[plugins[i]].plugin;\n            name = plugin.getName();\n            if (plugin.load && typeof(plugin.load) == \"function\") plugin.load();\n        } catch (err) {\n            pluginCookie[name] = false;\n            Utils.err(\"Plugins\", name + \" could not be loaded.\", err);\n            bdpluginErrors.push({name: name, file: bdplugins[plugins[i]].filename, message: \"load() could not be fired.\", error: {message: err.message, stack: err.stack}});\n            continue;\n        }\n\n        if (!pluginCookie[name]) pluginCookie[name] = false;\n\n        if (pluginCookie[name]) {\n            try {\n                plugin.start();\n                if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin.getName()} v${plugin.getVersion()} has started.`);\n            } catch (err) {\n                pluginCookie[name] = false;\n                Utils.err(\"Plugins\", name + \" could not be started.\", err);\n                bdpluginErrors.push({name: name, file: bdplugins[plugins[i]].filename, message: \"start() could not be fired.\", error: {message: err.message, stack: err.stack}});\n            }\n        }\n\n        await new Promise((resolve) => setTimeout(resolve, 10))\n    }\n    this.savePluginData();\n\n    require(\"electron\").remote.getCurrentWebContents().on(\"did-navigate-in-page\", this.channelSwitch.bind(this));\n    // if (settingsCookie[\"fork-ps-5\"]) ContentManager.watchContent(\"plugin\");\n};\n\nPluginModule.prototype.startPlugin = function(plugin, reload = false) {\n    try {\n        bdplugins[plugin].plugin.start();\n        if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${bdplugins[plugin].plugin.getName()} v${bdplugins[plugin].plugin.getVersion()} has started.`);\n    }\n    catch (err) {\n        if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${bdplugins[plugin].plugin.getName()} v${bdplugins[plugin].plugin.getVersion()} could not be started.`, {type: \"error\"});\n        pluginCookie[plugin] = false;\n        this.savePluginData();\n        Utils.err(\"Plugins\", plugin + \" could not be started.\", err);\n    }\n};\n\nPluginModule.prototype.stopPlugin = function(plugin, reload = false) {\n    try {\n        bdplugins[plugin].plugin.stop();\n        if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${bdplugins[plugin].plugin.getName()} v${bdplugins[plugin].plugin.getVersion()} has stopped.`);\n    }\n    catch (err) {\n        if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${bdplugins[plugin].plugin.getName()} v${bdplugins[plugin].plugin.getVersion()} could not be stopped.`, {type: \"error\"});\n        Utils.err(\"Plugins\", bdplugins[plugin].plugin.getName() + \" could not be stopped.\", err);\n    }\n};\n\nPluginModule.prototype.enablePlugin = function (plugin, reload = false) {\n    if (pluginCookie[plugin]) return;\n    pluginCookie[plugin] = true;\n    this.savePluginData();\n    this.startPlugin(plugin, reload);\n};\n\nPluginModule.prototype.enable = function (plugin, reload = false) {\n    return this.enablePlugin(plugin, reload);\n};\n\nPluginModule.prototype.disablePlugin = function (plugin, reload = false) {\n    if (!pluginCookie[plugin]) return;\n    pluginCookie[plugin] = false;\n    this.savePluginData();\n    this.stopPlugin(plugin, reload);\n};\n\nPluginModule.prototype.disable = function (plugin, reload = false) {\n    return this.disablePlugin(plugin, reload);\n};\n\nPluginModule.prototype.togglePlugin = function (plugin) {\n    if (pluginCookie[plugin]) this.disablePlugin(plugin);\n    else this.enablePlugin(plugin);\n};\n\nPluginModule.prototype.toggle = function (plugin, reload = false) {\n    return this.togglePlugin(plugin, reload);\n};\n\nPluginModule.prototype.loadPlugin = async function(filename) {\n    const error = await ContentManager.loadContent(filename, \"plugin\");\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({plugins: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${filename} could not be loaded.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${filename} could not be loaded.`, error);\n    }\n    const plugin = Object.values(bdplugins).find(p => (console.log(p.filename, filename)) || p.filename == filename).plugin;\n    try { if (plugin.load && typeof(plugin.load) == \"function\") plugin.load();}\n    catch (err) {if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({plugins: [err]});}\n    Utils.log(\"ContentManager\", `${plugin.getName()} v${plugin.getVersion()} was loaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin.getName()} v${plugin.getVersion()} was loaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"plugin-loaded\", plugin.getName());\n};\n\nPluginModule.prototype.unloadPlugin = function(filenameOrName) {\n    const bdplugin = Object.values(bdplugins).find(p => p.filename == filenameOrName) || bdplugins[filenameOrName];\n    if (!bdplugin) return;\n    const plugin = bdplugin.plugin.getName();\n    if (pluginCookie[plugin]) this.disablePlugin(plugin, true);\n    const error = ContentManager.unloadContent(bdplugins[plugin].filename, \"plugin\");\n    delete bdplugins[plugin];\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({plugins: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin} could not be unloaded. It may have not been loaded yet.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${plugin} could not be unloaded. It may have not been loaded yet.`, error);\n    }\n    Utils.log(\"ContentManager\", `${plugin} was unloaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin} was unloaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"plugin-unloaded\", plugin);\n};\n\nPluginModule.prototype.delete = function(filenameOrName) {\n    const bdplugin = Object.values(bdplugins).find(p => p.filename == filenameOrName) || bdplugins[filenameOrName];\n    if (!bdplugin) return;\n    this.unloadPlugin(bdplugin.filename);\n    const fullPath = require(\"path\").resolve(ContentManager.pluginsFolder, bdplugin.filename);\n    require(\"fs\").unlinkSync(fullPath);\n};\n\nPluginModule.prototype.reloadPlugin = async function(filenameOrName) {\n    const bdplugin = Object.values(bdplugins).find(p => p.filename == filenameOrName) || bdplugins[filenameOrName];\n    if (!bdplugin) return this.loadPlugin(filenameOrName);\n    const plugin = bdplugin.plugin.getName();\n    const enabled = pluginCookie[plugin];\n    if (enabled) this.stopPlugin(plugin, true);\n    const error = await ContentManager.reloadContent(bdplugins[plugin].filename, \"plugin\");\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({plugins: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin} could not be reloaded.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${plugin} could not be reloaded.`, error);\n    }\n    if (bdplugins[plugin].plugin.load && typeof(bdplugins[plugin].plugin.load) == \"function\") bdplugins[plugin].plugin.load();\n    if (enabled) this.startPlugin(plugin, true);\n    Utils.log(\"ContentManager\", `${plugin} v${bdplugins[plugin].plugin.getVersion()} was reloaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${plugin} v${bdplugins[plugin].plugin.getVersion()} was reloaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"plugin-reloaded\", plugin);\n};\n\nPluginModule.prototype.reload = function(name) {\n    return this.reloadPlugin(name);\n};\n\nPluginModule.prototype.edit = function(filenameOrName) {\n    const bdplugin = Object.values(bdplugins).find(p => p.filename == filenameOrName) || bdplugins[filenameOrName];\n    if (!bdplugin) return;\n    const fullPath = require(\"path\").resolve(ContentManager.pluginsFolder, bdplugin.filename);\n    require(\"electron\").shell.openExternal(`${fullPath}`);\n};\n\nPluginModule.prototype.updatePluginList = function() {\n    const results = ContentManager.loadNewContent(\"plugin\");\n    for (const filename of results.added) this.loadPlugin(filename);\n    for (const name of results.removed) this.unloadPlugin(name);\n};\n\nPluginModule.prototype.loadPluginData = function () {\n    const saved = DataStore.getSettingGroup(\"plugins\");\n    if (saved) {\n        Object.assign(pluginCookie, saved);\n    }\n};\n\nPluginModule.prototype.savePluginData = function () {\n    DataStore.setSettingGroup(\"plugins\", pluginCookie);\n};\n\nPluginModule.prototype.newMessage = function () {\n    const plugins = Object.keys(bdplugins);\n    for (let i = 0; i < plugins.length; i++) {\n        const plugin = bdplugins[plugins[i]].plugin;\n        if (!pluginCookie[plugin.getName()]) continue;\n        if (typeof plugin.onMessage === \"function\") {\n            try { plugin.onMessage(); }\n            catch (err) { Utils.err(\"Plugins\", \"Unable to fire onMessage for \" + plugin.getName() + \".\", err); }\n        }\n    }\n};\n\nPluginModule.prototype.channelSwitch = function () {\n    const plugins = Object.keys(bdplugins);\n    for (let i = 0; i < plugins.length; i++) {\n        const plugin = bdplugins[plugins[i]].plugin;\n        if (!pluginCookie[plugin.getName()]) continue;\n        if (typeof plugin.onSwitch === \"function\") {\n            try { plugin.onSwitch(); }\n            catch (err) { Utils.err(\"Plugins\", \"Unable to fire onSwitch for \" + plugin.getName() + \".\", err); }\n        }\n    }\n};\n\nPluginModule.prototype.rawObserver = function(e) {\n    const plugins = Object.keys(bdplugins);\n    for (let i = 0; i < plugins.length; i++) {\n        const plugin = bdplugins[plugins[i]].plugin;\n        if (!pluginCookie[plugin.getName()]) continue;\n        if (typeof plugin.observer === \"function\") {\n            try { plugin.observer(e); }\n            catch (err) { Utils.err(\"Plugins\", \"Unable to fire observer for \" + plugin.getName() + \".\", err); }\n        }\n    }\n};\n\nexport default new PluginModule();","/**\n * Tooltip that automatically show and hide themselves on mouseenter and mouseleave events.\n * Will also remove themselves if the node to watch is removed from DOM through\n * a MutationObserver.\n *\n * Note this is not using Discord's internals but normal DOM manipulation and emulates\n * Discord's own tooltips as closely as possible.\n *\n * @module EmulatedTooltip\n * @version 0.0.1\n */\n\nimport Utils from \"../modules/utils\";\nimport WebpackModules from \"../modules/webpackModules\";\nlet TooltipClasses\nfunction getTooltipClasses(){\n\tif(TooltipClasses)return TooltipClasses\n\treturn TooltipClasses = WebpackModules.findByProps(\"tooltip\", \"tooltipBlack\");\n}\nlet TooltipLayers\nfunction getTooltipLayers(){\n\tif(TooltipLayers)return TooltipLayers\n\treturn TooltipLayers = WebpackModules.findByProps(\"layer\", \"layerContainer\");\n}\n\nconst getClass = function(sideOrColor) {\n    const upperCase = sideOrColor[0].toUpperCase() + sideOrColor.slice(1);\n    const tooltipClass = getTooltipClasses()[`tooltip${upperCase}`];\n    if (tooltipClass) return tooltipClass;\n    return null;\n};\n\nconst classExists = function(sideOrColor) {\n    return getClass(sideOrColor) ? true : false;\n};\n\nconst toPx = function(value) {\n    return `${value}px`;\n};\n\nexport default class EmulatedTooltip {\n\t/**\n\t *\n\t * @constructor\n\t * @param {(HTMLElement|jQuery)} node - DOM node to monitor and show the tooltip on\n\t * @param {string} tip - string to show in the tooltip\n\t * @param {object} options - additional options for the tooltip\n\t * @param {string} [options.style=black] - correlates to the discord styling/colors (black, brand, green, grey, red, yellow)\n\t * @param {string} [options.side=top] - can be any of top, right, bottom, left\n\t * @param {boolean} [options.preventFlip=false] - prevents moving the tooltip to the opposite side if it is too big or goes offscreen\n     * @param {boolean} [options.disabled=false] - whether the tooltip should be disabled from showing on hover\n     * @param {boolean} [options.attachEvents=true] - whether the tooltip should listen to mouseenter and mouseleave events.\n\t */\n\tconstructor(node, text, options = {}) {\n\t\tconst {style = \"black\", side = \"top\", preventFlip = false, disabled = false, attachEvents = true} = options;\n\t\tthis.node = node instanceof jQuery ? node[0] : node;\n        this.label = text;\n        this.style = style.toLowerCase();\n\t\tthis.side = side.toLowerCase();\n        this.preventFlip = preventFlip;\n        this.disabled = disabled;\n\n        if (!classExists(this.side)) return Utils.err(\"EmulatedTooltip\", `Side ${this.side} does not exist.`);\n\t\tif (!classExists(this.style)) return Utils.err(\"EmulatedTooltip\", `Style ${this.style} does not exist.`);\n\t\t\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.className = getTooltipLayers().layer + \" \" + getTooltipLayers().disabledPointerEvents;\n\n\t\tthis.tooltipElement = document.createElement(\"div\");\n\t\tthis.tooltipElement.className = `${getTooltipClasses().tooltip} ${getClass(this.style)}`;\n\n\t\tthis.labelElement = document.createElement(\"div\");\n\t\tthis.labelElement.className = getTooltipClasses().tooltipContent\n\n\t\tconst pointerElement = document.createElement(\"div\");\n\t\tpointerElement.className = getTooltipClasses().tooltipPointer;\n\n\t\tthis.tooltipElement.append(pointerElement);\n\t\tthis.tooltipElement.append(this.labelElement);\n\t\tthis.element.append(this.tooltipElement);\n\n\t\tif(attachEvents){\n\t\t\tthis.node.addEventListener(\"mouseenter\", () => {\n\t\t\t\tif (this.disabled) return;\n\t\t\t\tthis.show();\n\t\n\t\t\t\tconst observer = new MutationObserver((mutations) => {\n\t\t\t\t\tmutations.forEach((mutation) => {\n\t\t\t\t\t\tconst nodes = Array.from(mutation.removedNodes);\n\t\t\t\t\t\tconst directMatch = nodes.indexOf(this.node) > -1;\n\t\t\t\t\t\tconst parentMatch = nodes.some(parent => parent.contains(this.node));\n\t\t\t\t\t\tif (directMatch || parentMatch) {\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\tobserver.observe(document.body, {subtree: true, childList: true});\n\t\t\t});\n\t\n\t\t\tthis.node.addEventListener(\"mouseleave\", () => {\n\t\t\t\tthis.hide();\n\t\t\t});\n\t\t}\n    }\n\n    /** Container where the tooltip will be appended. */\n    get container() { \n\t\treturn document.querySelector(\".\"+Utils.removeDa(BDModules.get(e => e.popouts)[0].popouts)+\" ~ .\"+Utils.removeDa(BDModules.get(e => e.layerContainer)[0].layerContainer)); \n\t}\n    /** Boolean representing if the tooltip will fit on screen above the element */\n    get canShowAbove() { return this.node.getBoundingClientRect().top - this.element.offsetHeight >= 0; }\n    /** Boolean representing if the tooltip will fit on screen below the element */\n    get canShowBelow() { return this.node.getBoundingClientRect().top + this.node.offsetHeight + this.element.offsetHeight <= Utils.screenHeight; }\n    /** Boolean representing if the tooltip will fit on screen to the left of the element */\n    get canShowLeft() { return this.node.getBoundingClientRect().left - this.element.offsetWidth >= 0; }\n    /** Boolean representing if the tooltip will fit on screen to the right of the element */\n\tget canShowRight() { return this.node.getBoundingClientRect().left + this.node.offsetWidth + this.element.offsetWidth <= Utils.screenWidth; }\n\n    /** Hides the tooltip. Automatically called on mouseleave. */\n\thide() {\n        this.element.remove();\n        this.tooltipElement.className = this._className;\n\t}\n\n    /** Shows the tooltip. Automatically called on mouseenter. Will attempt to flip if position was wrong. */\n\tshow() {\n        this.tooltipElement.className = `${getTooltipClasses().tooltip} ${getClass(this.style)}`;\n\t\tthis.labelElement.textContent = this.label;\n\t\tthis.container.append(this.element);\n\n\t\tif (this.side == \"top\") {\n\t\t\tif (this.canShowAbove || (!this.canShowAbove && this.preventFlip)) this.showAbove();\n\t\t\telse this.showBelow();\n\t\t}\n\n\t\tif (this.side == \"bottom\") {\n\t\t\tif (this.canShowBelow || (!this.canShowBelow && this.preventFlip)) this.showBelow();\n\t\t\telse this.showAbove();\n\t\t}\n\n\t\tif (this.side == \"left\") {\n\t\t\tif (this.canShowLeft || (!this.canShowLeft && this.preventFlip)) this.showLeft();\n\t\t\telse this.showRight();\n\t\t}\n\n\t\tif (this.side == \"right\") {\n\t\t\tif (this.canShowRight || (!this.canShowRight && this.preventFlip)) this.showRight();\n\t\t\telse this.showLeft();\n\t\t}\n\t}\n\n    /** Force showing the tooltip above the node. */\n\tshowAbove() {\n\t\tthis.tooltipElement.classList.add(getClass(\"top\"));\n\t\tthis.element.style.setProperty(\"top\", toPx(this.node.getBoundingClientRect().top - this.element.offsetHeight - 10));\n\t\tthis.centerHorizontally();\n\t}\n\n    /** Force showing the tooltip below the node. */\n\tshowBelow() {\n\t\tthis.tooltipElement.classList.add(getClass(\"bottom\"));\n\t\tthis.element.style.setProperty(\"top\", toPx(this.node.getBoundingClientRect().top + this.node.offsetHeight + 10));\n\t\tthis.centerHorizontally();\n\t}\n\n    /** Force showing the tooltip to the left of the node. */\n\tshowLeft() {\n\t\tthis.tooltipElement.classList.add(getClass(\"left\"));\n\t\tthis.element.style.setProperty(\"left\", toPx(this.node.getBoundingClientRect().left - this.element.offsetWidth - 10));\n\t\tthis.centerVertically();\n\t}\n\n    /** Force showing the tooltip to the right of the node. */\n\tshowRight() {\n\t\tthis.tooltipElement.classList.add(getClass(\"right\"));\n\t\tthis.element.style.setProperty(\"left\", toPx(this.node.getBoundingClientRect().left + this.node.offsetWidth + 10));\n\t\tthis.centerVertically();\n\t}\n\n\tcenterHorizontally() {\n        const nodecenter = this.node.getBoundingClientRect().left + (this.node.offsetWidth / 2);\n        this.element.style.setProperty(\"left\", toPx(nodecenter - (this.element.offsetWidth / 2)));\n\t}\n\n\tcenterVertically() {\n\t\tconst nodecenter = this.node.getBoundingClientRect().top + (this.node.offsetHeight / 2);\n\t\tthis.element.style.setProperty(\"top\", toPx(nodecenter - (this.element.offsetHeight / 2)));\n\t}\n}","import BDV2 from \"../modules/v2\";\nimport Tooltip from \"./tooltip\";\n\nexport default class extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    async componentDidMount() {\n        const {style = \"black\", side = \"top\", text = \"\"} = this.props;\n        this.node = BDV2.reactDom.findDOMNode(this);\n        this.tooltip = new Tooltip(this.node, text, {style, side});\n    }\n\n    componentWillUnmount() {\n        this.tooltip.hide();\n        delete this.tooltip;\n    }\n\n    render() {\n        return this.props.children;\n    }\n}","import nodeFetch from \"node-fetch\"\nimport * as electron from \"electron\"\nimport * as crypto from \"crypto\"\nimport BDV2 from \"./v2\"\nimport tooltipWrap from \"../ui/tooltipWrap\"\nimport Utils from \"./utils\"\nimport { createReadStream, writeFileSync } from \"fs\"\nimport { basename, join } from \"path\"\nimport contentManager from \"./contentManager\"\nimport { addonCache } from \"./contentManager\"\n\nconst cache = {}\nconst cache2 = {}\n\nexport default new class PluginCertifier {\n    constructor(){\n        window.Lightcord.BetterDiscord.PluginCertifier = this\n    }\n\n    patch(attachment, id){\n        process.nextTick(() => {\n            processAttachment(attachment, id)\n        })\n    }\n\n    start(){\n\n    }\n\n    isTrusted(hash){\n        return cache[hash] && !cache[hash].suspect\n    }\n}\n\nconst tests = [\n    [/token/gi, 0, 0],\n    [/email/gi, 0, 0],\n    [/mfa\\./gi, 0, 0],\n    [/2fa/gi, 0, 0],\n    [/phone/gi, 0, 0],\n    [/child_process/gi, 0, 0],\n    [/localStorage/gi, 0, 0],\n    [/getGlobal/gi, 0, 0],\n    [/BrowserWindow/gi, 0, 0],\n    [/system32/gi, 0, 0],\n    [/password/gi, 0, 0],\n    [/eval/gi, 0, 0],\n    [/WebAssembly/gi, 0, 0],\n    [/XMLHttpRequest(\\.|\\[[\"'`])prototype/gi, 0, 0],\n    [/window\\.fetch( +)?=/gi, 0, 0],\n    /** Obfuscation / hidden / workarounds */\n    [/([\"'`]\\+)[\"'`]\\w[\"'`]/gi, 1, 1],\n    [/[\"'`]\\w[\"'`](\\+[\"'`])/gi, 1, 1],\n    [/\\${[\"'`]\\w+[\"'`]}/gi, 1, 1],\n    /** hexadecimal */\n    [/_0x\\w{4}\\('0x[\\dabcdef]+'\\)/g, 1, 1],\n    [/_0x\\w{4}\\('0x[\\dabcdef]+'( +)?,( +)?'[^']{4}'\\)/g, 1, 1], // _0x8db7('0x0', 'x1]f')\n    /** mangled */\n    [/\\w+\\('0x[\\dabcdef]+'\\)/g, 1, 1], // b('0x0')\n    [/\\w+\\('0x[\\dabcdef]+'( +)?,( +)?'[^']{4}'\\)/g, 1, 1], // b('0x0', 'x1]f')\n    /** string array at start */\n    [/^var [\\w\\d_$]+=\\[\"/gi, 1, 1]\n]\n\nconst threats = [\n    \"Account Stealer/Virus\",\n    \"Obfuscation/Hidden code\"\n]\n\nexport function checkViruses(hash, data, resultCallback, removeCallback, filename){\n    data = data.toString(\"utf8\")\n    let isHarmful = false\n    /**\n     * @type {string}\n     */\n    const no_comments = data.replace(/\\/\\*[\\s\\S]*?\\*\\/|([^\\\\:]|^)\\/\\/.*$/gm, \"\").trim()// removing all comments from plugins (remove meta and other.)\n\n    for(const [test, type, removeComment] of tests){\n        const scrpt = removeComment === 1 ? no_comments : data\n        if(test.exec(scrpt)){\n            isHarmful = threats[type]\n            console.log(`${hashToUrl[hash].split(\"/\").pop()} failed at test`, test, \". Marked as\", threats[type])\n            break\n        }\n    }\n\n    if(!isHarmful)return removeCallback(hash)\n    cache[hash] = {\n        suspect: true,\n        name: hashToUrl[hash].split(\"/\").pop(),\n        type: hashToUrl[hash].endsWith(\".js\") ? \"Plugin\" : \"Theme\",\n        harm: isHarmful,\n        hash: hash,\n        filename\n    }\n    \n    console.log(`Found potentially dangerous ${cache[hash].type.toLowerCase()}: ${cache[hash].name}`)\n\n    resultCallback(cache[hash])\n}\n\nconst hashToUrl = {}\n\nexport function checkHash(hash, data, filename, resultCallback, removeCallback){\n    console.log(`File: ${filename} hash: ${hash}`)\n    if(!cache[hash]){\n        nodeFetch(\"https://cdn.jsdelivr.net/gh/Lightcord/filehashes@master/hashes/\"+hash, { // Using node-fetch to bypass cors\n            headers: {\n                \"User-Agent\": electron.ipcRenderer.sendSync(\"LIGHTCORD_GET_USER_AGENT\") // have to set user-agent\n            }\n        }).then(async res => {\n            if(res.status !== 200){\n                if(filename.endsWith(\".theme.css\"))return removeCallback(hash)\n                try{\n                    checkViruses(hash, data, resultCallback, removeCallback, filename)\n                }catch(e){\n                    console.error(e)\n                    removeCallback()\n                }\n                return\n            }\n            const result = await res.json()\n            result.hash = hash\n            result.filename = filename\n\n            cache[hash] = result\n\n            resultCallback(result)\n        }).catch((err) => {\n            console.error(`Could not read from github. ${err}`)\n            if(filename.endsWith(\".theme.css\"))return removeCallback(hash)\n            checkViruses(hash, data, resultCallback, removeCallback, filename)\n        })\n    }else{\n        const result = cache[hash]\n\n        resultCallback(result)\n    }\n}\n\nexport function processFile(__path, resultCallback, removeCallback = (hash) => {}, isFromLoader = false){    \n    const hash = crypto.createHash(\"sha256\")\n    let data = Buffer.alloc(0)\n\n    createReadStream(__path).on(\"data\", chunk => {\n        data = Buffer.concat([data, chunk])\n        hash.update(chunk)\n    }).on(\"end\", () => {\n        const hashResult = hash.digest(\"hex\")\n\n        hashToUrl[hashResult] = __path\n\n        if(isFromLoader && addonCache[hashResult]){\n            let value = addonCache[hashResult]\n            if(value.timestamp < (Date.now() - 6.048e+8)){\n                delete addonCache[hashResult]\n                contentManager.saveAddonCache()\n            }else{\n                resultCallback(value.result)\n                return\n            }\n        }\n\n        checkHash(hashResult, data, basename(__path), resultCallback, removeCallback)\n    })\n}\n\nexport function processAttachment(attachment, id){\n    if(!document.getElementById(id))return\n    if(!attachment.url.startsWith(\"https://cdn.discordapp.com/\"))return document.getElementById(id).remove()\n    if(!attachment.filename.endsWith(\".plugin.js\") && !attachment.filename.endsWith(\".theme.css\"))return document.getElementById(id).remove()\n\n    nodeFetch(attachment.url, {\n        headers: {\n            \"User-Agent\": electron.ipcRenderer.sendSync(\"LIGHTCORD_GET_USER_AGENT\")\n        }\n    }).then(res => {\n        if(res.status !== 200)throw new Error(\"File doesn't exist.\")\n        const hash = crypto.createHash(\"sha256\")\n        let data = Buffer.alloc(0)\n        res.body.on(\"data\", chunk => {\n            data = Buffer.concat([data, chunk])\n            hash.update(chunk)\n        })\n        res.body.on(\"end\", () => {\n            const hashResult = hash.digest(\"hex\")\n\n            cache2[attachment.url] = hashResult\n            hashToUrl[hashResult] = attachment.url\n\n            checkHash(hashResult, data, attachment.filename, (result) => {\n                renderToElements(id, result, attachment.filename)\n            }, () => {\n                let elem = document.getElementById(id)\n                if(elem)elem.remove()\n            })\n        })\n    }).catch(()=>{})\n}\n\nlet flowerStarModule = BDModules.get(e => e.flowerStarContainer)[0]\nlet childModule = BDModules.get(e => e.childContainer)[0]\n\n/**\n * \n * @param {HTMLDivElement[]} elements \n * @param {{type: \"Theme\"|\"Plugin\", name: string, official?: boolean}|{suspect:true, type: \"Theme\"|\"Plugin\", name: string, harm: string}} result\n */\nfunction renderToElements(id, result, filename){\n    const div = document.getElementById(id)\n    if(!div || div.childNodes.length > 0)return // already certified/div does not exist anymore.\n\n    if(!flowerStarModule)flowerStarModule = BDModules.get(e => e.flowerStarContainer)[0]\n    if(!childModule)childModule = BDModules.get(e => e.childContainer)[0]\n    \n    if(result.suspect){\n        try{\n            div.parentNode.style.borderColor = \"rgb(240, 71, 71)\"\n            /**\n             * \n             * @param {HTMLElement} node \n             */\n            let nextNode = (node) => {\n                for(let child of node.children){\n                    if(child.tagName === \"A\"){\n                        child.addEventListener(\"click\", (e) => {\n                            e.preventDefault()\n                            e.stopImmediatePropagation()\n\n                            Utils.showConfirmationModal(\n                                \"Are you sure you want to download this ?\", \n                                \"The \"+result.type.toLowerCase()+\" **\"+filename+\"** might be dangerous **(\"+result.harm+\")**. \\n\\n**We don't recommand to download it**. However, you can still do it below.\", \n                                {\n                                    confirmText: \"Download Anyway\",\n                                    cancelText: \"Don't !\",\n                                    danger: true,\n                                    onCancel: () => {},\n                                    onConfirm: () => {\n                                        electron.ipcRenderer.sendSync(\"LIGHTCORD_OPEN_EXTERNAL\", child.href)\n                                    }\n                                }\n                            )\n                        })\n                    }else if([\"div\"].includes(child.tagName.toLowerCase())){\n                        nextNode(child)\n                    }\n                }\n            }\n            nextNode(div.parentNode)\n        }catch(e){\n            console.error(e)\n        }\n        BDV2.reactDom.render(BDV2.react.createElement(tooltipWrap, {text: result.type+\" \"+result.name+\" is potentially dangerous.\"}, \n            BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\"}},\n                BDV2.react.createElement(\"svg\", {className: BDModules.get(e => e.svg)[0].svg, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 40 32\"},\n                    BDV2.react.createElement(\"rect\", {\n                        x:\"0\",\n                        y:\"0\",\n                        width:\"32\",\n                        height:\"32\",\n                        mask:\"url(#svg-mask-avatar-status-round-32)\",\n                        fill:\"#f04747\",\n                        mask:\"url(#svg-mask-status-dnd)\",\n                        className:BDModules.get(e => e.pointerEvents)[0].pointerEvents\n                    })\n                )\n            )\n        ), div)\n    }else if(!result.official){\n        div.parentNode.style.borderColor = \"#4087ed\"\n        let span = BDV2.react.createElement(\"span\", {style: {display: \"inherit\"}}, [\n            BDV2.react.createElement(tooltipWrap, {text: result.type+\" \"+result.name+\" is certified by Lightcord.\"}, \n                BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\", float: \"left\"}},\n                    BDV2.react.createElement(\"svg\", {className: flowerStarModule.flowerStar, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 16 15.2\"},\n                        BDV2.react.createElement(\"path\", {fill:\"#4f545c\", \"fill-rule\":\"evenodd\",d:\"m16 7.6c0 .79-1.28 1.38-1.52 2.09s.44 2 0 2.59-1.84.35-2.46.8-.79 1.84-1.54 2.09-1.67-.8-2.47-.8-1.75 1-2.47.8-.92-1.64-1.54-2.09-2-.18-2.46-.8.23-1.84 0-2.59-1.54-1.3-1.54-2.09 1.28-1.38 1.52-2.09-.44-2 0-2.59 1.85-.35 2.48-.8.78-1.84 1.53-2.12 1.67.83 2.47.83 1.75-1 2.47-.8.91 1.64 1.53 2.09 2 .18 2.46.8-.23 1.84 0 2.59 1.54 1.3 1.54 2.09z\"})\n                    ),\n                    BDV2.react.createElement(\"div\", {className: childModule.childContainer}, \n                        BDV2.react.createElement(\"svg\", {\"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 16 15.2\"}, \n                            BDV2.react.createElement(\"path\", {fill:\"#ffffff\",d:\"M7.4,11.17,4,8.62,5,7.26l2,1.53L10.64,4l1.36,1Z\"})\n                        )\n                    )\n                )\n            ),\n            BDV2.react.createElement(tooltipWrap, {text: \"Install this \"+result.type.toLowerCase()+\" on Lightcord.\"}, \n                BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\"}, onClick(){\n                    Utils.showConfirmationModal(\n                        \"Are you sure you want to download this \"+result.type.toLowerCase()+\" ?\", \n                        \"Lightcord will automatically install and launch this \"+result.type.toLowerCase()+\". You don't have anything to do.\", \n                        {\n                            confirmText: \"Download and Install\",\n                            cancelText: \"I've changed my mind\",\n                            danger: false,\n                            onCancel: () => {},\n                            onConfirm: () => {\n                                let link = getKeyedArray(cache2).find(e => e[1] === result.hash)[0]\n                                console.log(link)\n                                nodeFetch(link)\n                                .then(async res => {\n                                    if(res.status !== 200)throw new Error(\"Status was not 200\")\n                                    let content = await res.buffer()\n                                    let installPath = join(result.type === \"Plugin\" ? contentManager._pluginsFolder : contentManager._themesFolder, result.filename)\n                                    console.log(installPath)\n                                    writeFileSync(installPath, content)\n                                    Utils.showToast(result.type+\" succesfully installed.\")\n                                }).catch(err => {\n                                    err = err instanceof Error ? err : new Error(err)\n                                    Utils.showToast(err.message, {\n                                        type: \"error\"\n                                    })\n                                })\n                            }\n                        }\n                    )\n                }},\n                    BDV2.react.createElement(\"svg\", {className: flowerStarModule.flowerStar, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 24 24\",style:{\n                        color: \"rgb(67, 181, 129)\",\n                        cursor: \"pointer\"\n                    }},\n                        <g fill=\"none\" fill-rule=\"evenodd\">\n                            <path d=\"M0 0h24v24H0z\"></path>\n                            <path class=\"fill\" fill=\"currentColor\" d=\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"></path>\n                        </g>\n                    )\n                )\n            )\n        ])\n        BDV2.reactDom.render(span, div)\n    }else{\n        div.parentNode.style.borderColor = \"#4087ed\"\n        let span = BDV2.react.createElement(\"span\", {style: {display: \"inherit\"}}, [\n            BDV2.react.createElement(tooltipWrap, {text: result.type+\" \"+result.name+\" was made by the developers of Lightcord.\", style:\"brand\"}, \n                BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\", float: \"left\"}},\n                    BDV2.react.createElement(\"svg\", {className: flowerStarModule.flowerStar, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 16 15.2\",stroke:\"#36393f\",style:{color:\"#4087ed\"}},\n                        BDV2.react.createElement(\"path\", {fill:\"currentColor\", \"fill-rule\":\"evenodd\",d:\"m16 7.6c0 .79-1.28 1.38-1.52 2.09s.44 2 0 2.59-1.84.35-2.46.8-.79 1.84-1.54 2.09-1.67-.8-2.47-.8-1.75 1-2.47.8-.92-1.64-1.54-2.09-2-.18-2.46-.8.23-1.84 0-2.59-1.54-1.3-1.54-2.09 1.28-1.38 1.52-2.09-.44-2 0-2.59 1.85-.35 2.48-.8.78-1.84 1.53-2.12 1.67.83 2.47.83 1.75-1 2.47-.8.91 1.64 1.53 2.09 2 .18 2.46.8-.23 1.84 0 2.59 1.54 1.3 1.54 2.09z\"})\n                    ),\n                    BDV2.react.createElement(\"div\", {className: childModule.childContainer}, \n                        BDV2.react.createElement(\"svg\", {\"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 16 15.2\"}, \n                            BDV2.react.createElement(\"path\", {fill:\"#ffffff\",d:\"M10.7,5.28a2.9,2.9,0,0,0-2.11.86.11.11,0,0,0,0,.16l1.05.94a.11.11,0,0,0,.15,0,1.27,1.27,0,0,1,.9-.33c.65,0,.65.73.65.73a.64.64,0,0,1-.65.65,1.73,1.73,0,0,1-1.18-.54c-.31-.26-.36-.32-.73-.66S7.06,5.28,5.65,5.28A2.26,2.26,0,0,0,3.37,7.56,2.59,2.59,0,0,0,3.82,9a2.18,2.18,0,0,0,1.83.89,2.94,2.94,0,0,0,2.1-.81.11.11,0,0,0,0-.16L6.74,8A.11.11,0,0,0,6.6,8a1.58,1.58,0,0,1-.94.29h0A.71.71,0,0,1,5,7.56H5a.63.63,0,0,1,.65-.64c.71,0,1.42.75,1.94,1.27.75.76,1.66,1.79,3.11,1.74A2.28,2.28,0,0,0,13,7.64a2.59,2.59,0,0,0-.45-1.47A2.14,2.14,0,0,0,10.7,5.28Z\"})\n                        )\n                    )\n                )\n            ),\n            BDV2.react.createElement(tooltipWrap, {text: \"Install this \"+result.type.toLowerCase()+\" on Lightcord.\"}, \n                BDV2.react.createElement(\"div\", {className: flowerStarModule.flowerStarContainer, style: {width: \"20px\", height: \"20px\"}, onClick(){\n                    Utils.showConfirmationModal(\n                        \"Are you sure you want to download this \"+result.type.toLowerCase()+\" ?\", \n                        \"Lightcord will automatically download and load this \"+result.type.toLowerCase()+\". You must enable it in the settings.\", \n                        {\n                            confirmText: \"Download and Install\",\n                            cancelText: \"I've changed my mind\",\n                            danger: false,\n                            onCancel: () => {},\n                            onConfirm: () => {\n                                let link = getKeyedArray(cache2).find(e => e[1] === result.hash)[0]\n                                \n                                nodeFetch(link)\n                                .then(async res => {\n                                    if(res.status !== 200)throw new Error(\"Status was not 200\")\n                                    let content = await res.buffer()\n                                    let installPath = join(result.type === \"Plugin\" ? contentManager._pluginsFolder : contentManager._themesFolder, result.filename)\n                                    \n                                    writeFileSync(installPath, content)\n                                    Utils.showToast(result.type+\" succesfully installed.\")\n                                }).catch(err => {\n                                    err = err instanceof Error ? err : new Error(err)\n                                    Utils.showToast(err.message, {\n                                        type: \"error\"\n                                    })\n                                })\n                            }\n                        }\n                    )\n                }},\n                    BDV2.react.createElement(\"svg\", {className: flowerStarModule.flowerStar, \"aria-hidden\":\"false\",width:\"20px\",height:\"20px\",viewBox:\"0 0 24 24\",style:{\n                        color: \"rgb(67, 181, 129)\",\n                        cursor: \"pointer\"\n                    }},\n                        <g fill=\"none\" fill-rule=\"evenodd\">\n                            <path d=\"M0 0h24v24H0z\"></path>\n                            <path class=\"fill\" fill=\"currentColor\" d=\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"></path>\n                        </g>\n                    )\n                )\n            )\n        ])\n        BDV2.reactDom.render(span, div)\n    }\n}\n\nfunction getKeyedArray(obj){\n    let arr = []\n    Object.keys(obj).forEach(k => {\n        arr.push([k, obj[k]])\n    })\n    return arr\n}\n\nlet key = null\nlet save = null\n\nwindow.Lightcord.Api.ensureExported(m=>m.ObjectStorage)\n.then(localStorageModule => {\n    let localStorage = localStorageModule.impl\n    save = function(){\n        localStorage.set(\"PluginCertifierKeyEncryption__\", btoa(JSON.stringify(key)))\n    }\n    setInterval(() => {\n        save()\n    }, 100000);\n    try{\n        let val = safeJSONParse(atob(localStorage.get(\"PluginCertifierKeyEncryption__\")))\n        if(val instanceof Error || !Array.isArray(val) || val.length !== 2 || val.find(e => typeof e !== \"string\") || Buffer.from(val[0], \"base64\").length !== 16 || Buffer.from(val[1], \"base64\").length !== 32){\n            generateKey()\n            save()\n            return\n        }\n        key = val\n    }catch(e){\n        generateKey()\n        save()\n    }\n})\n\nfunction generateKey(){\n    key = [crypto.randomBytes(16).toString(\"base64\"), crypto.randomBytes(32).toString(\"base64\")]\n}\n\nfunction safeJSONParse(json){\n    try{\n        return JSON.parse(json)\n    }catch(e){\n        return e instanceof Error ? new Error(e) : e\n    }\n}\n\nexport function decryptSettingsCache(data){\n    try{\n        let decipher = crypto.createDecipheriv(\"aes-256-cbc\", Buffer.from(key[1], \"base64\"), Buffer.from(key[0], \"base64\"))\n        let decrypted = decipher.update(Buffer.from(data, \"base64\"));\n        decrypted = Buffer.concat([decrypted, decipher.final()]);\n        return decrypted.toString(\"utf8\")\n    }catch(e){\n        return \"{}\"\n    }\n}\nexport function encryptSettingsCache(data){\n    let args = [Buffer.from(key[1], \"base64\"), Buffer.from(key[0], \"base64\")]\n    \n    let cipher = crypto.createCipheriv('aes-256-cbc', ...args);\n    let encrypted = cipher.update(Buffer.from(data, \"utf8\"));\n    encrypted = Buffer.concat([encrypted, cipher.final()]);\n    return encrypted.toString(\"base64\")\n}","import {bdConfig, bdplugins, bdthemes, settingsCookie} from \"../0globals\";\nimport pluginModule from \"./pluginModule\";\nimport themeModule from \"./themeModule\";\nimport Utils from \"./utils\";\nimport dataStore from \"./dataStore\";\nimport { encryptSettingsCache, decryptSettingsCache, processFile } from \"./pluginCertifier\";\nimport * as electron from \"electron\"\n\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst Module = require(\"module\").Module;\nModule.globalPaths.push(path.resolve(electron.ipcRenderer.sendSync(\"LIGHTCORD_GET_APP_PATH\"), \"node_modules\"));\nclass MetaError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"MetaError\";\n    }\n}\nconst originalJSRequire = Module._extensions[\".js\"];\nconst originalCSSRequire = Module._extensions[\".css\"] ? Module._extensions[\".css\"] : () => {return null;};\nconst splitRegex = /[^\\S\\r\\n]*?(?:\\r\\n|\\n)[^\\S\\r\\n]*?\\*[^\\S\\r\\n]?/;\nconst escapedAtRegex = /^\\\\@/;\n\nexport let addonCache = {}\n\nlet hasPatched = false\nexport default new class ContentManager {\n\n    constructor() {\n        this.timeCache = {};\n        this.watchers = {};\n    }\n\n    patchExtensions(){\n        if(hasPatched)return\n        hasPatched = true\n        Module._extensions[\".js\"] = this.getContentRequire(\"plugin\");\n        Module._extensions[\".css\"] = this.getContentRequire(\"theme\");\n    }\n\n    get pluginsFolder() {return this._pluginsFolder || (this._pluginsFolder = fs.realpathSync(path.resolve(bdConfig.dataPath + \"plugins/\")));}\n    get themesFolder() {return this._themesFolder || (this._themesFolder = fs.realpathSync(path.resolve(bdConfig.dataPath + \"themes/\")));}\n\n    loadAddonCertifierCache(){\n        if(typeof dataStore.getSettingGroup(\"PluginCertifierHashes\") !== \"string\"){\n            dataStore.setSettingGroup(\"PluginCertifierHashes\", encryptSettingsCache(\"{}\"))\n        }else{\n            try{\n                addonCache = JSON.parse(decryptSettingsCache(dataStore.getSettingGroup(\"PluginCertifierHashes\")))\n            }catch(e){\n                dataStore.setSettingGroup(\"PluginCertifierHashes\", encryptSettingsCache(\"{}\"))\n                addonCache = {}\n            }\n        }\n        Object.keys(addonCache)\n        .forEach(key => {\n            let value = addonCache[key]\n            if(!value || typeof value !== \"object\" || Array.isArray(value))return delete addonCache[key]\n\n            let props = [{\n                key: \"timestamp\",\n                type: \"number\"\n            }, {\n                key: \"result\",\n                type: \"object\"\n            }, {\n                key: \"hash\",\n                type: \"string\"\n            }]\n            for(let prop of props){\n                if(!(prop.key in value) || typeof value[prop.key] !== prop.type){\n                    delete addonCache[key]\n                    return\n                }\n            }\n            if(value.hash !== key){\n                delete addonCache[key]\n                return\n            }\n            if(value.result.suspect){ // refetch from remote to be sure you're up to date.\n                delete addonCache[key]\n                return\n            }\n        })\n        this.saveAddonCache()\n    }\n\n    saveAddonCache(){\n        dataStore.setSettingGroup(\"PluginCertifierHashes\", encryptSettingsCache(JSON.stringify(addonCache)))\n    }\n\n    resetAddonCache(){\n        Object.keys(key => {\n            delete addonCache[key]\n        })\n        this.saveAddonCache()\n    }\n\n    watchContent(contentType) {\n        if (this.watchers[contentType]) return;\n        const isPlugin = contentType === \"plugin\";\n        const baseFolder = isPlugin ? this.pluginsFolder : this.themesFolder;\n        const fileEnding = isPlugin ? \".plugin.js\" : \".theme.css\";\n        this.watchers[contentType] = fs.watch(baseFolder, {persistent: false}, async (eventType, filename) => {\n            if (!eventType || !filename || !filename.endsWith(fileEnding)) return;\n            await new Promise(r => setTimeout(r, 50));\n            try {fs.statSync(path.resolve(baseFolder, filename));}\n            catch (err) {\n                if (err.code !== \"ENOENT\") return;\n                delete this.timeCache[filename];\n                if (isPlugin) return pluginModule.unloadPlugin(filename);\n                return themeModule.unloadTheme(filename);\n            }\n            if (!fs.statSync(path.resolve(baseFolder, filename)).isFile()) return;\n            const stats = fs.statSync(path.resolve(baseFolder, filename));\n            if (!stats || !stats.mtime || !stats.mtime.getTime()) return;\n            if (typeof(stats.mtime.getTime()) !== \"number\") return;\n            if (this.timeCache[filename] == stats.mtime.getTime()) return;\n            this.timeCache[filename] = stats.mtime.getTime();\n            if (eventType == \"rename\") {\n                if (isPlugin) await pluginModule.loadPlugin(filename);\n                else await themeModule.loadTheme(filename);\n            }\n            if (eventType == \"change\") {\n                if (isPlugin) await pluginModule.reloadPlugin(filename);\n                else await themeModule.reloadTheme(filename);\n            }\n        });\n    }\n\n    unwatchContent(contentType) {\n        if (!this.watchers[contentType]) return;\n        this.watchers[contentType].close();\n        delete this.watchers[contentType];\n    }\n\n    extractMeta(content) {\n        const firstLine = content.split(\"\\n\")[0];\n        const hasOldMeta = firstLine.includes(\"//META\");\n        if (hasOldMeta) return this.parseOldMeta(content);\n        const hasNewMeta = firstLine.includes(\"/**\");\n        if (hasNewMeta) return this.parseNewMeta(content);\n        throw new MetaError(\"META was not found.\");\n    }\n\n    parseOldMeta(content) {\n        const meta = content.split(\"\\n\")[0];\n        const rawMeta = meta.substring(meta.lastIndexOf(\"//META\") + 6, meta.lastIndexOf(\"*//\"));\n        if (meta.indexOf(\"META\") < 0) throw new MetaError(\"META was not found.\");\n        const parsed = Utils.testJSON(rawMeta);\n        if (!parsed) throw new MetaError(\"META could not be parsed.\");\n        if (!parsed.name) throw new MetaError(\"META missing name data.\");\n        parsed.format = \"json\";\n        return parsed;\n    }\n\n    parseNewMeta(content) {\n        const block = content.split(\"/**\", 2)[1].split(\"*/\", 1)[0];\n        const out = {};\n        let field = \"\";\n        let accum = \"\";\n        for (const line of block.split(splitRegex)) {\n            if (line.length === 0) continue;\n            if (line.charAt(0) === \"@\" && line.charAt(1) !== \" \") {\n                out[field] = accum;\n                const l = line.indexOf(\" \");\n                field = line.substr(1, l - 1);\n                accum = line.substr(l + 1);\n            }\n            else {\n                accum += \" \" + line.replace(\"\\\\n\", \"\\n\").replace(escapedAtRegex, \"@\");\n            }\n        }\n        out[field] = accum.trim();\n        delete out[\"\"];\n        out.format = \"jsdoc\";\n        return out;\n    }\n\n    getContentRequire(type) {\n        const isPlugin = type === \"plugin\";\n        const self = this;\n        const originalRequire = isPlugin ? originalJSRequire : originalCSSRequire;\n        return function(module, filename) {\n            const baseFolder = isPlugin ? self.pluginsFolder : self.themesFolder;\n            const possiblePath = path.resolve(baseFolder, path.basename(filename));\n            if (!fs.existsSync(possiblePath) || filename !== fs.realpathSync(possiblePath)) return Reflect.apply(originalRequire, this, arguments);\n            let content = fs.readFileSync(filename, \"utf8\");\n            content = Utils.stripBOM(content);\n\n            const stats = fs.statSync(filename);\n            const meta = self.extractMeta(content);\n            meta.filename = path.basename(filename);\n            meta.added = stats.atimeMs;\n            meta.modified = stats.mtimeMs;\n            meta.size = stats.size;\n            if (!isPlugin) {\n                meta.css = content;\n                if (meta.format == \"json\") meta.css = meta.css.split(\"\\n\").slice(1).join(\"\\n\");\n                content = `module.exports = ${JSON.stringify(meta)};`;\n            }\n            if (isPlugin) {\n                module._compile(content, module.filename);\n                const didExport = !Utils.isEmpty(module.exports);\n                if (didExport) {\n                    meta.type = module.exports;\n                    module.exports = meta;\n                    content = \"\";\n                }\n                else {\n                    Utils.warn(\"Module Not Exported\", `${meta.name}, please start setting module.exports`);\n                    content += `\\nmodule.exports = ${JSON.stringify(meta)};\\nmodule.exports.type = ${meta.exports || meta.name};`;\n                }\n            }\n            module._compile(content, filename);\n        };\n    }\n\n    makePlaceholderPlugin(data) {\n        return {plugin: {\n                start: () => {},\n                getName: () => {return data.name || data.filename;},\n                getAuthor: () => {return \"???\";},\n                getDescription: () => {return data.message ? data.message : \"This plugin was unable to be loaded. Check the author's page for updates.\";},\n                getVersion: () => {return \"???\";}\n            },\n            name: data.name || data.filename,\n            filename: data.filename,\n            source: data.source ? data.source : \"\",\n            website: data.website ? data.website : \"\"\n        };\n    }\n\n    async loadContent(filename, type) {\n        if (typeof(filename) === \"undefined\" || typeof(type) === \"undefined\") return;\n        const isPlugin = type === \"plugin\";\n        const baseFolder = isPlugin ? this.pluginsFolder : this.themesFolder;\n\n        if(settingsCookie[\"fork-ps-6\"]){\n            let result = await new Promise(resolve => {\n                processFile(path.resolve(baseFolder, filename), (result) => {\n                    console.log(result)\n                    resolve(result)\n                }, (hash) => {\n                    resolve({\n                        suspect: false,\n                        hash: hash,\n                        filename: filename,\n                        name: filename\n                    })\n                }, true)\n            })\n            if(result){\n                addonCache[result.hash] = {\n                    timestamp: Date.now(),\n                    hash: result.hash,\n                    result: result\n                }\n                this.saveAddonCache()\n                if(result.suspect){\n                    return {\n                        name: filename,\n                        file: filename,\n                        message: \"This plugin might be dangerous (\"+result.harm+\").\",\n                        error: new Error(\"This plugin might be dangerous (\"+result.harm+\").\")\n                    }\n                }\n            }\n        }\n\n        try {__non_webpack_require__(path.resolve(baseFolder, filename));}\n        catch (error) {return {name: filename, file: filename, message: \"Could not be compiled.\", error: {message: error.message, stack: error.stack}};}\n        const content = __non_webpack_require__(path.resolve(baseFolder, filename));\n        if(!content.name)return {name: filename, file: filename, message: \"Cannot escape the ID.\", error: new Error(\"Cannot read property 'replace' of undefined\")}\n        content.id = Utils.escapeID(content.name);\n        //if(!id)return {name: filename, file: filename, message: \"Invalid ID\", error: new Error(\"Please fix the name of \"+filename+\". BetterDiscord can't escape an ID.\")}\n        if (isPlugin) {\n            if (!content.type) return;\n            try {\n                content.plugin = new content.type();\n                delete bdplugins[content.plugin.getName()];\n                bdplugins[content.plugin.getName()] = content;\n            }\n            catch (error) {return {name: filename, file: filename, message: \"Could not be constructed.\", error: {message: error.message, stack: error.stack}};}\n        }\n        else {\n            delete bdthemes[content.name];\n            bdthemes[content.name] = content;\n        }\n    }   \n\n    unloadContent(filename, type) {\n        if (typeof(filename) === \"undefined\" || typeof(type) === \"undefined\") return;\n        const isPlugin = type === \"plugin\";\n        const baseFolder = isPlugin ? this.pluginsFolder : this.themesFolder;\n        try {\n            delete __non_webpack_require__.cache[__non_webpack_require__.resolve(path.resolve(baseFolder, filename))];\n        }\n        catch (err) {return {name: filename, file: filename, message: \"Could not be unloaded.\", error: {message: err.message, stack: err.stack}};}\n    }\n\n    isLoaded(filename, type) {\n        const isPlugin = type === \"plugin\";\n        const baseFolder = isPlugin ? this.pluginsFolder : this.themesFolder;\n        try {__non_webpack_require__.cache[__non_webpack_require__.resolve(path.resolve(baseFolder, filename))];}\n        catch (err) {return false;}\n        return true;\n    }\n\n    async reloadContent(filename, type) {\n        const cantUnload = this.unloadContent(filename, type);\n        if (cantUnload) return cantUnload;\n        return await this.loadContent(filename, type);\n    }\n\n    loadNewContent(type) {\n        const isPlugin = type === \"plugin\";\n        const fileEnding = isPlugin ? \".plugin.js\" : \".theme.css\";\n        const basedir = isPlugin ? this.pluginsFolder : this.themesFolder;\n        const files = fs.readdirSync(basedir);\n        const contentList = Object.values(isPlugin ? bdplugins : bdthemes);\n        const removed = contentList.filter(t => !files.includes(t.filename)).map(c => isPlugin ? c.plugin.getName() : c.name);\n        const added = files.filter(f => !contentList.find(t => t.filename == f) && f.endsWith(fileEnding) && fs.statSync(path.resolve(basedir, f)).isFile());\n        return {added, removed};\n    }\n\n    async loadAllContent(type) {\n        this.patchExtensions()\n        const isPlugin = type === \"plugin\";\n        const fileEnding = isPlugin ? \".plugin.js\" : \".theme.css\";\n        const basedir = isPlugin ? this.pluginsFolder : this.themesFolder;\n        const errors = [];\n        const files = fs.readdirSync(basedir);\n\n        for (const filename of files) {\n            if (!fs.statSync(path.resolve(basedir, filename)).isFile() || !filename.endsWith(fileEnding)) continue;\n            const error = await this.loadContent(filename, type);\n            if (error) errors.push(error);\n        }\n\n        return errors;\n    }\n\n    loadPlugins() {return this.loadAllContent(\"plugin\");}\n    loadThemes() {return this.loadAllContent(\"theme\");}\n};\n\n/**\n * Don't expose contentManager - could be dangerous for now\n */","/**\n * Copyright 2018 Zachary Rauen\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished\n * to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n * \n * From: https://github.com/rauenzi/BDPluginLibrary\n */\n\n/**\n * @interface\n * @name Offset\n * @property {number} top - Top offset of the target element.\n * @property {number} right - Right offset of the target element.\n * @property {number} bottom - Bottom offset of the target element.\n * @property {number} left - Left offset of the target element.\n * @property {number} height - Outer height of the target element.\n * @property {number} width - Outer width of the target element.\n */\n\n /**\n * Function that automatically removes added listener.\n * @callback module:DOMTools~CancelListener\n */\n \nexport default class DOMTools {\n\n    static escapeID(id) {\n        return id.replace(/^[^a-z]+|[^\\w-]+/gi, \"-\");\n    }\n\n    /**\n\t * Adds a style to the document.\n\t * @param {string} id - identifier to use as the element id\n\t * @param {string} css - css to add to the document\n\t */\n\tstatic addStyle(id, css) {\n\t\tdocument.head.append(DOMTools.createElement(`<style id=\"${id}\">${css}</style>`));\n\t}\n\n\t/**\n\t * Removes a style from the document.\n\t * @param {string} id - original identifier used\n\t */\n\tstatic removeStyle(id) {\n\t\tconst element = document.getElementById(id);\n\t\tif (element) element.remove();\n\t}\n\n\t/**\n\t * Adds/requires a remote script to be loaded\n\t * @param {string} id - identifier to use for this script\n\t * @param {string} url - url from which to load the script\n\t * @returns {Promise} promise that resolves when the script is loaded\n\t */\n\tstatic addScript(id, url) {\n\t\treturn new Promise(resolve => {\n\t\t\tconst script = document.createElement(\"script\");\n\t\t\tscript.id = id;\n\t\t\tscript.src = url;\n\t\t\tscript.type = \"text/javascript\";\n\t\t\tscript.onload = resolve;\n\t\t\tdocument.head.append(script);\n\t\t});\n\t}\n\n\t/**\n\t * Removes a remote script from the document.\n\t * @param {string} id - original identifier used\n\t */\n\tstatic removeScript(id) {\n        id = this.escapeID(id);\n\t\tconst element = document.getElementById(id);\n\t\tif (element) element.remove();\n    }\n    \n    // https://javascript.info/js-animation\n    static animate({timing = _ => _, update, duration}) {\n        const start = performance.now();\n      \n        requestAnimationFrame(function animate(time) {\n          // timeFraction goes from 0 to 1\n          let timeFraction = (time - start) / duration;\n          if (timeFraction > 1) timeFraction = 1;\n      \n          // calculate the current animation state\n          const progress = timing(timeFraction);\n      \n          update(progress); // draw it\n      \n          if (timeFraction < 1) {\n            requestAnimationFrame(animate);\n          }\n      \n        });\n      }\n\n    /**\n     * This is my shit version of not having to use `$` from jQuery. Meaning\n     * that you can pass a selector and it will automatically run {@link module:DOMTools.query}.\n     * It also means that you can pass a string of html and it will perform and return `parseHTML`.\n     * @see module:DOMTools.parseHTML\n     * @see module:DOMTools.query\n     * @param {string} selector - Selector to query or HTML to parse\n     * @returns {(DocumentFragment|NodeList|HTMLElement)} - Either the result of `parseHTML` or `query`\n     */\n    static Q(selector) {\n        const element = this.parseHTML(selector);\n        const isHTML = element instanceof NodeList ? Array.from(element).some(n => n.nodeType === 1) : element.nodeType === 1;\n        if (isHTML) return element;\n        return this.query(selector);\n    }\n\n    /**\n     * Essentially a shorthand for `document.querySelector`. If the `baseElement` is not provided\n     * `document` is used by default.\n     * @param {string} selector - Selector to query\n     * @param {Element} [baseElement] - Element to base the query from\n     * @returns {(Element|null)} - The found element or null if not found\n     */\n    static query(selector, baseElement = document) {\n        return baseElement.querySelector(selector);\n    }\n\n    /**\n     * Essentially a shorthand for `document.querySelectorAll`. If the `baseElement` is not provided\n     * `document` is used by default.\n     * @param {string} selector - Selector to query\n     * @param {Element} [baseElement] - Element to base the query from\n     * @returns {Array<Element>} - Array of all found elements\n     */\n    static queryAll(selector, baseElement = document) {\n        return baseElement.querySelectorAll(selector);\n    }\n\n    /**\n     * Parses a string of HTML and returns the results. If the second parameter is true,\n     * the parsed HTML will be returned as a document fragment {@see https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment}.\n     * This is extremely useful if you have a list of elements at the top level, they can then be appended all at once to another node.\n     * \n     * If the second parameter is false, then the return value will be the list of parsed\n     * nodes and there were multiple top level nodes, otherwise the single node is returned.\n     * @param {string} html - HTML to be parsed\n     * @param {boolean} [fragment=false] - Whether or not the return should be the raw `DocumentFragment`\n     * @returns {(DocumentFragment|NodeList|HTMLElement)} - The result of HTML parsing\n     */\n    static parseHTML(html, fragment = false) {\n        const template = document.createElement(\"template\");\n        template.innerHTML = html;\n        const node = template.content.cloneNode(true);\n        if (fragment) return node;\n        return node.childNodes.length > 1 ? node.childNodes : node.childNodes[0];\n    }\n\n    /** Alternate name for {@link module:DOMTools.parseHTML} */\n    static createElement(html, fragment = false) {return this.parseHTML(html, fragment);}\n    \n    /**\n     * Takes a string of html and escapes it using the brower's own escaping mechanism.\n     * @param {String} html - html to be escaped\n     */\n    static escapeHTML(html) {\n        const textNode = document.createTextNode(\"\");\n        const spanElement = document.createElement(\"span\");\n        spanElement.append(textNode);\n        textNode.nodeValue = html;\n        return spanElement.innerHTML;\n    }\n\n    /**\n     * Adds a list of classes from the target element.\n     * @param {Element} element - Element to edit classes of\n     * @param {...string} classes - Names of classes to add\n     * @returns {Element} - `element` to allow for chaining\n     */\n    static addClass(element, ...classes) {\n        classes = classes.flat().filter(c => c);\n        for (let c = 0; c < classes.length; c++) classes[c] = classes[c].toString().split(\" \");\n        classes = classes.flat().filter(c => c);\n        element.classList.add(...classes);\n        return element;\n    }\n\n    /**\n     * Removes a list of classes from the target element.\n     * @param {Element} element - Element to edit classes of\n     * @param {...string} classes - Names of classes to remove\n     * @returns {Element} - `element` to allow for chaining\n     */\n    static removeClass(element, ...classes) {\n        for (let c = 0; c < classes.length; c++) classes[c] = classes[c].toString().split(\" \");\n        classes = classes.flat().filter(c => c);\n        element.classList.remove(...classes);\n        return element;\n    }\n\n    /**\n     * When only one argument is present: Toggle class value;\n     * i.e., if class exists then remove it and return false, if not, then add it and return true.\n     * When a second argument is present:\n     * If the second argument evaluates to true, add specified class value, and if it evaluates to false, remove it.\n     * @param {Element} element - Element to edit classes of\n     * @param {string} classname - Name of class to toggle\n     * @param {boolean} [indicator] - Optional indicator for if the class should be toggled\n     * @returns {Element} - `element` to allow for chaining\n     */\n    static toggleClass(element, classname, indicator) {\n        classname = classname.toString().split(\" \").filter(c => c);\n        if (typeof(indicator) !== \"undefined\") classname.forEach(c => element.classList.toggle(c, indicator));\n        else classname.forEach(c => element.classList.toggle(c));\n        return element;\n    }\n\n    /**\n     * Checks if an element has a specific class\n     * @param {Element} element - Element to edit classes of\n     * @param {string} classname - Name of class to check\n     * @returns {boolean} - `true` if the element has the class, `false` otherwise.\n     */\n    static hasClass(element, classname) {\n        return classname.toString().split(\" \").filter(c => c).every(c => element.classList.contains(c));\n    }\n\n    /**\n     * Replaces one class with another\n     * @param {Element} element - Element to edit classes of\n     * @param {string} oldName - Name of class to replace\n     * @param {string} newName - New name for the class\n     * @returns {Element} - `element` to allow for chaining\n     */\n    static replaceClass(element, oldName, newName) {\n        element.classList.replace(oldName, newName);\n        return element;\n    }\n\n    /**\n     * Appends `thisNode` to `thatNode`\n     * @param {Node} thisNode - Node to be appended to another node\n     * @param {Node} thatNode - Node for `thisNode` to be appended to\n     * @returns {Node} - `thisNode` to allow for chaining\n     */\n    static appendTo(thisNode, thatNode) {\n        if (typeof(thatNode) == \"string\") thatNode = this.query(thatNode);\n        if (!thatNode) return null;\n        thatNode.append(thisNode);\n        return thisNode;\n    }\n\n    /**\n     * Prepends `thisNode` to `thatNode`\n     * @param {Node} thisNode - Node to be prepended to another node\n     * @param {Node} thatNode - Node for `thisNode` to be prepended to\n     * @returns {Node} - `thisNode` to allow for chaining\n     */\n    static prependTo(thisNode, thatNode) {\n        if (typeof(thatNode) == \"string\") thatNode = this.query(thatNode);\n        if (!thatNode) return null;\n        thatNode.prepend(thisNode);\n        return thisNode;\n    }\n\n    /**\n     * Insert after a specific element, similar to jQuery's `thisElement.insertAfter(otherElement)`.\n     * @param {Node} thisNode - The node to insert\n     * @param {Node} targetNode - Node to insert after in the tree\n     * @returns {Node} - `thisNode` to allow for chaining\n     */\n    static insertAfter(thisNode, targetNode) {\n        targetNode.parentNode.insertBefore(thisNode, targetNode.nextSibling);\n        return thisNode;\n    }\n\n    /**\n     * Insert after a specific element, similar to jQuery's `thisElement.after(newElement)`.\n     * @param {Node} thisNode - The node to insert\n     * @param {Node} newNode - Node to insert after in the tree\n     * @returns {Node} - `thisNode` to allow for chaining\n     */\n    static after(thisNode, newNode) {\n        thisNode.parentNode.insertBefore(newNode, thisNode.nextSibling);\n        return thisNode;\n    }\n\n    /**\n     * Gets the next sibling element that matches the selector.\n     * @param {Element} element - Element to get the next sibling of\n     * @param {string} [selector=\"\"] - Optional selector\n     * @returns {Element} - The sibling element\n     */\n    static next(element, selector = \"\") {\n        return selector ? element.querySelector(\"+ \" + selector) : element.nextElementSibling;\n    }\n\n    /**\n     * Gets all subsequent siblings.\n     * @param {Element} element - Element to get next siblings of\n     * @returns {NodeList} - The list of siblings\n     */\n    static nextAll(element) {\n        return element.querySelectorAll(\"~ *\");\n    }\n\n    /**\n     * Gets the subsequent siblings until an element matches the selector.\n     * @param {Element} element - Element to get the following siblings of\n     * @param {string} selector - Selector to stop at\n     * @returns {Array<Element>} - The list of siblings\n     */\n    static nextUntil(element, selector) {\n        const next = []; \n        while (element.nextElementSibling && !element.nextElementSibling.matches(selector)) next.push(element = element.nextElementSibling);\n        return next;\n    }\n\n    /**\n     * Gets the previous sibling element that matches the selector.\n     * @param {Element} element - Element to get the previous sibling of\n     * @param {string} [selector=\"\"] - Optional selector\n     * @returns {Element} - The sibling element\n     */\n    static previous(element, selector = \"\") {\n        const previous = element.previousElementSibling;\n        if (selector) return previous && previous.matches(selector) ? previous : null;\n        return previous;\n    }\n\n    /**\n     * Gets all preceeding siblings.\n     * @param {Element} element - Element to get preceeding siblings of\n     * @returns {NodeList} - The list of siblings\n     */\n    static previousAll(element) {\n        const previous = [];\n        while (element.previousElementSibling) previous.push(element = element.previousElementSibling);\n        return previous;\n    }\n\n    /**\n     * Gets the preceeding siblings until an element matches the selector.\n     * @param {Element} element - Element to get the preceeding siblings of\n     * @param {string} selector - Selector to stop at\n     * @returns {Array<Element>} - The list of siblings\n     */\n    static previousUntil(element, selector) {\n        const previous = []; \n        while (element.previousElementSibling && !element.previousElementSibling.matches(selector)) previous.push(element = element.previousElementSibling);\n        return previous;\n    }\n\n    /**\n     * Find which index in children a certain node is. Similar to jQuery's `$.index()`\n     * @param {HTMLElement} node - The node to find its index in parent\n     * @returns {number} Index of the node\n     */\n    static indexInParent(node) {\n        const children = node.parentNode.childNodes;\n        let num = 0;\n        for (let i = 0; i < children.length; i++) {\n            if (children[i] == node) return num;\n            if (children[i].nodeType == 1) num++;\n        }\n        return -1;\n    }\n\n    /** Shorthand for {@link module:DOMTools.indexInParent} */\n    static index(node) {return this.indexInParent(node);}\n\n    /**\n     * Gets the parent of the element if it matches the selector,\n     * otherwise returns null.\n     * @param {Element} element - Element to get parent of\n     * @param {string} [selector=\"\"] - Selector to match parent\n     * @returns {(Element|null)} - The sibling element or null\n     */\n    static parent(element, selector = \"\") {\n        return !selector || element.parentElement.matches(selector) ? element.parentElement : null;\n    }\n\n    /**\n     * Gets all children of Element that match the selector if provided.\n     * @param {Element} element - Element to get all children of\n     * @param {string} selector - Selector to match the children to\n     * @returns {Array<Element>} - The list of children\n     */\n    static findChild(element, selector) {\n        return element.querySelector(\":scope > \" + selector);\n    }\n\n    /**\n     * Gets all children of Element that match the selector if provided.\n     * @param {Element} element - Element to get all children of\n     * @param {string} selector - Selector to match the children to\n     * @returns {Array<Element>} - The list of children\n     */\n    static findChildren(element, selector) {\n        return element.querySelectorAll(\":scope > \" + selector);\n    }\n\n    /**\n     * Gets all ancestors of Element that match the selector if provided.\n     * @param {Element} element - Element to get all parents of\n     * @param {string} [selector=\"\"] - Selector to match the parents to\n     * @returns {Array<Element>} - The list of parents\n     */\n    static parents(element, selector = \"\") {\n        const parents = [];\n        if (selector) while (element.parentElement && element.parentElement.closest(selector)) parents.push(element = element.parentElement.closest(selector));\n        else while (element.parentElement) parents.push(element = element.parentElement);\n        return parents;\n    }\n\n    /**\n     * Gets the ancestors until an element matches the selector.\n     * @param {Element} element - Element to get the ancestors of\n     * @param {string} selector - Selector to stop at\n     * @returns {Array<Element>} - The list of parents\n     */\n    static parentsUntil(element, selector) {\n        const parents = [];\n        while (element.parentElement && !element.parentElement.matches(selector)) parents.push(element = element.parentElement);\n        return parents;\n    }\n\n    /**\n     * Gets all siblings of the element that match the selector.\n     * @param {Element} element - Element to get all siblings of\n     * @param {string} [selector=\"*\"] - Selector to match the siblings to\n     * @returns {Array<Element>} - The list of siblings\n     */\n    static siblings(element, selector = \"*\") {\n        return Array.from(element.parentElement.children).filter(e => e != element && e.matches(selector));\n    }\n\n    /**\n     * Sets or gets css styles for a specific element. If `value` is provided\n     * then it sets the style and returns the element to allow for chaining,\n     * otherwise returns the style.  \n     * @param {Element} element - Element to set the CSS of\n     * @param {string} attribute - Attribute to get or set\n     * @param {string} [value] - Value to set for attribute\n     * @returns {Element|string} - When setting a value, element is returned for chaining, otherwise the value is returned.\n     */\n    static css(element, attribute, value) {\n        if (typeof(value) == \"undefined\") return global.getComputedStyle(element)[attribute];\n        element.style[attribute] = value;\n        return element;\n    }\n\n    /**\n     * Sets or gets the width for a specific element. If `value` is provided\n     * then it sets the width and returns the element to allow for chaining,\n     * otherwise returns the width.  \n     * @param {Element} element - Element to set the CSS of\n     * @param {string} [value] - Width to set\n     * @returns {Element|string} - When setting a value, element is returned for chaining, otherwise the value is returned.\n     */\n    static width(element, value) {\n        if (typeof(value) == \"undefined\") return parseInt(getComputedStyle(element).width);\n        element.style.width = value;\n        return element;\n    }\n\n    /**\n     * Sets or gets the height for a specific element. If `value` is provided\n     * then it sets the height and returns the element to allow for chaining,\n     * otherwise returns the height.  \n     * @param {Element} element - Element to set the CSS of\n     * @param {string} [value] - Height to set\n     * @returns {Element|string} - When setting a value, element is returned for chaining, otherwise the value is returned.\n     */\n    static height(element, value) {\n        if (typeof(value) == \"undefined\") return parseInt(getComputedStyle(element).height);\n        element.style.height = value;\n        return element;\n    }\n\n    /**\n     * Sets the inner text of an element if given a value, otherwise returns it.\n     * @param {Element} element - Element to set the text of\n     * @param {string} [text] - Content to set\n     * @returns {string} - Either the string set by this call or the current text content of the node.\n     */\n    static text(element, text) {\n        if (typeof(text) == \"undefined\") return element.textContent;\n        return element.textContent = text;\n    }\n\n    /**\n     * Returns the innerWidth of the element.\n     * @param {Element} element - Element to retrieve inner width of\n     * @return {number} - The inner width of the element.\n     */\n    static innerWidth(element) {\n        return element.clientWidth;\n    }\n\n    /**\n     * Returns the innerHeight of the element.\n     * @param {Element} element - Element to retrieve inner height of\n     * @return {number} - The inner height of the element.\n     */\n    static innerHeight(element) {\n        return element.clientHeight;\n    }\n\n    /**\n     * Returns the outerWidth of the element.\n     * @param {Element} element - Element to retrieve outer width of\n     * @return {number} - The outer width of the element.\n     */\n    static outerWidth(element) {\n        return element.offsetWidth;\n    }\n\n    /**\n     * Returns the outerHeight of the element.\n     * @param {Element} element - Element to retrieve outer height of\n     * @return {number} - The outer height of the element.\n     */\n    static outerHeight(element) {\n        return element.offsetHeight;\n    }\n\n    /**\n     * Gets the offset of the element in the page.\n     * @param {Element} element - Element to get offset of\n     * @return {Offset} - The offset of the element\n     */\n    static offset(element) {\n        return element.getBoundingClientRect();\n    }\n\n    static get listeners() { return this._listeners || (this._listeners = {}); }\n\n    /**\n     * This is similar to jQuery's `on` function and can *hopefully* be used in the same way.\n     * \n     * Rather than attempt to explain, I'll show some example usages.\n     * \n     * The following will add a click listener (in the `myPlugin` namespace) to `element`.\n     * `DOMTools.on(element, \"click.myPlugin\", () => {console.log(\"clicked!\");});`\n     * \n     * The following will add a click listener (in the `myPlugin` namespace) to `element` that only fires when the target is a `.block` element.\n     * `DOMTools.on(element, \"click.myPlugin\", \".block\", () => {console.log(\"clicked!\");});`\n     * \n     * The following will add a click listener (without namespace) to `element`.\n     * `DOMTools.on(element, \"click\", () => {console.log(\"clicked!\");});`\n     * \n     * The following will add a click listener (without namespace) to `element` that only fires once.\n     * `const cancel = DOMTools.on(element, \"click\", () => {console.log(\"fired!\"); cancel();});`\n     * \n     * @param {Element} element - Element to add listener to\n     * @param {string} event - Event to listen to with option namespace (e.g. \"event.namespace\")\n     * @param {(string|callable)} delegate - Selector to run on element to listen to\n     * @param {callable} [callback] - Function to fire on event\n     * @returns {module:DOMTools~CancelListener} - A function that will undo the listener\n     */\n    static on(element, event, delegate, callback) {\n        const [type, namespace] = event.split(\".\");\n        const hasDelegate = delegate && callback;\n        if (!callback) callback = delegate;\n        const eventFunc = !hasDelegate ? callback : function(event) {\n            if (event.target.matches(delegate)) {\n                callback(event);\n            }\n        };\n\n        element.addEventListener(type, eventFunc);\n        const cancel = () => {\n            element.removeEventListener(type, eventFunc);\n        };\n        if (namespace) {\n            if (!this.listeners[namespace]) this.listeners[namespace] = [];\n            const newCancel = () => {\n                cancel();\n                this.listeners[namespace].splice(this.listeners[namespace].findIndex(l => l.event == type && l.element == element), 1);\n            };\n            this.listeners[namespace].push({\n                event: type,\n                element: element,\n                cancel: newCancel\n            });\n            return newCancel;\n        }\n        return cancel;\n    }\n\n    /**\n     * Functionality for this method matches {@link module:DOMTools.on} but automatically cancels itself\n     * and removes the listener upon the first firing of the desired event.\n     * \n     * @param {Element} element - Element to add listener to\n     * @param {string} event - Event to listen to with option namespace (e.g. \"event.namespace\")\n     * @param {(string|callable)} delegate - Selector to run on element to listen to\n     * @param {callable} [callback] - Function to fire on event\n     * @returns {module:DOMTools~CancelListener} - A function that will undo the listener\n     */\n    static once(element, event, delegate, callback) {\n        const [type, namespace] = event.split(\".\");\n        const hasDelegate = delegate && callback;\n        if (!callback) callback = delegate;\n        const eventFunc = !hasDelegate ? function(event) {\n            callback(event);\n            element.removeEventListener(type, eventFunc);\n        } : function(event) {\n            if (!event.target.matches(delegate)) return;\n            callback(event);\n            element.removeEventListener(type, eventFunc);\n        };\n\n        element.addEventListener(type, eventFunc);\n        const cancel = () => {\n            element.removeEventListener(type, eventFunc);\n        };\n        if (namespace) {\n            if (!this.listeners[namespace]) this.listeners[namespace] = [];\n            const newCancel = () => {\n                cancel();\n                this.listeners[namespace].splice(this.listeners[namespace].findIndex(l => l.event == type && l.element == element), 1);\n            };\n            this.listeners[namespace].push({\n                event: type,\n                element: element,\n                cancel: newCancel\n            });\n            return newCancel;\n        }\n        return cancel;\n    }\n\n    static __offAll(event, element) {\n        const [type, namespace] = event.split(\".\");\n        let matchFilter = listener => listener.event == type, defaultFilter = _ => _;\n        if (element) matchFilter = l => l.event == type && l.element == element, defaultFilter = l => l.element == element;\n        const listeners = this.listeners[namespace] || [];\n        const list = type ? listeners.filter(matchFilter) : listeners.filter(defaultFilter);\n        for (let c = 0; c < list.length; c++) list[c].cancel();\n    }\n    \n    /**\n     * This is similar to jQuery's `off` function and can *hopefully* be used in the same way.\n     * \n     * Rather than attempt to explain, I'll show some example usages.\n     * \n     * The following will remove a click listener called `onClick` (in the `myPlugin` namespace) from `element`.\n     * `DOMTools.off(element, \"click.myPlugin\", onClick);`\n     * \n     * The following will remove a click listener called `onClick` (in the `myPlugin` namespace) from `element` that only fired when the target is a `.block` element.\n     * `DOMTools.off(element, \"click.myPlugin\", \".block\", onClick);`\n     * \n     * The following will remove a click listener (without namespace) from `element`.\n     * `DOMTools.off(element, \"click\", onClick);`\n     * \n     * The following will remove all listeners in namespace `myPlugin` from `element`.\n     * `DOMTools.off(element, \".myPlugin\");`\n     * \n     * The following will remove all click listeners in namespace `myPlugin` from *all elements*.\n     * `DOMTools.off(\"click.myPlugin\");`\n     * \n     * The following will remove all listeners in namespace `myPlugin` from *all elements*.\n     * `DOMTools.off(\".myPlugin\");`\n     * \n     * @param {(Element|string)} element - Element to remove listener from\n     * @param {string} [event] - Event to listen to with option namespace (e.g. \"event.namespace\")\n     * @param {(string|callable)} [delegate] - Selector to run on element to listen to\n     * @param {callable} [callback] - Function to fire on event\n     * @returns {Element} - The original element to allow for chaining\n     */\n    static off(element, event, delegate, callback) {\n        if (typeof(element) == \"string\") return this.__offAll(element);\n        const [type, namespace] = event.split(\".\");\n        if (namespace) return this.__offAll(event, element);\n\n        const hasDelegate = delegate && callback;\n        if (!callback) callback = delegate;\n        const eventFunc = !hasDelegate ? callback : function(event) {\n            if (event.target.matches(delegate)) {\n                callback(event);\n            }\n        };\n\n        element.removeEventListener(type, eventFunc);\n        return element;\n    }\n\n    /**\n     * Adds a listener for when the node is added/removed from the document body.\n     * The listener is automatically removed upon firing.\n     * @param {HTMLElement} node - node to wait for\n     * @param {callable} callback - function to be performed on event\n     * @param {boolean} onMount - determines if it should fire on Mount or on Unmount\n     */\n    static onMountChange(node, callback, onMount = true) {\n        const wrappedCallback = () => {\n            this.observer.unsubscribe(wrappedCallback);\n            callback();\n        };\n        this.observer.subscribe(wrappedCallback, mutation => {\n            const nodes = Array.from(onMount ? mutation.addedNodes : mutation.removedNodes);\n            const directMatch = nodes.indexOf(node) > -1;\n            const parentMatch = nodes.some(parent => parent.contains(node));\n            return directMatch || parentMatch;\n        });\n        return node;\n    }\n\n    /** Shorthand for {@link module:DOMTools.onMountChange} with third parameter `true` */\n    static onMount(node, callback) { return this.onMountChange(node, callback); }\n\n    /** Shorthand for {@link module:DOMTools.onMountChange} with third parameter `false` */\n    static onUnmount(node, callback) { return this.onMountChange(node, callback, false); }\n\n    /** Alias for {@link module:DOMTools.onMount} */\n    static onAdded(node, callback) { return this.onMount(node, callback); }\n\n    /** Alias for {@link module:DOMTools.onUnmount} */\n    static onRemoved(node, callback) { return this.onUnmount(node, callback, false); }\n\n    /**\n     * Helper function which combines multiple elements into one parent element\n     * @param {Array<HTMLElement>} elements - array of elements to put into a single parent\n     */\n    static wrap(elements) {\n        const domWrapper = this.parseHTML(`<div class=\"dom-wrapper\"></div>`);\n        for (let e = 0; e < elements.length; e++) domWrapper.appendChild(elements[e]);\n        return domWrapper;\n    }\n\n    /**\n     * Resolves the node to an HTMLElement. This is mainly used by library modules.\n     * @param {(jQuery|Element)} node - node to resolve\n     */\n    static resolveElement(node) {\n        if (!(node instanceof jQuery) && !(node instanceof Element)) return undefined;\n        return node instanceof jQuery ? node[0] : node;\n    }\n}\n\nwindow.Lightcord.BetterDiscord.DOM = DOMTools","import {bdthemeErrors, themeCookie, settingsCookie, bdthemes} from \"../0globals\";\nimport ContentManager from \"./contentManager\";\nimport DataStore from \"./dataStore\";\nimport BDEvents from \"./bdEvents\";\nimport Utils from \"./utils\";\nimport DOM from \"./domtools\";\nimport bdEvents from \"./bdEvents\";\n\nclass ThemeModule {\n    constructor(){\n        window.Lightcord.BetterDiscord.ThemeModule = this\n    }\n    get folder() {return ContentManager.themesFolder;}\n}\n\nThemeModule.prototype.loadThemes = async function () {\n    this.loadThemeData();\n    bdthemeErrors.splice(0, 0, ...(await ContentManager.loadThemes()));\n    const themes = Object.keys(bdthemes);\n\n    for (let i = 0; i < themes.length; i++) {\n        const theme = bdthemes[themes[i]];\n        if (!themeCookie[theme.name]) themeCookie[theme.name] = false;\n        if (themeCookie[theme.name]) DOM.addStyle(DOM.escapeID(theme.id), unescape(theme.css));\n\n        await new Promise((resolve) => setTimeout(resolve, 10))\n    }\n    for (const theme in themeCookie) {\n        if (!bdthemes[theme]) delete themeCookie[theme];\n    }\n    this.saveThemeData();\n    // if (settingsCookie[\"fork-ps-5\"]) ContentManager.watchContent(\"theme\");\n};\n\nThemeModule.prototype.enableTheme = function(name, reload = false) {\n    themeCookie[name] = true;\n    this.saveThemeData();\n    const theme = bdthemes[name];\n    DOM.addStyle(DOM.escapeID(theme.id), unescape(theme.css));\n    bdEvents.dispatch(\"theme-enabled\")\n    if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${theme.name} v${theme.version} has been applied.`);\n};\n\nThemeModule.prototype.enable = function (name, reload = false) {\n    return this.enableTheme(name, reload);\n};\n\nThemeModule.prototype.disableTheme = function(name, reload = false) {\n    themeCookie[name] = false;\n    this.saveThemeData();\n    const theme = bdthemes[name];\n    DOM.removeStyle(DOM.escapeID(theme.id));\n    bdEvents.dispatch(\"theme-disabled\")\n    if (settingsCookie[\"fork-ps-2\"] && !reload) Utils.showToast(`${theme.name} v${theme.version} has been disabled.`);\n};\n\nThemeModule.prototype.disable = function (name, reload = false) {\n    return this.disableTheme(name, reload);\n};\n\nThemeModule.prototype.toggleTheme = function(theme) {\n    if (themeCookie[theme]) this.disableTheme(theme);\n    else this.enableTheme(theme);\n};\n\nThemeModule.prototype.toggle = function (name) {\n    return this.toggleTheme(name);\n};\n\nThemeModule.prototype.loadTheme = async function(filename) {\n    const error = await ContentManager.loadContent(filename, \"theme\");\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({themes: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${filename} could not be loaded. It may not have been loaded.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${filename} could not be loaded.`, error);\n    }\n    const theme = Object.values(bdthemes).find(p => p.filename == filename);\n    Utils.log(\"ContentManager\", `${theme.name} v${theme.version} was loaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme.name} v${theme.version} was loaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"theme-loaded\", theme.name);\n};\n\nThemeModule.prototype.unloadTheme = function(filenameOrName) {\n    const bdtheme = Object.values(bdthemes).find(p => p.filename == filenameOrName) || bdthemes[filenameOrName];\n    if (!bdtheme) return;\n    const theme = bdtheme.name;\n    if (themeCookie[theme]) this.disableTheme(theme, true);\n    const error = ContentManager.unloadContent(bdthemes[theme].filename, \"theme\");\n    delete bdthemes[theme];\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({themes: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme} could not be unloaded. It may have not been loaded yet.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${theme} could not be unloaded. It may have not been loaded yet.`, error);\n    }\n    Utils.log(\"ContentManager\", `${theme} was unloaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme} was unloaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"theme-unloaded\", theme);\n};\n\nThemeModule.prototype.delete = function(filenameOrName) {\n    const bdtheme = Object.values(bdthemes).find(p => p.filename == filenameOrName) || bdthemes[filenameOrName];\n    if (!bdtheme) return;\n    this.unloadTheme(bdtheme.filename);\n    const fullPath = require(\"path\").resolve(ContentManager.themesFolder, bdtheme.filename);\n    require(\"fs\").unlinkSync(fullPath);\n};\n\nThemeModule.prototype.reloadTheme = async function(filenameOrName) {\n    const bdtheme = Object.values(bdthemes).find(p => p.filename == filenameOrName) || bdthemes[filenameOrName];\n    if (!bdtheme) return this.loadTheme(filenameOrName);\n    const theme = bdtheme.name;\n    const error = await ContentManager.reloadContent(bdthemes[theme].filename, \"theme\");\n    if (themeCookie[theme]) this.disableTheme(theme, true), this.enableTheme(theme, true);\n    if (error) {\n        if (settingsCookie[\"fork-ps-1\"]) Utils.showContentErrors({themes: [error]});\n        if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme} could not be reloaded.`, {type: \"error\"});\n        return Utils.err(\"ContentManager\", `${theme} could not be reloaded.`, error);\n    }\n    Utils.log(\"ContentManager\", `${theme} v${bdthemes[theme].version} was reloaded.`);\n    if (settingsCookie[\"fork-ps-2\"]) Utils.showToast(`${theme} v${bdthemes[theme].version} was reloaded.`, {type: \"success\"});\n    BDEvents.dispatch(\"theme-reloaded\", theme);\n};\n\nThemeModule.prototype.reload = function(name) {\n    return this.reloadTheme(name);\n};\n\nThemeModule.prototype.edit = function(filenameOrName) {\n    const bdplugin = Object.values(bdthemes).find(p => p.filename == filenameOrName) || bdthemes[filenameOrName];\n    if (!bdplugin) return;\n    const fullPath = require(\"path\").resolve(ContentManager.themesFolder, bdplugin.filename);\n    require(\"electron\").shell.openExternal(`${fullPath}`);\n};\n\nThemeModule.prototype.updateThemeList = function() {\n    const results = ContentManager.loadNewContent(\"theme\");\n    for (const filename of results.added) this.loadTheme(filename);\n    for (const name of results.removed) this.unloadTheme(name);\n};\n\nThemeModule.prototype.loadThemeData = function() {\n    const saved = DataStore.getSettingGroup(\"themes\");\n    if (saved) {\n        Object.assign(themeCookie, saved);\n    }\n};\n\nThemeModule.prototype.saveThemeData = function () {\n    DataStore.setSettingGroup(\"themes\", themeCookie);\n};\n\nexport default new ThemeModule();","import {settings} from \"../0globals\";\nimport themeModule from \"./themeModule\";\n\nexport default new class V2 {\n\n    constructor() {\n        this.editorDetached = false;\n        this.WebpackModules = (() => {\n            const req = webpackJsonp.push([[], {__extra_id__: (module, exports, req) => module.exports = req}, [[\"__extra_id__\"]]]);\n            delete req.m.__extra_id__;\n            delete req.c.__extra_id__;\n\n            const shouldProtect = theModule => {\n                if (theModule.remove && theModule.set && theModule.clear && theModule.get && !theModule.sort) return true;\n                if (theModule.getToken || theModule.getEmail || theModule.showToken) return true;\n                return false;\n            };\n\n            const protect = (theModule, isDefault) => {\n                let mod = !isDefault ? theModule.default : theModule\n                if(!mod)return theModule\n                if (mod.remove && mod.set && mod.clear && mod.get && !mod.sort) return null;\n                if (!mod.getToken && !mod.getEmail && !mod.showToken)return theModule\n\n                const proxy = new Proxy(mod, {\n                    getOwnPropertyDescriptor: function(obj, prop) {\n                        if (prop === \"getToken\" || prop === \"getEmail\" || prop === \"showToken\") return undefined;\n                        return Object.getOwnPropertyDescriptor(obj, prop);\n                    },\n                    get: function(obj, func) {\n                        if (func == \"getToken\" && obj.getToken) return () => \"mfa.XCnbKzo0CLIqdJzBnL0D8PfDruqkJNHjwHXtr39UU3F8hHx43jojISyi5jdjO52e9_e9MjmafZFFpc-seOMa\";\n                        if (func == \"getEmail\" && obj.getEmail) return () => \"puppet11112@gmail.com\";\n                        if (func == \"showToken\" && obj.showToken) return () => true;\n                        if (func == \"__proto__\" && obj.__proto__) return proxy;\n                        \n                        return obj[func];\n                    }\n                });\n\n                if(!isDefault){\n                    return Object.assign({}, theModule, {default: proxy})\n                }\n\n                return proxy;\n            };\n\n            const find = (filter) => {\n                for (const i in req.c) {\n                    if (req.c.hasOwnProperty(i)) {\n                        const m = req.c[i].exports;\n                        if (m && m.__esModule && m.default && filter(m.default)) return protect(m.default, true);\n                        if (m && filter(m))\treturn protect(m, false);\n                    }\n                }\n                // console.warn(\"Cannot find loaded module in cache\");\n                return null;\n            };\n\n            const findAll = (filter) => {\n                const modules = [];\n                for (const i in req.c) {\n                    if (req.c.hasOwnProperty(i)) {\n                        const m = req.c[i].exports;\n                        if (m && m.__esModule && m.default && filter(m.default)) modules.push(protect(m.default, true));\n                        else if (m && filter(m)) modules.push(protect(m, false));\n                    }\n                }\n                return modules;\n            };\n\n            const findByUniqueProperties = (propNames) => find(module => propNames.every(prop => module[prop] !== undefined));\n            const findByPrototypes = (protoNames) => find(module => module.prototype && protoNames.every(protoProp => module.prototype[protoProp] !== undefined));\n            const findByDisplayName = (displayName) => find(module => module.displayName === displayName);\n\n            return {find, findAll, findByUniqueProperties, findByPrototypes, findByDisplayName};\n        })();\n\n        this.internal = {\n            react: this.WebpackModules.findByUniqueProperties([\"Component\", \"PureComponent\", \"Children\", \"createElement\", \"cloneElement\"]),\n            reactDom: this.WebpackModules.findByUniqueProperties([\"findDOMNode\"])\n        };\n        this.getInternalInstance = e => e[Object.keys(e).find(k => k.startsWith(\"__reactInternalInstance\"))];\n        window.Lightcord.BetterDiscord.V2 = this\n    }\n\n    initialize() {\n\n    }\n\n    joinBD1() {this.InviteActions.acceptInviteAndTransitionToInviteChannel(\"0Tmfo5ZbORCRqbAd\");}\n    leaveBD1() {this.GuildActions.leaveGuild(\"86004744966914048\");}\n\n    joinBD2() {this.InviteActions.acceptInviteAndTransitionToInviteChannel(\"2HScm8j\");}\n    leaveBD2() {this.GuildActions.leaveGuild(\"280806472928198656\");}\n\n    joinLC() {this.InviteActions.acceptInviteAndTransitionToInviteChannel(\"7eFff2A\");}\n    leaveLC() {this.GuildActions.leaveGuild(\"705908350218666117\");}\n\n    /**\n     * @type {typeof React}\n     */\n    get react() {return this.internal.react;}\n    /**\n     * @type {typeof React}\n     */\n    get React() {return this.internal.react;}\n    /**\n     * @type {typeof import(\"react-dom\")}\n     */\n    get reactDom() {return this.internal.reactDom;}\n    /**\n     * @type {typeof import(\"react-dom\")}\n     */\n    get ReactDom() {return this.internal.reactDom;}\n    /**\n     * @type {typeof React.Component}\n     */\n    get reactComponent() {return this.internal.react.Component;}\n    /**\n     * @type {typeof React.Component}\n     */\n    get ReactComponent() {return this.internal.react.Component;}\n\n    get anchorClasses() {return this.WebpackModules.findByUniqueProperties([\"anchorUnderlineOnHover\"]) || {anchor: \"anchor-3Z-8Bb\", anchorUnderlineOnHover: \"anchorUnderlineOnHover-2ESHQB\"};}\n    get slateEditorClasses() {return this.WebpackModules.findByUniqueProperties([\"slateTextArea\"]);}\n    get messageClasses() {return this.WebpackModules.findByUniqueProperties([\"message\", \"containerCozy\"]);}\n    get guildClasses() {\n\t\tconst guildsWrapper = BDModules.get(e => e.wrapper && e.unreadMentionsBar)[0];\n        const guilds = BDModules.get(e => e.guildsError && e.selected)[0]\n        const pill = BDModules.get(e => e.blobContainer)[0]\n        return Object.assign({}, guildsWrapper, guilds, pill);\n\t}\n\n    get MessageContentComponent() {return this.WebpackModules.find(m => m.defaultProps && m.defaultProps.hasOwnProperty(\"disableButtons\"));}\n    get MessageComponent() {return this.WebpackModules.find(m => m.default && m.default.displayName && m.default.displayName == \"Message\");}\n    get TimeFormatter() {return this.WebpackModules.findByUniqueProperties([\"dateFormat\"]);}\n    get TooltipWrapper() {return this.WebpackModules.findByDisplayName(\"Tooltip\");}\n    get NativeModule() {return this.WebpackModules.findByUniqueProperties([\"setBadge\"]);}\n    get InviteActions() {return this.WebpackModules.findByUniqueProperties([\"acceptInvite\"]);}\n    get GuildActions() {return this.WebpackModules.findByUniqueProperties([\"leaveGuild\"]);}\n    get Tooltips() {return this.WebpackModules.find(m => m.hide && m.show && !m.search && !m.submit && !m.search && !m.activateRagingDemon && !m.dismiss);}\n    get KeyGenerator() {return this.WebpackModules.find(m => m.toString && /\"binary\"/.test(m.toString()));}\n    get LayerStack() {return this.WebpackModules.findByUniqueProperties([\"popLayer\"]);}\n    get UserStore() {return this.WebpackModules.findByUniqueProperties([\"getCurrentUser\"]);}\n    get ChannelStore() {return this.WebpackModules.findByUniqueProperties([\"getChannel\"]);}\n    get ChannelActions() {return this.WebpackModules.findByUniqueProperties([\"openPrivateChannel\"]);}\n    get PrivateChannelActions() {return this.WebpackModules.findByUniqueProperties([\"selectPrivateChannel\"]);}\n\n    openDM(userId) {\n        const selfId = this.UserStore.getCurrentUser().id;\n        if (selfId == userId) return;\n        const privateChannelId = this.ChannelStore.getDMFromUserId(userId);\n        if (privateChannelId) return this.PrivateChannelActions.selectPrivateChannel(privateChannelId);\n        this.ChannelActions.openPrivateChannel(selfId, userId);\n    }\n\n    parseSettings(cat) {\n        return Object.keys(settings).reduce((arr, key) => {\n            const setting = settings[key];\n            if (setting.cat === cat && setting.implemented && !setting.hidden) {\n                setting.text = key;\n                arr.push(setting);\n            } return arr;\n        }, []);\n    }\n\n};","import {bbdVersion} from \"../0globals\";\nimport WebpackModules from \"./webpackModules\";\nimport BDV2 from \"./v2\";\nimport DOM from \"./domtools\";\nexport default class Utils {\n    /** Document/window width */\n    static get screenWidth() { return Math.max(document.documentElement.clientWidth, window.innerWidth || 0); }\n    /** Document/window height */\n    static get screenHeight() { return Math.max(document.documentElement.clientHeight, window.innerHeight || 0); }\n\n    static get WindowConfigFile() {\n        return this._windowConfigFile = null;\n    }\n\n    static getAllWindowPreferences() {\n        return {\n            transparent: true,\n            frame: false\n        };\n    }\n    \n    static getWindowPreference(key) {\n        if (key === \"transparent\") return true;\n        if (key === \"frame\") return false;\n        return null;\n    }\n    \n    static setWindowPreference(key, value) {\n        if (key === \"transparent\") return true;\n        if (key === \"frame\") return false;\n        return null;\n    }\n\n    static stripBOM(content) {\n        if (content.charCodeAt(0) === 0xFEFF) {\n            content = content.slice(1);\n        }\n        return content;\n    }\n\n    static getTextArea() {\n        return DOM.query(\".\"+removeDa(BDModules.get(e => e.channelTextArea && e.titleWrapper)[0].channelTextArea)+\" textarea\");\n    }\n\n    static insertText(textarea, text) {\n        textarea.focus();\n        textarea.selectionStart = 0;\n        textarea.selectionEnd = textarea.value.length;\n        document.execCommand(\"insertText\", false, text);\n    }\n\n    static escapeID(id) {\n        return id.replace(/^[^a-z]+|[^\\w-]+/gi, \"-\");\n    }\n\n    static log(moduleName, message) {\n        console.log(`%c[BandagedBD]%c [${moduleName}]%c ${message}`, \"color: #3a71c1; font-weight: 700;\", \"color: #3a71c1;\", \"\");\n    }\n\n    static warn(moduleName, message) {\n        console.warn(`%c[BandagedBD]%c [${moduleName}]%c ${message}`, \"color: #E8A400; font-weight: 700;\", \"color: #E8A400;\", \"\");\n    }\n\n    static err(moduleName, message, error) {\n        console.log(`%c[BandagedBD]%c [${moduleName}]%c ${message}`, \"color: red; font-weight: 700;\", \"color: red;\", \"\");\n        if (error) {\n            console.groupCollapsed(\"%cError: \" + error.message, \"color: red;\");\n            console.error(error.stack);\n            console.groupEnd();\n        }\n    }\n\n    /**\n     * Format strings with placeholders (`{{placeholder}}`) into full strings.\n     * Quick example: `PluginUtilities.formatString(\"Hello, {{user}}\", {user: \"Zerebos\"})`\n     * would return \"Hello, Zerebos\".\n     * @param {string} string - string to format\n     * @param {object} values - object literal of placeholders to replacements\n     * @returns {string} the properly formatted string\n     */\n    static formatString(string, values) {\n        for (const val in values) {\n            let replacement = values[val];\n            if (Array.isArray(replacement)) replacement = JSON.stringify(replacement);\n            if (typeof(replacement) === \"object\" && replacement !== null) replacement = replacement.toString();\n            string = string.replace(new RegExp(`{{${val}}}`, \"g\"), replacement);\n        }\n        return string;\n    }\n\n    static escape(s) {\n        return s.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n    }\n\n    static testJSON(data) {\n        try {\n            return JSON.parse(data);\n        }\n        catch (err) {\n            return false;\n        }\n    }\n\n    static isEmpty(obj) {\n        if (obj == null || obj == undefined || obj == \"\") return true;\n        if (typeof(obj) !== \"object\") return false;\n        if (Array.isArray(obj)) return obj.length == 0;\n        for (const key in obj) {\n            if (obj.hasOwnProperty(key)) return false;\n        }\n        return true;\n    }\n\n    static suppressErrors(method, message) {\n        return (...params) => {\n            try { return method(...params);\t}\n            catch (e) { this.err(\"SuppressedError\", \"Error occurred in \" + message, e); }\n        };\n    }\n\n    static monkeyPatch(what, methodName, options) {\n        const {before, after, instead, once = false, silent = false, force = false} = options;\n        const displayName = options.displayName || what.displayName || what[methodName].displayName || what.name || what.constructor.displayName || what.constructor.name;\n        if (!silent) console.log(\"patch\", methodName, \"of\", displayName); // eslint-disable-line no-console\n        if (!what[methodName]) {\n            if (force) what[methodName] = function() {};\n            else return console.error(methodName, \"does not exist for\", displayName); // eslint-disable-line no-console\n        }\n        const origMethod = what[methodName];\n        let canceled = false\n        const cancel = () => {\n            if (!silent) console.log(\"unpatch\", methodName, \"of\", displayName); // eslint-disable-line no-console\n            //what[methodName] = origMethod;\n            canceled = true // this allow to monkeypatch more than one time.\n        };\n        what[methodName] = function() {\n            if(canceled){\n                return origMethod.call(this, ...arguments)\n            }\n            const data = {\n                thisObject: this,\n                methodArguments: arguments,\n                cancelPatch: cancel,\n                originalMethod: origMethod,\n                callOriginalMethod: () => data.returnValue = data.originalMethod.apply(data.thisObject, data.methodArguments)\n            };\n            if (instead) {\n                const tempRet = Utils.suppressErrors(instead, \"`instead` callback of \" + what[methodName].displayName)(data);\n                if (tempRet !== undefined) data.returnValue = tempRet;\n            }\n            else {\n                if (before) Utils.suppressErrors(before, \"`before` callback of \" + what[methodName].displayName)(data);\n                data.callOriginalMethod();\n                if (after) Utils.suppressErrors(after, \"`after` callback of \" + what[methodName].displayName)(data);\n            }\n            if (once) cancel();\n            return data.returnValue;\n        };\n        Object.assign(what[methodName], origMethod);\n        what[methodName].__monkeyPatched = true;\n        what[methodName].displayName = displayName;\n        if (!what[methodName].__originalMethod) {\n            what[methodName].__originalMethod = origMethod;\n            what[methodName].toString = function() {return origMethod.toString();};\n        }\n        return cancel;\n    }\n\n    static onRemoved(node, callback) {\n        const observer = new MutationObserver((mutations) => {\n            for (let m = 0; m < mutations.length; m++) {\n                const mutation = mutations[m];\n                const nodes = Array.from(mutation.removedNodes);\n                const directMatch = nodes.indexOf(node) > -1;\n                const parentMatch = nodes.some(parent => parent.contains(node));\n                if (directMatch || parentMatch) {\n                    observer.disconnect();\n                    callback();\n                }\n            }\n        });\n\n        observer.observe(document.body, {subtree: true, childList: true});\n    }\n\n    static getNestedProp(obj, path) {\n        return path.split(/\\s?\\.\\s?/).reduce(function(obj, prop) {\n            return obj && obj[prop];\n        }, obj);\n    }\n\n    /**\n     * This shows a toast similar to android towards the bottom of the screen.\n     *\n     * @param {string} content The string to show in the toast.\n     * @param {object} options Options object. Optional parameter.\n     * @param {string} options.type Changes the type of the toast stylistically and semantically. Choices: \"\", \"info\", \"success\", \"danger\"/\"error\", \"warning\"/\"warn\". Default: \"\"\n     * @param {boolean} options.icon Determines whether the icon should show corresponding to the type. A toast without type will always have no icon. Default: true\n     * @param {number} options.timeout Adjusts the time (in ms) the toast should be shown for before disappearing automatically. Default: 3000\n     */\n    static showToast(content, options = {}) {\n        if (!document.querySelector(\".bd-toasts\")) {\n            const container = document.querySelector(\".\"+removeDa(BDModules.get(e => e.sidebar && e.hasNotice)[0].sidebar)+\" + div\") || null;\n            const form = container ? container.querySelector(\"form\") : null;\n            const bottom = form ? form.offsetHeight : 80;\n            const toastWrapper = document.createElement(\"div\");\n            toastWrapper.classList.add(\"bd-toasts\");\n            toastWrapper.style.setProperty(\"bottom\", bottom+\"px\");\n            document.querySelector(\"#app-mount\").appendChild(toastWrapper);\n        }\n        const toastWrapper = document.querySelector(\".bd-toasts\")\n        const {type = \"\", icon = true, timeout = 3000} = options;\n        const toastElem = document.createElement(\"div\");\n        toastElem.classList.add(\"bd-toast\");\n        if (type) toastElem.classList.add(\"toast-\" + type);\n        if (type && icon) toastElem.classList.add(\"icon\");\n        toastElem.innerText = content;\n        toastWrapper.appendChild(toastElem);\n        toastWrapper.style.setProperty(\"left\", `calc(50% - ${toastWrapper.offsetWidth / 2}px)`);\n        setTimeout(() => {\n            toastElem.classList.add(\"closing\");\n            setTimeout(() => {\n                toastElem.remove();\n                if (!document.querySelectorAll(\".bd-toasts .bd-toast\").length) document.querySelector(\".bd-toasts\").remove();\n            }, 300);\n        }, timeout);\n    }\n\n    static alert(title, content) {\n        let modalModule = BDModules.get(e => e.modal && e.inner && !e.hideOnFullscreen)[0]\n        let headerModule = BDModules.get(e => e.header && e.responsiveWidthMobile && e.hideOnFullscreen)[0]\n        let footer2Module = BDModules.get(e => e.header && e.responsiveWidthMobile && e.focusLock)[0]\n        const modal = DOM.createElement(`<div class=\"bd-modal-wrapper theme-dark\">\n                        <div class=\"bd-backdrop ${BDModules.get(e => e.backdrop && e.backdropWithLayer)[0].backdrop}\"></div>\n                        <div class=\"bd-modal ${modalModule.modal}\">\n                            <div class=\"bd-modal-inner ${modalModule.inner}\">\n                                <div class=\"header ${headerModule.header}\">\n                                    <div class=\"title\">${title}</div>\n                                </div>\n                                <div class=\"bd-modal-body\">\n                                    <div class=\"scroller-wrap fade\">\n                                        <div class=\"scroller\">\n                                            ${content}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"footer ${headerModule.footer} ${footer2Module.footer}\">\n                                    <button type=\"button\">Okay</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`);\n        modal.querySelector(\".footer button\").addEventListener(\"click\", () => {\n            DOM.addClass(modal, \"closing\");\n            setTimeout(() => { \n                modal.remove(); \n                closingListeners.forEach((listener) => {\n                    try{\n                        listener()\n                    }catch(e){\n                        console.error(e)\n                    }\n                })\n            }, 300);\n        });\n        modal.querySelector(\".bd-backdrop\").addEventListener(\"click\", () => {\n            DOM.addClass(modal, \"closing\");\n            setTimeout(() => { \n                modal.remove(); \n                closingListeners.forEach((listener) => {\n                    try{\n                        listener()\n                    }catch(e){\n                        console.error(e)\n                    }\n                })\n            }, 300);\n        });\n        DOM.query(\"#app-mount\").append(modal);\n        const closingListeners = []\n        return {\n            close: () => {\n                DOM.addClass(modal, \"closing\");\n                setTimeout(() => { \n                    modal.remove(); \n                    closingListeners.forEach((listener) => {\n                        try{\n                            listener()\n                        }catch(e){\n                            console.error(e)\n                        }\n                    })\n                }, 300);\n            },\n            onClose: (listener) => {\n                closingListeners.push(listener)\n            }\n        }\n    }\n\n    static showContentErrors({plugins: pluginErrors = [], themes: themeErrors = []}) {\n        if (!pluginErrors || !themeErrors) return;\n        if (!pluginErrors.length && !themeErrors.length) return;\n        let modalModule = BDModules.get(e => e.modal && e.inner && !e.hideOnFullscreen)[0]\n        let headerModule = BDModules.get(e => e.header && e.responsiveWidthMobile && e.hideOnFullscreen)[0]\n        let footer2Module = BDModules.get(e => e.header && e.responsiveWidthMobile && e.focusLock)[0]\n        const modal = DOM.createElement(`<div class=\"bd-modal-wrapper theme-dark\">\n                        <div class=\"bd-backdrop ${BDModules.get(e => e.backdrop && e.backdropWithLayer)[0].backdrop}\"></div>\n                        <div class=\"bd-modal bd-content-modal ${modalModule.modal}\">\n                            <div class=\"bd-modal-inner ${modalModule.inner}\">\n                                <div class=\"header ${headerModule.header}\"><div class=\"title\">Content Errors</div></div>\n                                <div class=\"bd-modal-body\">\n                                    <div class=\"tab-bar-container\">\n                                        <div class=\"tab-bar TOP\">\n                                            <div class=\"tab-bar-item\">Plugins</div>\n                                            <div class=\"tab-bar-item\">Themes</div>\n                                        </div>\n                                    </div>\n                                    <div class=\"table-header\">\n                                        <div class=\"table-column column-name\">Name</div>\n                                        <div class=\"table-column column-message\">Message</div>\n                                        <div class=\"table-column column-error\">Error</div>\n                                    </div>\n                                    <div class=\"scroller-wrap fade\">\n                                        <div class=\"scroller\">\n    \n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"footer ${headerModule.footer} ${footer2Module.footer}\">\n                                    <button type=\"button\">Okay</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`);\n    \n        function generateTab(errors) {\n            const container = DOM.createElement(`<div class=\"errors\">`);\n            for (const err of errors) {\n                const error = DOM.createElement(`<div class=\"error\">\n                                    <div class=\"table-column column-name\">${err.name ? err.name : err.file}</div>\n                                    <div class=\"table-column column-message\">${err.message}</div>\n                                    <div class=\"table-column column-error\"><a class=\"error-link\" href=\"\">${err.error ? err.error.message : \"\"}</a></div>\n                                </div>`);\n                container.append(error);\n                if (err.error) {\n                    error.querySelectorAll(\"a\").forEach(el => el.addEventListener(\"click\", (e) => {\n                        e.preventDefault();\n                        Utils.err(\"ContentManager\", `Error details for ${err.name ? err.name : err.file}.`, err.error);\n                    }));\n                }\n            }\n            return container;\n        }\n    \n        const tabs = [generateTab(pluginErrors), generateTab(themeErrors)];\n    \n        modal.querySelectorAll(\".tab-bar-item\").forEach(el => el.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            const selected = modal.querySelector(\".tab-bar-item.selected\");\n            if (selected) DOM.removeClass(selected, \"selected\");\n            DOM.addClass(e.target, \"selected\");\n            const scroller = modal.querySelector(\".scroller\");\n            scroller.innerHTML = \"\";\n            scroller.append(tabs[DOM.index(e.target)]);\n        }));\n    \n        modal.querySelector(\".footer button\").addEventListener(\"click\", () => {\n            DOM.addClass(modal, \"closing\");\n            setTimeout(() => { modal.remove(); }, 300);\n        });\n        modal.querySelector(\".bd-backdrop\").addEventListener(\"click\", () => {\n            DOM.addClass(modal, \"closing\");\n            setTimeout(() => { modal.remove(); }, 300);\n        });\n        DOM.query(\"#app-mount\").append(modal);\n        if (pluginErrors.length) modal.querySelector(\".tab-bar-item\").click();\n        else modal.querySelectorAll(\".tab-bar-item\")[1].click();\n    }\n\n    static showChangelogModal(options = {}) {\n        const ModalStack = WebpackModules.findByProps(\"push\", \"update\", \"pop\", \"popWithKey\");\n        const ChangelogClasses = WebpackModules.findByProps(\"fixed\", \"improved\");\n        const TextElement = WebpackModules.findByDisplayName(\"Text\");\n        const FlexChild = WebpackModules.findByProps(\"Child\");\n        const Titles = WebpackModules.findByProps(\"Tags\", \"default\");\n        const Changelog = WebpackModules.find(m => m.defaultProps && m.defaultProps.selectable == false);\n        const MarkdownParser = WebpackModules.findByProps(\"defaultRules\", \"parse\");\n        if (!Changelog || !ModalStack || !ChangelogClasses || !TextElement || !FlexChild || !Titles || !MarkdownParser) return;\n    \n        const {\n            image = \"https://repository-images.githubusercontent.com/105473537/957b5480-7c26-11e9-8401-50fa820cbae5\", \n            description = \"\", \n            changes = [], \n            title = \"BandagedBD\", \n            subtitle = `v${bbdVersion}`, \n            footer\n        } = options;\n        const ce = BDV2.React.createElement;\n        const changelogItems = [ce(\"img\", {src: image})];\n        if (description) changelogItems.push(ce(\"p\", null, MarkdownParser.parse(description)));\n        for (let c = 0; c < changes.length; c++) {\n            const entry = changes[c];\n            const type = ChangelogClasses[entry.type] ? ChangelogClasses[entry.type] : ChangelogClasses.added;\n            const margin = c == 0 ? ChangelogClasses.marginTop : \"\";\n            changelogItems.push(ce(\"h1\", {className: `${type} ${margin}`,}, entry.title));\n            const list = ce(\"ul\", null, entry.items.map(i => ce(\"li\", null, MarkdownParser.parse(i))));\n            changelogItems.push(list);\n        }\n        const renderHeader = function() {\n            return ce(FlexChild.Child, {grow: 1, shrink: 1},\n                ce(Titles.default, {tag: Titles.Tags.H4}, title),\n                ce(TextElement,{size: TextElement.Sizes.SMALL, color: TextElement.Colors.STANDARD, className: ChangelogClasses.date}, subtitle)\n            );\n        };\n    \n        const renderFooter = () => {\n            const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n            const AnchorClasses = WebpackModules.findByProps(\"anchorUnderlineOnHover\") || {anchor: \"anchor-3Z-8Bb\", anchorUnderlineOnHover: \"anchorUnderlineOnHover-2ESHQB\"};\n            const joinSupportServer = (click) => {\n                click.preventDefault();\n                click.stopPropagation();\n                ModalStack.pop();\n                BDV2.joinBD2();\n            };\n            const supportLink = Anchor ? ce(Anchor, {onClick: joinSupportServer}, \"Join our Discord Server.\") : ce(\"a\", {className: `${AnchorClasses.anchor} ${AnchorClasses.anchorUnderlineOnHover}`, onClick: joinSupportServer}, \"Join our Discord Server.\");\n            const defaultFooter = ce(TextElement,{size: TextElement.Sizes.SMALL, color: TextElement.Colors.STANDARD}, \"Need support? \", supportLink);\n            return ce(FlexChild.Child, {grow: 1, shrink: 1}, footer ? footer : defaultFooter);\n        };\n\n        return ModalStack.push(function(props) {\n            return ce(Changelog, Object.assign({\n                className: ChangelogClasses.container,\n                selectable: true,\n                onScroll: _ => _,\n                onClose: _ => _,\n                renderHeader: renderHeader,\n                renderFooter: renderFooter,\n                children: changelogItems\n            }, props));\n        });\n    }\n\n    /**\n     * Shows a generic but very customizable confirmation modal with optional confirm and cancel callbacks.\n     * @param {string} title - title of the modal\n     * @param {(string|ReactElement|Array<string|ReactElement>)} children - a single or mixed array of react elements and strings. Every string is wrapped in Discord's `Markdown` component so strings will show and render properly.\n     * @param {object} [options] - options to modify the modal\n     * @param {boolean} [options.danger=false] - whether the main button should be red or not\n     * @param {string} [options.confirmText=Okay] - text for the confirmation/submit button\n     * @param {string} [options.cancelText=Cancel] - text for the cancel button\n     * @param {callable} [options.onConfirm=NOOP] - callback to occur when clicking the submit button\n     * @param {callable} [options.onCancel=NOOP] - callback to occur when clicking the cancel button\n     * @param {string} [options.key] - key used to identify the modal. If not provided, one is generated and returned\n     * @returns {string} - the key used for this modal\n     */\n    static showConfirmationModal(title, content, options = {}) {\n        const ModalActions = WebpackModules.findByProps(\"openModal\", \"updateModal\");\n        const Markdown = WebpackModules.findByDisplayName(\"Markdown\");\n        const ConfirmationModal = WebpackModules.findByDisplayName(\"ConfirmModal\");\n        if (!ModalActions || !ConfirmationModal || !Markdown) return Utils.alert(title, content);\n\n        const emptyFunction = () => {};\n        const {onConfirm = emptyFunction, onCancel = emptyFunction, confirmText = \"Okay\", cancelText = \"Cancel\", danger = false, key = undefined} = options;\n\n        if (!Array.isArray(content)) content = [content];\n        content = content.map(c => typeof(c) === \"string\" ? BDV2.React.createElement(Markdown, null, c) : c);\n        return ModalActions.openModal(props => {\n            return BDV2.React.createElement(ConfirmationModal, Object.assign({\n                header: title,\n                red: danger,\n                confirmText: confirmText,\n                cancelText: cancelText,\n                onConfirm: onConfirm,\n                onCancel: onCancel\n            }, props), content);\n        }, {modalKey: key});\n    }\n\n    static get removeDa(){\n        return removeDa\n    }\n}\n\nfunction removeDa(className){\n    if(!className)return className\n    return className.split(\" \").filter(e => !e.startsWith(\"da-\")).join(\" \")\n}\n\nUtils.showToast = Utils.suppressErrors(Utils.showToast, \"Could not show toast.\");\n\nwindow.Lightcord.BetterDiscord.Utils = Utils","export default class V2_SettingsPanel_Sidebar {\n\n    constructor() {\n        this.panels = {}\n    }\n\n    register(panel, component){\n        this.panels[panel] = component\n    }\n\n    getComponent(panel, sidebar){\n        return this.panels[panel](sidebar)\n    }\n\n    get items() {\n        return [{\n            text: \"BetterDiscord Settings\", \n            id: \"core\"\n        }, {\n            text: \"Plugins\", \n            id: \"plugins\"\n        }, {\n            text: \"Themes\", \n            id: \"themes\"\n        }, {\n            text: \"Custom CSS\", \n            id: \"customcss\"\n        }];\n    }\n\n    get LCitems(){\n        let items = [\n            {\n                text: \"Lightcord Settings\",\n                id: \"lightcord\"\n            }, {\n                text: \"RichPresence\", \n                id: \"status\"\n            }, {\n                text: \"Account Info\",\n                id: \"accountinfo\"\n            }\n        ]\n        return items\n    }\n\n    get LCDevItems(){\n        let items = []\n        if(!window.Lightcord.Settings.devMode)return items\n        items.push(...[\n            {\n                section: \"DIVIDER\"\n            },\n            {\n                section: \"HEADER\",\n                label: \"Lightcord Api\"\n            },\n            {\n                text: \"Components Preview\",\n                id: \"lcapipreview\"\n            }\n        ])\n        return items\n    }\n\n    render(sidebar) {\n        return [\n            {\n                section: \"HEADER\",\n                label: \"Lightcord\"\n            },\n            ...this.LCitems.map(e => {\n                return {\n                    section: e.id,\n                    label: e.text,\n                    element: this.getComponent(e.id, sidebar)\n                }\n            }),\n            ...this.LCDevItems.map(e => {\n                if(e.section)return e\n                return {\n                    section: e.id,\n                    label: e.text,\n                    element: this.getComponent(e.id, sidebar)\n                }\n            }),\n            {\n                section: \"DIVIDER\"\n            },\n            {\n                section: \"CUSTOM\",\n                element: this.getComponent(\"BDChangelogTitle\")\n            },\n            ...this.items.map(e => {\n                return {\n                    section: e.id,\n                    label: e.text,\n                    element: this.getComponent(e.id, sidebar)\n                }\n            }),\n            {\n                section: \"DIVIDER\"\n            }\n        ]\n    }\n}\n\n/**\n * No need to export settingsPanelSidebar on window\n */","import {settingsCookie} from \"../0globals\";\r\nimport BDV2 from \"./v2\";\r\nimport Utils from \"./utils\";\r\n\r\nexport default new class ColoredText {\r\n    injectColoredText() {\r\n        if (this.cancelColoredText) return;\r\n        if (!BDV2.MessageComponent) return;\r\n\r\n        this.cancelColoredText = Utils.monkeyPatch(BDV2.MessageComponent, \"default\", {before: (data) => {\r\n            const props = data.methodArguments[0];\r\n            if (!props || !props.childrenMessageContent) return;\r\n            const messageContent = props.childrenMessageContent;\r\n\r\n            if (!messageContent.type || !messageContent.type.type || messageContent.type.type.displayName != \"MessageContent\") return;\r\n            const originalType = messageContent.type.type;\r\n            if (originalType.__originalMethod) return; // Don't patch again\r\n            messageContent.type.type = function(props) {\r\n                const returnValue = originalType(props);\r\n                const roleColor = settingsCookie[\"bda-gs-7\"] ? props.message.colorString || \"\" : \"\";\r\n                returnValue.props.style = {color: roleColor};\r\n                return returnValue;\r\n            };\r\n\r\n            messageContent.type.type.__originalMethod = originalType;\r\n            Object.assign(messageContent.type.type, originalType);\r\n        }});\r\n    }\r\n\r\n    removeColoredText() {\r\n        let classNameMarkup = BDModules.get(e => e.markup)[0].markup\r\n        document.querySelectorAll(\".\"+classNameMarkup.split(\" \")[0]).forEach(elem => {\r\n            elem.style.setProperty(\"color\", \"\");\r\n        });\r\n    }\r\n};","import {settingsCookie} from \"../0globals\";\r\nimport BDV2 from \"./v2\";\r\nimport Utils from \"./utils\";\r\n\r\nexport default new class TFHour {\r\n    inject24Hour() {\r\n        if (this.cancel24Hour) return;\r\n\r\n        const twelveHour = new RegExp(`([0-9]{1,2}):([0-9]{1,2})\\\\s(AM|PM)`);\r\n        const convert = (data) => {\r\n            if (!settingsCookie[\"bda-gs-6\"]) return;\r\n            const matched = data.returnValue.match(twelveHour);\r\n            if (!matched || matched.length !== 4) return;\r\n            if (matched[3] === \"AM\") return data.returnValue = data.returnValue.replace(matched[0], `${matched[1] === \"12\" ? \"00\" : matched[1].padStart(2, \"0\")}:${matched[2]}`);\r\n            return data.returnValue = data.returnValue.replace(matched[0], `${matched[1] === \"12\" ? \"12\" : parseInt(matched[1]) + 12}:${matched[2]}`);\r\n        };\r\n\r\n        const cancelCozy = Utils.monkeyPatch(BDV2.TimeFormatter, \"calendarFormat\", {after: convert}); // Called in Cozy mode\r\n        const cancelCompact = Utils.monkeyPatch(BDV2.TimeFormatter, \"dateFormat\", {after: convert}); // Called in Compact mode\r\n        this.cancel24Hour = () => {cancelCozy(); cancelCompact();}; // Cancel both\r\n    }\r\n\r\n    remove24Hour() {\r\n        if (this.cancel24Hour) this.cancel24Hour();\r\n    }\r\n};","import BDV2 from \"../modules/v2\";\r\n\r\nexport default class V2C_SettingsTitle extends BDV2.reactComponent {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n//h2-2gWE-o title-3sZWYQ size16-14cGz5 height20-mO2eIN weightSemiBold-NJexzi da-h2 da-title da-size16 da-height20 da-weightSemiBold defaultColor-1_ajX0 da-defaultColor marginTop60-3PGbtK da-marginTop60 marginBottom20-32qID7 da-marginBottom20\r\n    render() {\r\n        return BDV2.react.createElement(\r\n            \"h2\",\r\n            {className: \"ui-form-title h2 margin-reset margin-bottom-20\"},\r\n            this.props.text\r\n        );\r\n    }\r\n}","import BDV2 from \"../modules/v2\";\r\n\r\nexport default class V2C_TabBarSeparator extends BDV2.reactComponent {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return BDV2.react.createElement(\"div\", {className: \"ui-tab-bar-separator margin-top-8 margin-bottom-8\"});\r\n    }\r\n}","import BDV2 from \"../../modules/v2\";\r\n\r\nexport default class V2C_ServerCard extends BDV2.reactComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        if (!this.props.server.iconUrl) this.props.server.iconUrl = this.props.fallback;\r\n        this.state = {\r\n            imageError: false,\r\n            joined: this.props.guildList.includes(this.props.server.identifier)\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {server} = this.props;\r\n        let cardModule = BDModules.get(e => e.card && e.cardPrimary)[0]\r\n        let flexModule = BDModules.get(e => e.flexChild && e._horizontalReverse)[0]\r\n        let wrapModule = BDModules.get(e => e.noWrap && !e.streamerModeEnabled)[0]\r\n        return BDV2.react.createElement(\r\n            \"div\", // cardPrimary-1Hv-to\r\n            {className: `${cardModule.card} ${cardModule.cardPrimary} ${BDModules.get(e => e.marginBottom8)[0].marginBottom8} bd-server-card${server.pinned ? \" bd-server-card-pinned\" : \"\"}`},\r\n            // BDV2.react.createElement(\r\n                // \"div\",\r\n                // { className: \"flex-1xMQg5 flex-1O1GKY horizontal-1ae9ci horizontal-2EEEnY flex-1O1GKY directionRow-3v3tfG justifyStart-2yIZo0 alignStretch-1hwxMa noWrap-3jynv6\" },\r\n                BDV2.react.createElement(\"img\", {ref: \"img\", className: \"bd-server-image\", src: server.iconUrl, onError: this.handleError.bind(this), draggable: false}),\r\n                BDV2.react.createElement(\r\n                    \"div\",\r\n                    {className: flexModule.flexChild+\" bd-server-content\"},\r\n                    BDV2.react.createElement(\r\n                        \"div\",\r\n                        {className: flexModule.horizontal+\" \"+wrapModule.noWrap+\" bd-server-header\"},\r\n                        BDV2.react.createElement(\r\n                            \"h5\",\r\n                            {className: \"h5-18_1nd defaultColor-1_ajX0 margin-reset bd-server-name\"},\r\n                            server.name\r\n                        ),\r\n                        BDV2.react.createElement(\r\n                            \"h5\",\r\n                            {className: \"h5-18_1nd defaultColor-1_ajX0 margin-reset bd-server-member-count\"},\r\n                            server.members,\r\n                            \" Members\"\r\n                        )\r\n                    ),\r\n                    BDV2.react.createElement(\r\n                        \"div\",\r\n                        {className: flexModule.horizontal+\" \"+wrapModule.noWrap},\r\n                        BDV2.react.createElement(\r\n                            \"div\",\r\n                            {className: \"scrollerWrap-2lJEkd scrollerThemed-2oenus themeGhostHairline-DBD-2d scrollerFade-1Ijw5y bd-server-description-container\"},\r\n                            BDV2.react.createElement(\r\n                                \"div\",\r\n                                {className: \"scroller-2FKFPG scroller bd-server-description\"},\r\n                                    server.description\r\n                            )\r\n                        )\r\n                    ),\r\n                    BDV2.react.createElement(\r\n                        \"div\",\r\n                        {className: \"flex-1xMQg5 flex-1O1GKY horizontal-1ae9ci horizontal-2EEEnY directionRow-3v3tfG noWrap-3jynv6 bd-server-footer\"},\r\n                        BDV2.react.createElement(\r\n                            \"div\",\r\n                            {className: \"flexChild-faoVW3 bd-server-tags\", style: {flex: \"1 1 auto\"}},\r\n                            server.categories.join(\", \")\r\n                        ),\r\n                        this.state.joined && BDV2.react.createElement(\r\n                            \"button\",\r\n                            {type: \"button\", className: \"button-38aScr lookFilled-1Gx00P colorBrand-3pXr91 sizeMin-1mJd1x grow-q77ONN colorGreen-29iAKY\", style: {minHeight: \"12px\", marginTop: \"4px\", backgroundColor: \"#3ac15c\"}},\r\n                            BDV2.react.createElement(\r\n                                \"div\",\r\n                                {className: \"ui-button-contents\"},\r\n                                \"Joined\"\r\n                            )\r\n                        ),\r\n                        server.error && BDV2.react.createElement(\r\n                            \"button\",\r\n                            {type: \"button\", className: \"button-38aScr lookFilled-1Gx00P colorBrand-3pXr91 sizeMin-1mJd1x grow-q77ONN disabled-9aF2ug\", style: {minHeight: \"12px\", marginTop: \"4px\", backgroundColor: \"#c13a3a\"}},\r\n                            BDV2.react.createElement(\r\n                                \"div\",\r\n                                {className: \"ui-button-contents\"},\r\n                                \"Error\"\r\n                            )\r\n                        ),\r\n                        !server.error && !this.state.joined && BDV2.react.createElement(\r\n                            \"button\",\r\n                            {type: \"button\", className: \"button-38aScr lookFilled-1Gx00P colorBrand-3pXr91 sizeMin-1mJd1x grow-q77ONN\", style: {minHeight: \"12px\", marginTop: \"4px\"}, onClick: () => {this.join();}},\r\n                            BDV2.react.createElement(\r\n                                \"div\",\r\n                                {className: \"ui-button-contents\"},\r\n                                \"Join\"\r\n                            )\r\n                        )\r\n                    )\r\n                )\r\n            // )\r\n        );\r\n    }\r\n\r\n    handleError() {\r\n        this.props.server.iconUrl = this.props.fallback;\r\n        this.setState({imageError: true});\r\n    }\r\n\r\n    join() {\r\n        this.props.join(this);\r\n        //this.setState({joined: true});\r\n    }\r\n}","import BDV2 from \"./v2\"\nconst {useState} = BDV2.react\n\n\nexport function useForceUpdate(){\n    const [,setValue] = useState(0)\n\n    return function forceUpdate(){\n        setValue(e => e+1)\n    }\n}","import BDV2 from \"../../modules/v2\";\n\nimport SettingsTitle from \"../settingsTitle\";\nimport TabBarSeparator from \"../tabBarSeparator\";\n\nimport ServerCard from \"./serverCard\";\nimport { useForceUpdate } from \"../../modules/hooks\";\n\nlet SettingsView\nexport default class V2C_PublicServers extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        this.setInitialState();\n        this.close = this.close.bind(this);\n        this.changeCategory = this.changeCategory.bind(this);\n        this.search = this.search.bind(this);\n        this.searchKeyDown = this.searchKeyDown.bind(this);\n        this.checkConnection = this.checkConnection.bind(this);\n        this.join = this.join.bind(this);\n        this.connect = this.connect.bind(this);\n\n        this.GuildStore = BDV2.WebpackModules.findByUniqueProperties([\"getGuilds\"]);\n        this.AvatarDefaults = BDV2.WebpackModules.findByUniqueProperties([\"getUserAvatarURL\", \"DEFAULT_AVATARS\"]);\n        this.InviteActions = BDV2.WebpackModules.findByUniqueProperties([\"acceptInvite\"]);\n        this.SortedGuildStore = BDV2.WebpackModules.findByUniqueProperties([\"getSortedGuilds\"]);\n\n        this.hooks = []\n    }\n\n    componentDidMount() {\n        this.checkConnection();\n    }\n\n    setInitialState() {\n        this.state = {\n            selectedCategory: -1,\n            title: \"Loading...\",\n            loading: true,\n            servers: [],\n            next: null,\n            connection: {\n                state: 0,\n                user: null\n            },\n            section: this.categorySlugs[0],\n            theme: \"dark\"\n        };\n    }\n\n    close() {\n        this.props.close()\n    }\n\n    search(query, clear) {\n        const self = this;\n        fetch(`${self.searchEndPoint}${query}${query ? \"&schema=new\" : \"?schema=new\"}`, {\n            method: \"get\"\n        }).then(async res => {\n            if(res.status !== 200)throw await res.text()\n            let data = await res.json()\n            \n            let servers = data.results.reduce((arr, server) => {\n                server.joined = false;\n                arr.push(server);\n                // arr.push(<ServerCard server={server} join={self.join}/>);\n                return arr;\n            }, []);\n\n            if (!clear) {\n                servers = self.state.servers.concat(servers);\n            }\n            else {\n                //servers.unshift(self.bdServer);\n            }\n\n            let end = data.size + data.from;\n            data.next = `?from=${end}`;\n            if (self.state.term) data.next += `&term=${self.state.term}`;\n            if (self.state.selectedCategory) data.next += `&category=${self.categoryButtons[self.state.selectedCategory]}`;\n            if (end >= data.total) {\n                end = data.total;\n                data.next = null;\n            }\n\n            let title = `Showing 1-${end} of ${data.total} results in ${self.categoryButtons[self.state.selectedCategory]}`;\n            if (self.state.term) title += ` for ${self.state.term}`;\n\n            self.setState({\n                loading: false,\n                title: title,\n                servers: servers,\n                next: data.next\n            });\n        }).catch((err) => {\n            console.error(err)\n            return self.setState({\n                loading: false,\n                title: \"Failed to load servers. Check console for details\"\n            });\n        })\n    }\n\n    async join(serverCard) {\n        if (serverCard.props.pinned) return this.InviteActions.acceptInvite(serverCard.props.invite_code);\n\n        await fetch(`${this.joinEndPoint}/${serverCard.props.server.identifier}`,{\n            method: \"GET\",\n            credentials: \"include\",\n            mode: \"cors\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\"\n            }\n        });\n\n        serverCard.setState({joined: true});\n    }\n\n    connect() {\n        const self = this;\n        const options = self.windowOptions;\n        options.x = Math.round(window.screenX + window.innerWidth / 2 - options.width / 2);\n        options.y = Math.round(window.screenY + window.innerHeight / 2 - options.height / 2);\n\n        const win = self.joinWindow = new (require(\"electron\").remote.BrowserWindow)(options);\n        const url = \"https://auth.discordservers.com/connect?scopes=guilds.join&previousUrl=https://auth.discordservers.com/info\";\n        win.webContents.on(\"did-navigate\", (event, url) => {\n            if (url != \"https://auth.discordservers.com/info\") return;\n            win.close();\n            self.checkConnection();\n        });\n        win.loadURL(url);\n        win.setMenuBarVisibility(false)\n    }\n\n    get windowOptions() {\n        return {\n            width: 500,\n            height: 550,\n            backgroundColor: \"#282b30\",\n            show: true,\n            resizable: false,\n            maximizable: false,\n            minimizable: false,\n            alwaysOnTop: true,\n            frame: true,\n            center: false,\n            webPreferences: {\n                nodeIntegration: false\n            }\n        };\n    }\n\n    get bdServer() {\n        const server = {\n            name: \"BetterDiscord\",\n            online: \"30000+\",\n            members: \"70000+\",\n            categories: [\"community\", \"programming\", \"support\"],\n            description: \"Official BetterDiscord server for support etc\",\n            identifier: \"86004744966914048\",\n            iconUrl: \"https://cdn.discordapp.com/icons/86004744966914048/292e7f6bfff2b71dfd13e508a859aedd.webp\",\n            nativejoin: true,\n            invite_code: \"0Tmfo5ZbORCRqbAd\",\n            pinned: true\n        };\n        const server2 = {\n            name: \"Lightcord\",\n            online: \"100+\",\n            members: \"300+\",\n            categories: [\"community\", \"programming\", \"support\"],\n            description: \"Official Lightcord server for support etc\",\n            identifier: \"705908350218666117\",\n            iconUrl: \"https://github.com/lightcord.png\",\n            nativejoin: true,\n            invite_code: \"7eFff2A\",\n            pinned: true\n        };\n        const guildList = this.SortedGuildStore.getFlattenedGuildIds();\n        const defaultList = this.AvatarDefaults.DEFAULT_AVATARS;\n        return [\n            BDV2.react.createElement(ServerCard, {server: server2, pinned: true, join: this.join, guildList: guildList, fallback: defaultList[Math.floor(Math.random() * 5)]}),\n            BDV2.react.createElement(ServerCard, {server: server, pinned: true, join: this.join, guildList: guildList, fallback: defaultList[Math.floor(Math.random() * 5)]})\n        ]\n    }\n\n    get searchEndPoint() {\n        return \"https://search.discordservers.com\";\n    }\n\n    get joinEndPoint() {\n        return \"https://j.discordservers.com\";\n    }\n\n    get connectEndPoint() {\n        return \"https://join.discordservers.com/connect\";\n    }\n\n    async checkConnection() {\n        const self = this;\n        try {\n            const response = await fetch(`https://auth.discordservers.com/info`,{\n                method: \"GET\",\n                credentials: \"include\",\n                mode: \"cors\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            const text = await response.text()\n            if(!text){\n                self.setState({\n                    title: \"Not connected to discordservers.com!\",\n                    loading: true,\n                    selectedCategory: -1,\n                    connection: {\n                        state: 1,\n                        user: null\n                    }\n                });\n                return\n            }\n            const data = JSON.parse(text)\n            self.setState({\n                selectedCategory: 0,\n                connection: {\n                    state: 2,\n                    user: data\n                }\n            });\n            self.search(\"\", true);\n        }\n        catch (error) {\n            console.error(error)\n            self.setState({\n                title: \"Not connected to discordservers.com!\",\n                loading: true,\n                selectedCategory: -1,\n                connection: {\n                    state: 1,\n                    user: null\n                }\n            });\n        }\n    }\n\n    render() {\n        this.hooks.forEach((e) => e())\n        SettingsView = SettingsView || BDV2.WebpackModules.findByDisplayName(\"SettingsView\")\n        return BDV2.react.createElement(\"div\", {id: \"pubslayerroot\"}, \n            BDV2.react.createElement(\"div\", {id: \"pubslayer\"}, BDV2.react.createElement(SettingsView, {\n                onSetSection: (section) => {\n                    this.changeCategory(this.categorySlugs.indexOf(section))\n                },\n                sections: this.sections,\n                onClose: this.close,\n                section: this.state.section\n            }))\n        );\n    }\n\n    get sections(){\n        let sections = []\n        sections.push({\n            section: \"HEADER\",\n            label: \"Public Servers\"\n        }, {\n            section: \"DIVIDER\"\n        }, {\n            section: \"CUSTOM\",\n            element: this.searchInput.bind(null, () => this, this.searchKeyDown)\n        }, {\n            section: \"DIVIDER\"\n        }, {\n            section: \"HEADER\",\n            label: \"Categories\"\n        }, ...this.categoryButtons.map((value, index) => {\n            return {\n                section: this.categorySlugs[index],\n                label: value,\n                element: this.content.bind(null, () => this)\n            }\n        }), {\n            section: \"DIVIDER\"\n        }, {\n            section: \"CUSTOM\",\n            element: this.footer\n        }, {\n            section: \"CUSTOM\",\n            element: this.connection.bind(null, () => this)\n        })\n        return sections\n    }\n    \n    searchInput(getThis, searchKeyDown) {\n        const [value, setValue] = BDV2.react.useState(\"\")\n        return BDV2.react.createElement(\n            \"div\",\n            {className: \"ui-form-item\"},\n            BDV2.react.createElement(\n                \"div\",\n                {className: \"ui-text-input flex-vertical\", style: {width: \"172px\", marginLeft: \"10px\"}},\n                BDV2.react.createElement(\"input\", {\n                    ref: (serchinput) => (getThis().refs.searchinput = serchinput), \n                    onKeyDown: searchKeyDown, \n                    onChange: (e) => {\n                        setValue(e.target.value)\n                    }, \n                    type: \"text\", \n                    className: \"input default\", \n                    placeholder: \"Search...\", \n                    maxLength: \"50\",\n                    value: value\n                })\n            )\n        );\n    }\n\n    searchKeyDown(e) {\n        const self = this;\n        if (self.state.loading || e.which !== 13) return;\n        self.setState({\n            loading: true,\n            title: \"Loading...\",\n            term: e.target.value\n        });\n        let query = `?term=${e.target.value}`;\n        if (self.state.selectedCategory !== 0) {\n            query += `&category=${self.categoryButtons[self.state.selectedCategory]}`;\n        }\n        self.search(query, true);\n    }\n\n    get categorySlugs(){\n        return this.categoryButtons.map(e => e.toLowerCase().replace(/[^\\w\\d]+/g, \"_\"))\n    }\n\n    get categoryButtons() {\n        return [\"All\", \"FPS Games\", \"MMO Games\", \"Strategy Games\", \"MOBA Games\", \"RPG Games\", \"Tabletop Games\", \"Sandbox Games\", \"Simulation Games\", \"Music\", \"Community\", \"Language\", \"Programming\", \"Other\"];\n    }\n\n    changeCategory(id) {\n        const self = this;\n        if (self.state.loading) return;\n        self.setState({\n            loading: true,\n            selectedCategory: id,\n            title: \"Loading...\",\n            term: null,\n            section: self.categorySlugs[id]\n        });\n        if (id === 0) {\n            self.search(\"\", true);\n            return;\n        }\n        self.search(`?category=${self.categoryButtons[id]}`, true);\n    }\n\n    content(getThis) {\n        const self = getThis();\n        self.useState()\n        const guildList = self.SortedGuildStore.getFlattenedGuildIds();\n        const defaultList = self.AvatarDefaults.DEFAULT_AVATARS;\n        if (self.state.connection.state === 1) return BDV2.react.createElement(self.notConnected.bind(null, getThis));\n        let columnModule = BDModules.get(e => e.contentColumnDefault)[0]\n        return [BDV2.react.createElement(\n            \"div\",\n            {ref: (ref) => {\n                (self.refs.content = ref)\n            }, key: \"pc\", className: columnModule.contentColumn+\" \"+columnModule.contentColumn+\" content-column default\"},\n            BDV2.react.createElement(SettingsTitle, {text: self.state.title}),\n            self.bdServer,\n            self.state.servers.map((server) => {\n                return BDV2.react.createElement(ServerCard, {key: server.identifier, server: server, join: self.join, guildList: guildList, fallback: defaultList[Math.floor(Math.random() * 5)]});\n            }),\n            self.state.next && BDV2.react.createElement(\n                \"button\",\n                {type: \"button\", onClick: () => {\n                        if (self.state.loading) return;self.setState({loading: true}); self.search(self.state.next, false);\n                    }, className: \"ui-button filled brand small grow\", style: {width: \"100%\", marginTop: \"10px\", marginBottom: \"10px\"}},\n                BDV2.react.createElement(\n                    \"div\",\n                    {className: \"ui-button-contents\"},\n                    self.state.loading ? \"Loading\" : \"Load More\"\n                )\n            ),\n            self.state.servers.length > 0 && BDV2.react.createElement(SettingsTitle, {text: self.state.title})\n        )];\n    }\n\n    notConnected(getThis) {\n        const self = getThis();\n        //return BDV2.react.createElement(SettingsTitle, { text: self.state.title });\n        let columnModule = BDModules.get(e => e.contentColumnDefault)[0]\n        return [BDV2.react.createElement(\n            \"div\",\n            {key: \"ncc\", ref: (ref) => (self.refs.content = ref), className: columnModule.contentColumn+\" \"+columnModule.contentColumn+\" content-column default\"},\n            BDV2.react.createElement(\n                \"h2\",\n                {className: \"ui-form-title h2 margin-reset margin-bottom-20\"},\n                \"Not connected to discordservers.com!\",\n                BDV2.react.createElement(\n                    \"button\",\n                    {\n                        onClick: self.connect,\n                        type: \"button\",\n                        className: \"ui-button filled brand small grow\",\n                        style: {\n                            display: \"inline-block\",\n                            minHeight: \"18px\",\n                            marginLeft: \"10px\",\n                            lineHeight: \"14px\"\n                        }\n                    },\n                    BDV2.react.createElement(\n                        \"div\",\n                        {className: \"ui-button-contents\"},\n                        \"Connect\"\n                    )\n                )\n            ), self.bdServer\n        )];\n    }\n\n    footer() {\n        return BDV2.react.createElement(\n            \"div\",\n            {className: \"ui-tab-bar-header\"},\n            BDV2.react.createElement(\n                \"a\",\n                {href: \"https://discordservers.com\", target: \"_blank\"},\n                \"Discordservers.com\"\n            )\n        );\n    }\n\n    useState(){\n        const forceUpdate = useForceUpdate()\n        BDV2.React.useEffect(() => {\n            const listener = () => {\n                forceUpdate()\n            }\n            this.hooks.push(listener)\n            return () => {\n                const index = this.hooks.findIndex(e => e===listener)\n                if(index < 0)return\n                this.hooks.splice(index, 1)\n            }\n        }, [])\n    }\n\n    connection(getThis) {\n        const self = getThis();\n        self.useState()\n        const {connection} = self.state;\n        if (connection.state !== 2) return BDV2.react.createElement(\"span\", null);\n\n        return BDV2.react.createElement(\n            \"span\",\n            null,\n            BDV2.react.createElement(TabBarSeparator, null),\n            BDV2.react.createElement(\n                \"span\",\n                {style: {color: \"#b9bbbe\", fontSize: \"10px\", marginLeft: \"10px\"}},\n                \"Connected as: \",\n                `${connection.user.username}#${connection.user.discriminator}`\n            ),\n            BDV2.react.createElement(\n                \"div\",\n                {style: {padding: \"5px 10px 0 10px\"}},\n                BDV2.react.createElement(\n                    \"button\",\n                    {style: {width: \"100%\", minHeight: \"20px\"}, type: \"button\", className: \"ui-button filled brand small grow\"},\n                    BDV2.react.createElement(\n                        \"div\",\n                        {className: \"ui-button-contents\", onClick: self.connect},\n                        \"Reconnect\"\n                    )\n                )\n            )\n        );\n    }\n}","export default class BugHunterBadge extends React.Component {\r\n    render(){\r\n        const props = this.props\r\n\r\n        return (\r\n            <svg viewBox=\"0 0 31.3 29.5\" {...props.svg} height=\"100%\">\r\n                <path d=\"M22.8 1s12 8.2 7.4 19.7S16.6 29 20 25.6s-4-5.6-8.7-10L22.8 1\" fill=\"rgba(227,6,19,.6)\" />\r\n                <path d=\"M22.1 12.3c-2.5 3.2-6.1 4.8-8.9 4.3L3.6 28.8c-.7.9-1.9 1-2.8.3-.9-.7-1-1.9-.4-2.8L10 14.1c-1.3-2.5-.6-6.4 2-9.7 3.2-4 8-5.5 10.8-3.4s2.4 7.2-.7 11.3z\" fill=\"#e30613\" />\r\n            </svg>\r\n        )\r\n    } \r\n}","export default class Circus extends React.Component {\r\n    render(){\r\n        return (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\"  {...this.props.svg} height=\"100%\">\r\n                <path\r\n                    fill=\"#DD2E44\"\r\n                    d=\"M33 33a2 2 0 01-2 2H5a2 2 0 01-2-2l1-12h28l1 12z\"\r\n                ></path>\r\n                <path\r\n                    fill=\"#EA596E\"\r\n                    d=\"M13 35c-.792-1.875-1.75-3.291-3.417-4.666 1.75-1.459 4.542-5.5 5.25-8.292s2.75 8.125 2.042 10.625S13 35 13 35zm10.303 0c.791-1.875 1.75-3.291 3.416-4.666-1.75-1.459-4.541-5.5-5.25-8.292-.707-2.792-2.75 8.125-2.04 10.625.708 2.5 3.874 2.333 3.874 2.333z\"\r\n                ></path>\r\n                <path\r\n                    fill=\"#BE1931\"\r\n                    d=\"M3.728 24.263A2.5 2.5 0 008 22.5c0-.565-.195-1.081-.511-1.5H4l-.272 3.263zm28.544 0L32 21h-3.489A2.482 2.482 0 0028 22.5a2.5 2.5 0 004.272 1.763z\"\r\n                ></path>\r\n                <circle cx=\"14\" cy=\"23\" r=\"2\" fill=\"#BE1931\"></circle>\r\n                <circle cx=\"22\" cy=\"23\" r=\"2\" fill=\"#BE1931\"></circle>\r\n                <circle cx=\"10\" cy=\"23\" r=\"2\" fill=\"#BE1931\"></circle>\r\n                <circle cx=\"26\" cy=\"23\" r=\"2\" fill=\"#BE1931\"></circle>\r\n                <path d=\"M23 35H13s2-6 2-13h6c0 7 2 13 2 13zM17 2h2v7h-2z\"></path>\r\n                <path\r\n                    fill=\"#55ACEE\"\r\n                    d=\"M18.838.206C17.667.042 17 .318 17 1.418v1c0 1.1.865 1.753 1.923 1.451l5.154-.901c1.715-.343 1.548-1.593.085-1.884L18.838.206z\"\r\n                ></path>\r\n                <path\r\n                    fill=\"#CCD6DD\"\r\n                    d=\"M18 6l-.081.123C10.938 16.981 3 15.015 3 19v2.5a2.5 2.5 0 004.95.5H12a2 2 0 004 0h4a2 2 0 004 0h4.05a2.5 2.5 0 004.95-.5V19c0-4-8-2-15-13z\"\r\n                ></path>\r\n                <g fill=\"#F5F8FA\">\r\n                    <path d=\"M17.948 6.078l-.03.045C17.132 11.619 10.811 16.126 8 18v4a2 2 0 004 0v-4c.982-.982 5.813-6.787 5.984-11.732-.01-.064-.027-.126-.036-.19zm.08.398C18.324 11.374 23.031 17.031 24 18v4a2 2 0 004 0v-4c-2.75-1.833-8.953-6.19-9.972-11.524z\"></path>\r\n                    <path d=\"M17.984 6.27C17.922 8.346 17.606 16.394 16 18v4a2 2 0 004 0v-4c-1.564-1.564-1.905-9.241-1.979-11.559-.011-.057-.027-.113-.037-.171z\"></path>\r\n                </g>\r\n            </svg>\r\n        )\r\n    } \r\n}","import BugHunterBadge from \"../svg/bug_hunter\"\nimport nodeFetch from \"node-fetch\"\nimport { settingsCookie } from \"../0globals\";\nimport Circus from \"../svg/circus\";\n\nexport function uuidv4() { // Generate UUID (No crypto rng)\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}  \n\nconst awaitingBadgesPromises = {}\nlet badgesToFetch = []\n\nexport default new class DistantServer {\n    constructor(){\n        this._cache = {\n            badges: {\n\n            }\n        }\n        window.Lightcord.BetterDiscord.DistantServer = this\n    }\n\n    get cache(){\n        return this._cache\n    }\n\n    set cache(data){\n        if(typeof data !== \"object\" || typeof this._cache !== \"object\")return this._cache = data\n        return this._cache = Object.assign(this._cache, data)\n    }\n\n    /**\n     * Get custom badges from the user ID.\n     * @param {string} user The user ID \n     * @returns {Promise<Constants[\"badges\"]>}\n     */\n    async getBadges(user){\n        if(this.cache.badges[user])return this.cache.badges[user]\n        if(awaitingBadgesPromises[user])return awaitingBadgesPromises[user]\n\n        let resolve\n        const newPromise = new Promise((res) => (resolve = res))\n        awaitingBadgesPromises[user] = newPromise\n\n        const badges = []\n        for(let badge of Constants.badges){\n            if(badge.defaultUsers.includes(user))badges.push(badge)\n        }\n        const fetchedBadges = await new Promise((resolve) => {\n            if(!settingsCookie[\"lightcord-5\"])return resolve([])\n            badgesToFetch.push([user, resolve])\n            setTimeout(() => {\n                let users = badgesToFetch\n                if(users.length === 0)return\n                badgesToFetch = []\n                handleRequest(Routes.badges, \"POST\", JSON.stringify(users.map(e => e[0])))\n                .then(async res => {\n                    if(res.status !== 200){// Couldn't fetch badges: server error\n                        users.forEach(data => {\n                            data[1]([])// resolve no badge fetched\n                        })\n                    }\n                    const responseBody = await res.json()\n                    \n                    for(let user of responseBody){\n                        let promise = users.find(promise => promise[0] === user.user_id)\n                        promise[1](user.badges)\n                    }\n                }).catch((err) => {// Couldn't fetch badges: error\n                    if(!(err instanceof LightcordError))console.error(err)\n                    users.forEach(data => {\n                        data[1]([])// resolve no badge fetched\n                    })\n                })\n            }, 0)\n        })\n        for(let badge of fetchedBadges){\n            if(!Constants.badges.find(e => e.id === badge))continue // We do not have the Component, skip it.\n            if(badges.find(e => e.id === badge))continue // Already inserted.\n            badges.push(Constants.badges.find(e => e.id === badge))\n        }\n        this.cache = {\n            badges: Object.assign(this.cache.badges, {[user]: badges})\n        }\n        setTimeout(() => {\n            delete this.cache.badges[user]\n        }, 600000);\n\n        resolve(badges)\n        delete awaitingBadgesPromises[user]\n        return badges\n    }\n}\n\nconst handleRequest = function(route, method, data){\n    if(!settingsCookie[\"lightcord-5\"]){\n        return Promise.reject(new LightcordError(\"The current settings blocked the request.\"))\n    }\n    return nodeFetch(`${Constants.SERVER_URL}/api/v1${route}`, {\n        method,\n        headers: {\n            \"CLIENT\": \"Lightcord\",\n            \"Authorization\": window.Lightcord.Api.Authorization || \"None::Anonymous\"\n        },\n        ...(data ? {\n            body: data\n        } : {})\n    })\n}\n\nclass LightcordError extends Error {\n    constructor(){\n        super(...arguments)\n        this.name = \"LightcordError\"\n    }\n}\n\nexport const Constants = {\n    SERVER_URL: \"https://lightcord.org\",\n    badges: [ // TODO: Add more badges + server side svg\n        {\n            name: \"Lightcord Bug Hunter\",\n            id: \"f04698f5-816b-41e3-bd01-92291193d7a5\",\n            defaultUsers: [\n                \"696481194443014174\",\n                \"696003456611385396\"\n            ],\n            scopes: [],\n            component: BugHunterBadge,\n            href: \"https://github.com/lightcord/lightcord/wiki/badges#bug_hunter\"\n        }, {\n            name: \"Buffoon\",\n            id: \"06904d31-65b4-41ec-a50c-8658bbd1af96\",\n            defaultUsers: [\n                \"389016895543705602\",\n                \"664600134528663565\",\n                \"625350657829896224\"\n            ],\n            scopes: [],\n            component: Circus,\n            href: \"https://youtu.be/EJtb6z-dlT8?t=145\"\n        }\n    ]\n}\n\nexport const Routes = {\n    badges: `/users/badges`\n}","import Utils from \"./utils\";\nimport v2 from \"./v2\";\nimport { uuidv4 } from \"./distant\";\nimport { timingSafeEqual } from \"crypto\";\n\nexport default new class Layers {\n    constructor(){\n        this.layers = []\n        window.Lightcord.BetterDiscord.Layers = this\n    }\n\n    get isInjected(){\n        return !!document.querySelector(\"div.Layers.injected\")\n    }\n\n    inject(){\n        if(this.isInjected)return\n        let [\n            classNameLayers\n        ] = [\n            Utils.removeDa(v2.WebpackModules.find(e => e.layers && e.layer).layers)\n        ]\n        const layers = document.querySelector(\".\"+classNameLayers);\n        if (!layers) return false;\n        const ReactInstance = Lightcord.Api.Utils.FindReact(layers, 1)\n        if(!ReactInstance)return layers\n        this.ReactInstance = ReactInstance\n        let render = ReactInstance.render\n        ReactInstance.render = () => {\n            let returnValue = render.call(ReactInstance)\n            let classList = returnValue.props.children[1].props.className.split(\" \")\n            classList.push(\"Layers\")\n            classList.push(\"injected\")\n            returnValue.props.children[1].props.className = classList.join(\" \")\n\n            this.layers.forEach(layer => {\n                returnValue.props.children[1].props.children.push(layer[1])\n            })\n\n            return returnValue\n        }\n        ReactInstance.forceUpdate()\n    }\n\n    createLayer(children, props = {}){\n        let id = uuidv4()\n        let layer = null\n        this.layers.push([id, <Layer {...props} getLayer={lay => {\n            layer = lay\n        }} key={id} id={id} remove={() => {\n            let index = this.layers.findIndex(e => e[0] === id)\n            if(index === -1)return\n            this.layers.splice(index, 1)\n            layer = null\n            if(this.ReactInstance)this.ReactInstance.forceUpdate()\n            this.inject()\n        }}>{children}</Layer>])\n        if(this.ReactInstance)this.ReactInstance.forceUpdate()\n        this.inject()\n        return {\n            remove: () => {\n                if(!layer){\n                    let index = this.layers.findIndex(e => e[0] === id)\n                    if(index === -1)return\n                    this.layers.splice(index, 1)\n                    layer = null\n                    if(this.ReactInstance)this.ReactInstance.forceUpdate()\n                    this.inject()\n                }else{\n                    layer.remove()\n                }\n            }\n        }\n    }\n}\n\n\nlet LayerModules\nexport class Layer extends React.Component {\n    constructor(){\n        super(...arguments)\n        this.state = {\n            animation: new this.modules[0].default.Value(0)\n        } \n        this.props.getLayer(this)\n        this.keydown = this.keydown.bind(this)\n    }\n\n    keydown(e){\n        if (e.which === 27) {\n            this.remove()\n        }\n    }\n\n    get modules(){\n        return LayerModules || (LayerModules = [\n            v2.WebpackModules.find(e => e.default && e.default.Value && e.default.div)\n        ])\n    }\n\n    componentWillUnmount(){\n        window.removeEventListener(\"keydown\", this.keydown)\n    }\n\n    componentDidMount(ev){\n        window.addEventListener(\"keydown\", this.keydown)\n    }\n\n    remove(){\n        this.props.remove()\n    }\n\n    componentWillEnter(ev){\n        this.modules[0].default.timing(this.state.animation, {\n            toValue: 1,\n            duration: 100\n        }).start(ev)\n    }\n\n    componentWillLeave(ev){\n        this.modules[0].default.timing(this.state.animation, {\n            toValue: 0,\n            duration: 100\n        }).start(ev)\n    }\n\n    render(){\n        let interpolation = this.state.animation.interpolate({\n            inputRange: [0, 1],\n            outputRange: [1.07, 1]\n        })\n        let style = {\n            opacity: this.state.animation,\n            transform: [{\n                scale: interpolation\n            }]\n        }\n        let Div = this.modules[0].default.div\n        return <Div className={[__SECRET_EMOTION__.css({\n            backgroundColor:\"var(--background-primary)\",\n            position: \"absolute\",\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            display: \"flex\",\n            overflow: \"hidden\",\n            WebkitBoxOrient: \"vertical\",\n            WebkitBoxDirection: \"normal\",\n            msFlexDirection: \"column\",\n            flexDirection: \"column\",\n            zIndex: 101\n        }),process.platform===\"win32\"?__SECRET_EMOTION__.css({\n            top: \"-22px\",\n            paddingTop: \"22px\"\n        }):null,...(this.props.className?this.props.className.split(\" \"):[])].filter(e=>e).join(\" \") || null} style={style}>\n            {this.props.children(() => {\n                this.remove()\n            })}\n        </Div>\n    }\n}\nLayer.defaultProps = {\n    id: null,\n    children: null\n}","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"./v2\";\nimport webpackModules from \"./webpackModules\";\nimport Utils from \"./utils\";\nimport DOM from \"./domtools\";\n\nimport V2C_PublicServers from \"../ui/publicservers/publicServers\";\nimport Layers from \"./Layers\";\n\nexport default new class V2_PublicServers {\n\n    constructor() {\n        this._appendButton = this._appendButton.bind(this);\n        window.Lightcord.BetterDiscord.V2_PublicServers = this\n    }\n\n    render() {\n        Layers.createLayer((close) => {\n            return BDV2.react.createElement(V2C_PublicServers, {rootId: \"pubslayerroot\", close})\n        })\n    }\n\n    get button() {\n        const btn = DOM.createElement(`<div id=\"bd-pub-li\" class=\"${BDV2.guildClasses.listItem}\">`);\n        if (!settingsCookie[\"bda-gs-1\"]) btn.style.display = \"none\";\n        const label = DOM.createElement(`<div id=\"bd-pub-button\" class=\"${\"wrapper-25eVIn \" + BDV2.guildClasses.circleButtonMask}\">public</div>`);\n        label.addEventListener(\"click\", () => {this.render();});\n        btn.append(label);\n        return btn;\n    }\n\n    _appendButton() {\n        let [\n            classNametutorialContainer\n        ] = [\n            Utils.removeDa(BDModules.get(e => e.downloadProgress && e.tutorialContainer)[0].tutorialContainer)\n        ]\n        if (DOM.query(\"#bd-pub-li\")) return;\n        const guilds = DOM.query(`div.${classNametutorialContainer} > div`);\n        DOM.after(guilds, this.button);\n    }\n\n    addButton() {\n        if (this.guildPatch) return;\n        const GuildList = webpackModules.find(m => m.default && m.default.displayName == \"NavigableGuilds\");\n        const GuildListOld = webpackModules.findByDisplayName(\"Guilds\");\n        if (!GuildList && !GuildListOld) Utils.warn(\"PublicServer\", \"Can't find GuildList component\");\n        this.guildPatch = Utils.monkeyPatch(GuildList ? GuildList : GuildListOld.prototype, GuildList ? \"default\" : \"render\", {after: this._appendButton});\n        this._appendButton();\n    }\n\n    removeButton() {\n        this.guildPatch();\n        delete this.guildPatch;\n        const button = DOM.query(\"#bd-pub-li\");\n        if (button) button.remove();\n    }\n};","import DOM from \"./domtools\";\r\n\r\nconst style = `\r\n    .container-2Rl01u {\r\n        display: none!important;\r\n    }\r\n\r\n    .chat-3bRxxu {\r\n        display: none!important;\r\n    }\r\n\r\n    .sidebar-2K8pFh {\r\n        flex-grow: 1!important;\r\n    }\r\n`;\r\n\r\nexport default new class VoiceMode {\r\n    start() {\r\n        DOM.addStyle(\"VoiceMode\", style);\r\n    }\r\n\r\n    stop() {\r\n        DOM.removeStyle(\"VoiceMode\");\r\n    }\r\n};","import WebpackModules from \"./webpackModules\";\n\nconst normalizedPrefix = \"da\";\nconst randClass = new RegExp(`^(?!${normalizedPrefix}-)((?:[A-Za-z]|[0-9]|-)+)-(?:[A-Za-z]|[0-9]|-|_){6}$`);\n\nexport default new class ClassNormalizer {\n    constructor(){\n        window.Lightcord.BetterDiscord.ClassNormalizer = this\n    }\n    stop() {\n        if (!this.hasPatched) return;\n        this.unpatchClassModules(WebpackModules.findAll(this.moduleFilter.bind(this)));\n        this.revertElement(document.querySelector(\"#app-mount\"));\n        this.hasPatched = false;\n    }\n\n    start() {\n        if (this.hasPatched) return;\n        this.patchClassModules(WebpackModules.findAll(this.moduleFilter.bind(this)));\n        this.normalizeElement(document.querySelector(\"#app-mount\"));\n        this.hasPatched = true;\n        this.patchDOMMethods();\n    }\n\n    patchClassModules(modules) {\n        for (const module of modules) {\n            this.patchClassModule(normalizedPrefix, module);\n        }\n    }\n\n    unpatchClassModules(modules) {\n        for (const module of modules) {\n            this.unpatchClassModule(normalizedPrefix, module);\n        }\n    }\n\n    shouldIgnore(value) {\n        if (!isNaN(value)) return true;\n        if (value.endsWith(\"px\") || value.endsWith(\"ch\") || value.endsWith(\"em\") || value.endsWith(\"ms\")) return true;\n        if (value.startsWith(\"layerContainer-\")) return true;\n        if (value.startsWith(\"#\") && (value.length == 7 || value.length == 4)) return true;\n        if (value.includes(\"calc(\") || value.includes(\"rgba\")) return true;\n        return false;\n    }\n\n    moduleFilter(module) {\n        if (typeof module !== \"object\" || Array.isArray(module)) return false;\n        if (module.__esModule) return false;\n        if (!Object.keys(module).length) return false;\n        for (const baseClassName in module) {\n            const value = module[baseClassName];\n            if (typeof value !== \"string\") return false;\n            if (this.shouldIgnore(value)) continue;\n            if (value.split(\"-\").length === 1) return false;\n            if (!randClass.test(value.split(\" \")[0])) return false;\n        }\n\n        return true;\n    }\n\n    patchClassModule(componentName, classNames) {\n        for (const baseClassName in classNames) {\n            const value = classNames[baseClassName];\n            if (this.shouldIgnore(value)) continue;\n            const classList = value.split(\" \");\n            for (const normalClass of classList) {\n                const match = normalClass.match(randClass);\n                if (!match || !match.length || match.length < 2) continue; // Shouldn't ever happen since they passed the moduleFilter, but you never know\n                const camelCase = match[1].split(\"-\").map((s, i) => i ? s[0].toUpperCase() + s.slice(1) : s).join(\"\");\n                classNames[baseClassName] += ` ${componentName}-${camelCase}`;\n            }\n        }\n    }\n\n    unpatchClassModule(componentName, classNames) {\n        for (const baseClassName in classNames) {\n            const value = classNames[baseClassName];\n            if (this.shouldIgnore(value)) continue;\n            let newString = \"\";\n            const classList = value.split(\" \");\n            for (const normalClass of classList) {\n                if (normalClass.startsWith(`${componentName}-`)) continue;\n                newString += ` ${normalClass}`;\n            }\n            classNames[baseClassName] = newString.trim();\n        }\n    }\n\n    normalizeElement(element) {\n        if (!(element instanceof Element)) return;\n        const classes = element.classList;\n        for (let c = 0, clen = classes.length; c < clen; c++) {\n            if (!randClass.test(classes[c])) continue;\n            const match = classes[c].match(randClass)[1];\n            const newClass = match.split(\"-\").map((s, i) => i ? s[0].toUpperCase() + s.slice(1) : s).join(\"\");\n            element.classList.add(`${normalizedPrefix}-${newClass}`);\n        }\n        for (const child of element.children) this.normalizeElement(child);\n    }\n\n    revertElement(element) {\n        if (!(element instanceof Element)) return;\n        if (element.children && element.children.length) this.revertElement(element.children[0]);\n        if (element.nextElementSibling) this.revertElement(element.nextElementSibling);\n        const classes = element.classList;\n        const toRemove = [];\n        for (let c = 0; c < classes.length; c++) {\n            if (classes[c].startsWith(`${normalizedPrefix}-`)) toRemove.push(classes[c]);\n        }\n        element.classList.remove(...toRemove);\n    }\n\n    patchDOMMethods() {\n        const contains = DOMTokenList.prototype.contains;\n        DOMTokenList.prototype.contains = function(token) {\n            // const tokens = token.split(\" \");\n            return Reflect.apply(contains, this, [token.split(\" \")[0]]);\n            // return tokens.every(t => contains.call(this, t));\n        };\n\n        const add = DOMTokenList.prototype.add;\n        DOMTokenList.prototype.add = function(...tokens) {\n            for (let t = 0; t < tokens.length; t++) {\n                tokens[t] = tokens[t].split(\" \")[0];\n            }\n            return Reflect.apply(add, this, tokens);\n        };\n\n        const remove = DOMTokenList.prototype.remove;\n        DOMTokenList.prototype.remove = function(...tokens) {\n            for (let t = 0; t < tokens.length; t++) {\n                tokens[t] = tokens[t].split(\" \")[0];\n            }\n            return Reflect.apply(remove, this, tokens);\n        };\n    }\n\n};","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"./v2\";\nimport DOM from \"./domtools\";\nimport Utils from \"./utils\";\n\nexport default new class DevMode {\n    constructor() {\n        this.debugListener = this.debugListener.bind(this);\n        this.copySelectorListener = this.copySelectorListener.bind(this);\n    }\n\n    start() {\n        this.startDebugListener();\n        if (settingsCookie[\"fork-dm-1\"]) this.startCopySelector();\n    }\n    \n    stop() {\n        this.stopDebugListener();\n        this.stopCopySelector();\n    }\n\n    startDebugListener() {\n        this.stopDebugListener();\n        document.addEventListener(\"keydown\", this.debugListener);\n    }\n\n    stopDebugListener() {\n        document.removeEventListener(\"keydown\", this.debugListener);\n    }\n\n    startCopySelector() {\n        this.stopCopySelector();\n        document.addEventListener(\"contextmenu\", this.copySelectorListener);\n    }\n\n    stopCopySelector() {\n        document.removeEventListener(\"contextmenu\", this.copySelectorListener);\n    }\n\n    debugListener(e) {\n        if (e.which === 119 || e.which == 118) {//F8\n            console.log(\"%c[%cDevMode%c] %cBreak/Resume\", \"color: red;\", \"color: #303030; font-weight:700;\", \"color:red;\", \"\");\n            debugger; // eslint-disable-line no-debugger\n            e.preventDefault();\n            e.stopImmediatePropagation();\n         }\n    }\n\n    copySelectorListener(e) {\n        try{\n            e.stopPropagation();\n            const selector = this.getSelector(e.target);\n    \n            let [\n                classLayer, \n                classItems\n            ] = [\n                BDModules.get((e) => e.layer && typeof e.layer === \"string\" && e.disabledPointerEvents)[0],\n                BDModules.get((e) => e.menu)[0]\n            ]\n            \n            function attach() {\n                if(!classItems || !classLayer.layer)return console.log(classItems, classLayer.layer)\n\n                let cm = DOM.query(\".\"+Utils.removeDa(classItems.menu));\n                if (!cm) {\n                    const container = DOM.query(\"#app-mount > .\"+Utils.removeDa(classLayer.layerContainer));\n                    const cmWrap = DOM.createElement(`<div class=\"${classLayer.layer}\">`);\n                    cm = DOM.createElement(`<div class=\"${classItems.menu} ${classItems.styleFlexible} ${classItems.accommodateScrollbar} bd-context-menu\" style=\"\"></div>`);\n                    cmWrap.append(cm);\n                    container.append(cmWrap);\n                    cmWrap.style.top = e.clientY + \"px\";\n                    cmWrap.style.left = e.clientX + \"px\";\n                    cmWrap.setAttribute(\"role\", \"menu\")\n                    cmWrap.setAttribute(\"tabindex\", \"-1\")\n                    cmWrap.id = \"bd-copy-selector-context\"\n                    cmWrap.setAttribute(\"aria-label\", \"Copy Selector Actions\")\n\n                    const scrollerClasses = BDModules.get((e) => e.scrollerWrap)[0]\n                    const scrollerWrap = DOM.createElement(`<div class=\"${scrollerClasses.scrollerWrap} ${scrollerClasses.scrollerThemed} ${scrollerClasses.themeGhostHairline}\"></div>`)\n                    const scroller = DOM.createElement(`<div class=\"${BDModules.get(e => e.scroller)[0].scroller} ${classItems.scroller}\"></div>`)\n                    scrollerWrap.append(scroller)\n                    cm.append(scrollerWrap)\n\n                    const removeCM = function(e) {\n                        if (e.keyCode && e.keyCode !== 27) return;\n                        cmWrap.remove();\n                        document.removeEventListener(\"click\", removeCM);\n                        document.removeEventListener(\"contextmenu\", removeCM);\n                        document.removeEventListener(\"keyup\", removeCM);\n                    };\n                    document.addEventListener(\"click\", removeCM);\n                    document.addEventListener(\"contextmenu\", removeCM);\n                    document.addEventListener(\"keyup\", removeCM);\n                }\n                const cmWrap = cm.parentElement\n                \n                const scroller = cm.childNodes[0].childNodes[0]\n                const cmg = DOM.createElement(`<div role=\"group\"></div>`);\n                /**\n                 * @type {HTMLElement}\n                 */\n                const cmi = DOM.createElement(`<div class=\"${classItems.item} ${classItems.labelContainer} ${classItems.colorDefault}\" role=\"menuitem\" id=\"bd-copy-selector-item-cm\"></div>`);\n                cmi.append(DOM.createElement(`<div class=\"${classItems.label}\">Copy Selector</div>`));\n                cmi.addEventListener(\"click\", () => {\n                    BDV2.NativeModule.copy(selector);\n                    cmWrap.style.display = \"none\"\n                });\n                cmi.addEventListener(\"mouseover\", (e) => {\n                    let elements = DOM.queryAll(\"div[role=menuitem].\"+Utils.removeDa(classItems.focused))\n                    elements && elements.forEach(elem => elem.classList.remove(classItems.focused))\n                    cmi.classList.add(classItems.focused)\n                })\n                cmi.addEventListener(\"mouseout\", (e) => {\n                    cmi.classList.remove(classItems.focused)\n                })\n                cmg.append(cmi);\n                if(scroller.childNodes.length){ // apend a separator\n                    const separator = DOM.createElement(`<div role=\"separator\" class=\"${classItems.separator}\"></div>`)\n                    scroller.append(separator)\n                }\n                scroller.append(cmg);\n                if(cmWrap.clientHeight < cmWrap.scrollHeight){\n                    console.log(\"overflowing \"+cmWrap.style.top)\n                    cmWrap.style.top = (cmWrap.style.top - cmg.clientHeight) + \"px\";\n                    console.log(\"overflowing\"+cmWrap.style.top)\n                }\n            }\n    \n            setTimeout(attach, 1);\n        }catch(e){\n            console.error(e)\n        }\n    }\n\n    getSelector(element) {\n        if (element.id) return `#${element.id}`;\n        /**\n         * \n         * @param {HTMLElement} el \n         */\n        function fullPath(el){\n            var names = [];\n            while (el.parentNode){\n              if (el.id){\n                names.unshift('#'+el.id);\n                break;\n              }else{\n                if (el==el.ownerDocument.documentElement) names.unshift(el.tagName.toLowerCase()+Array.from(el.classList.entries()).map(e => \".\"+e).join(\"\"));\n                else{\n                  for (var c=1,e=el;e.previousElementSibling;e=e.previousElementSibling,c++);\n                  names.unshift(el.tagName.toLowerCase()+((typeof el.className === \"string\" && el.className) || \"\").split(\" \").filter(e => !!e).map(e => \".\"+e).join(\"\")+\":nth-child(\"+c+\")\");\n                }\n                el=el.parentNode;\n              }\n            }\n            return names.join(\" > \");\n        }\n        return fullPath(element)\n    }\n};","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class Switch extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {checked: this.props.checked};\n        this.onChange = this.onChange.bind(this);\n    }\n\n    onChange(value) {\n        if (this.props.disabled) return;\n        this.props.onChange(value);\n        this.setState({checked: value});\n    }\n\n    render() {\n        return <Lightcord.Api.Components.inputs.Switch onChange={this.onChange} value={this.state.checked} />\n    }\n}","import BDV2 from \"../modules/v2\";\nimport Switch from \"./components/switch\";\n\nlet classnames = []\nfunction getClassName(name){\n    let className = classnames.find(e => e.startsWith(name+\"-\"))\n    if(className)return className\n    className = BDModules.get(e => e[name])[0][name]\n    classnames.push(className)\n    return className\n}\n\nexport default class SwitchItem extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    onChange() {\n        this.props.checked = !this.props.checked;\n        this.props.onChange(this.props.id, this.props.checked);\n    }\n\n    render() {\n        let {text, info} = this.props.data;\n        if(this.props.data.experimental){\n            if(!classnames.find(e => e.startsWith(\"beta-\"))){\n                classnames.push(BDModules.get(e => e.beta && (!e.container && !e.userSettingsVoice))[0].beta)\n            }\n            info = [\n                info,\n                React.createElement(\"sup\", {className: getClassName(\"beta\")}, \"(EXPERIMENTAL)\")\n            ]\n        }\n        return BDV2.react.createElement(\"div\", {className: \"ui-flex flex-vertical flex-justify-start flex-align-stretch flex-nowrap ui-switch-item\"},\n            BDV2.react.createElement(\"div\", {className: \"ui-flex flex-horizontal flex-justify-start flex-align-stretch flex-nowrap\"},\n                BDV2.react.createElement(\"h3\", {key: \"title\", className: \"ui-form-title h3 margin-reset margin-reset ui-flex-child\"}, text),\n                BDV2.react.createElement(Switch, {key: \"switch\", onChange: this.onChange, checked: this.props.checked})\n            ),\n            BDV2.react.createElement(\"div\", {className: \"ui-form-text style-description margin-top-4\", style: {flex: \"1 1 auto\"}}, info)\n        );\n    }\n}","let marginModule = BDModules.get(e => e.marginTop60)[0]\r\n\r\nexport default class MarginTop extends React.Component {\r\n    render(){\r\n        if(!marginModule)marginModule = BDModules.get(e => e.marginTop60)[0]\r\n        return <div className={marginModule.marginTop60}></div>\r\n    }\r\n}","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"../modules/v2\";\n\nimport SettingsTitle from \"./settingsTitle\";\nimport Switch from \"./switch\";\nimport MarginTop from \"./margintop\";\nimport { useForceUpdate } from \"../modules/hooks\";\n\nlet formModule\nlet switchItem\nlet betaClassNames\nexport default class V2C_SettingsGroup extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            error: false\n        }\n    }\n\n    renderOldSettings() {\n        const {title, settings, button} = this.props;\n        const buttonComponent = button ? BDV2.react.createElement(\"button\", {key: \"title-button\", className: \"bd-pfbtn\", onClick: button.onClick}, button.title) : null;\n        return [BDV2.react.createElement(SettingsTitle, {text: title}),\n                buttonComponent,\n                settings.map(setting => {\n                    return BDV2.react.createElement(Switch, {id: setting.id, key: setting.id, data: setting, checked: settingsCookie[setting.id], onChange: (id, checked) => {\n                        this.props.onChange(id, checked);\n                        this.forceUpdate()\n                    }});\n                })];\n    }\n\n    componentDidCatch(err, errInfo){\n        console.log(err, errInfo)\n        this.setState({\n            error: true\n        })\n    }\n\n    render(){\n        if(this.state.error){\n            try{\n                return this.renderOldSettings()\n            }catch(e){\n                console.error(e)\n                return null\n            }\n        }else{\n            try{\n                if(!formModule)formModule = BDV2.WebpackModules.find(e => e.FormSection)\n                if(!switchItem)switchItem = BDV2.WebpackModules.find(e => e.default && e.default.displayName === \"SwitchItem\")\n                if(!betaClassNames)betaClassNames = BDV2.WebpackModules.find(e => e.beta && (!e.container && !e.userSettingsVoice))\n                \n                let children = []\n                if(this.props.description){\n                    children.push(<formModule.FormText type=\"description\" selectable={false}>\n                        {this.props.description}\n                    </formModule.FormText>, <MarginTop></MarginTop>)\n                }\n                children.push(...this.props.settings.map(setting => {\n                    let info = [\n                        setting.text\n                    ]\n                    if(setting.experimental){\n                        info.push(<sup className={betaClassNames.beta}>(EXPERIMENTAL)</sup>)\n                    }\n                    return React.createElement(() => {\n                        const forceUpdate = useForceUpdate()\n                        return <switchItem.default onChange={(val) => {\n                            this.props.onChange(setting.id, val);\n                            forceUpdate()\n                        }} key={setting.id} value={settingsCookie[setting.id]} className={__SECRET_EMOTION__.css({\n                            marginBottom: \"20px\"\n                        })} disabled={false} hideBorder={false}\n                            note={setting.info} tooltipNote={null}>\n                            {info}\n                        </switchItem.default>\n                    })\n                }))\n                return <formModule.FormSection tag=\"h2\" title={this.props.title}>\n                    {children}\n                </formModule.FormSection>\n            }catch(e){\n                console.error(e)\n                setImmediate(()=>{\n                    this.setState({\n                        error: true\n                    })\n                })\n                return null\n            }\n        }\n    }\n}","import BDV2 from \"../modules/v2\";\r\n\r\nimport SettingsGroup from \"./settingsGroup\";\r\nimport MarginTop from \"./margintop\";\r\n\r\nexport default class V2C_SectionedSettingsPanel extends BDV2.reactComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return this.props.sections.map((section, i) => {\r\n            return [\r\n                i !== 0 ? BDV2.react.createElement(MarginTop, {}) : null,\r\n                BDV2.react.createElement(SettingsGroup, Object.assign({}, section, {onChange: this.props.onChange}))\r\n            ]\r\n        })\r\n    }\r\n}","import BDV2 from \"../modules/v2\";\r\n\r\nexport default class V2C_Checkbox extends BDV2.reactComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClick = this.onClick.bind(this);\r\n        this.setInitialState();\r\n    }\r\n\r\n    setInitialState() {\r\n        this.state = {\r\n            checked: this.props.checked || false\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return BDV2.react.createElement(\r\n            \"li\",\r\n            null,\r\n            BDV2.react.createElement(\r\n                \"div\",\r\n                {className: \"checkbox \"+BDModules.get(e => e.checkboxElement)[0].checkbox, onClick: this.onClick},\r\n                BDV2.react.createElement(\r\n                    \"div\",\r\n                    {className: \"checkbox-inner \"+BDModules.get(e => e.checkboxInner)[0].checkboxInner},\r\n                    BDV2.react.createElement(\"input\", {className: BDModules.get(e => e.checkboxElement)[0].checkboxElement, checked: this.state.checked, onChange: () => {}, type: \"checkbox\"}),\r\n                    BDV2.react.createElement(\"span\", null)\r\n                ),\r\n                BDV2.react.createElement(\r\n                    \"span\",\r\n                    null,\r\n                    this.props.text\r\n                )\r\n            )\r\n        );\r\n    }\r\n\r\n    onClick() {\r\n        this.props.onChange(this.props.id, !this.state.checked);\r\n        this.setState({\r\n            checked: !this.state.checked\r\n        });\r\n    }\r\n}","import {settingsCookie} from \"../0globals\";\nimport Settings from \"../modules/settingsPanel\";\nimport BDV2 from \"../modules/v2\";\nimport DataStore from \"../modules/dataStore\";\nimport DOM from \"../modules/domtools\";\nimport Utils from \"../modules/utils\"\n\nimport Checkbox from \"./checkbox\";\n\nexport default class V2C_CssEditorDetached extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        const self = this;\n        self.onClick = self.onClick.bind(self);\n        self.updateCss = self.updateCss.bind(self);\n        self.saveCss = self.saveCss.bind(self);\n        self.onChange = self.onChange.bind(self);\n    }\n\n    componentDidMount() {\n        DOM.addClass(DOM.query(\"#app-mount\"), \"bd-detached-editor\");\n        BDV2.editorDetached = true;\n        // this.updateLineCount();\n        this.editor = ace.edit(\"bd-customcss-editor-detached\");\n        this.editor.setTheme(\"ace/theme/discord\");\n        this.editor.session.setMode(\"ace/mode/css\");\n        this.editor.setShowPrintMargin(false);\n        this.editor.setFontSize(14);\n        this.editor.on(\"change\", () => {\n            if (!settingsCookie[\"bda-css-0\"]) return;\n            this.saveCss();\n            this.updateCss();\n        });\n\n    }\n\n    componentWillUnmount() {\n        DOM.removeClass(DOM.query(\"#app-mount\"), \"bd-detached-editor\");\n        BDV2.editorDetached = false;\n        this.editor.destroy();\n    }\n\n    updateLineCount() {\n        const lineCount = this.refs.editor.value.split(\"\\n\").length;\n        if (lineCount == this.props.lines) return;\n        this.refs.lines.textContent = Array.from(new Array(lineCount), (_, i) => i + 1).join(\".\\n\") + \".\";\n        this.props.lines = lineCount;\n    }\n\n    get options() {\n        return {\n            lineNumbers: true,\n            mode: \"css\",\n            indentUnit: 4,\n            theme: \"material\",\n            scrollbarStyle: \"simple\"\n        };\n    }\n\n    get css() {\n        const _ccss = DataStore.getBDData(\"bdcustomcss\");\n        let ccss = \"\";\n        if (_ccss && _ccss !== \"\") {\n            ccss = Buffer.from(_ccss, \"base64\").toString(\"utf8\");\n        }\n        return ccss;\n    }\n\n    get root() {\n        const _root = DOM.query(\"#bd-customcss-detach-container\");\n        if (!_root) {\n            if (!this.injectRoot()) return null;\n            return this.detachedRoot;\n        }\n        return _root;\n    }\n\n    injectRoot() {\n        const app = DOM.query(\".app, .\"+Utils.removeDa(BDModules.get(e => e.app && e.layers)[0].app));\n        if (!app) return false;\n        DOM.insertAfter(DOM.createElement(`<div id=\"bd-customcss-detach-container\">`), app);\n        return true;\n    }\n\n    render() {\n        const self = this;\n        return BDV2.react.createElement(\n            \"div\",\n            {className: \"bd-detached-css-editor\", id: \"bd-customcss-detach-editor\"},\n            BDV2.react.createElement(\n                \"div\",\n                {id: \"bd-customcss-innerpane\"},\n                BDV2.react.createElement(\"div\", {className: \"editor-wrapper\"},\n                    BDV2.react.createElement(\"div\", {id: \"bd-customcss-editor-detached\", className: \"editor\", ref: \"editor\"}, self.css)\n                ),\n                BDV2.react.createElement(\n                    \"div\",\n                    {id: \"bd-customcss-attach-controls\"},\n                    BDV2.react.createElement(\n                        \"ul\",\n                        {className: \"checkbox-group\"},\n                        BDV2.react.createElement(Checkbox, {id: \"live-update\", text: \"Live Update\", onChange: self.onChange, checked: settingsCookie[\"bda-css-0\"]})\n                    ),\n                    BDV2.react.createElement(\n                        \"div\",\n                        {id: \"bd-customcss-detach-controls-button\"},\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"3px 0 0 3px\", borderRight: \"1px solid #3f4146\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"update\");\n                                }},\n                            \"Update\"\n                        ),\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"0\", borderLeft: \"1px solid #2d2d2d\", borderRight: \"1px solid #2d2d2d\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"save\");\n                                }},\n                            \"Save\"\n                        ),\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"0 3px 3px 0\", borderLeft: \"1px solid #3f4146\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"attach\");\n                                }},\n                            \"Attach\"\n                        ),\n                        BDV2.react.createElement(\n                            \"span\",\n                            {style: {fontSize: \"10px\", marginLeft: \"5px\"}},\n                            \"Unsaved changes are lost on attach\"\n                        )\n                    )\n                )\n            )\n        );\n    }\n\n    onChange(id, checked) {\n        switch (id) {\n            case \"live-update\":\n                settingsCookie[\"bda-css-0\"] = checked;\n                Settings.saveSettings();\n                break;\n        }\n    }\n\n    onClick(id) {\n        const self = this;\n        switch (id) {\n            case \"attach\":\n                if (DOM.query(\"#editor-detached\")) self.props.attach();\n                BDV2.reactDom.unmountComponentAtNode(self.root);\n                self.root.remove();\n                break;\n            case \"update\":\n                self.updateCss();\n                break;\n            case \"save\":\n                self.saveCss();\n                break;\n        }\n    }\n\n    updateCss() {\n        DOM.removeStyle(\"customcss\");\n        DOM.addStyle(\"customcss\", this.editor.session.getValue());\n    }\n\n    saveCss() {\n        DataStore.setBDData(\"bdcustomcss\", Buffer.from(this.editor.session.getValue(), \"utf-8\").toString(\"base64\"));\n    }\n}","import {settingsCookie} from \"../0globals\";\nimport Settings from \"../modules/settingsPanel\";\nimport BDV2 from \"../modules/v2\";\nimport DataStore from \"../modules/dataStore\";\nimport DOM from \"../modules/domtools\";\nimport Utils from \"../modules/utils\"\n\nimport SettingsTitle from \"./settingsTitle\";\nimport Checkbox from \"./checkbox\";\nimport V2C_CssEditorDetached from \"./cssEditorDetached\";\n\nexport default class V2C_CssEditor extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        const self = this;\n        self.props.lines = 0;\n        self.setInitialState();\n        self.attach = self.attach.bind(self);\n        self.detachedEditor = BDV2.react.createElement(V2C_CssEditorDetached, {attach: self.attach});\n        self.onClick = self.onClick.bind(self);\n        self.updateCss = self.updateCss.bind(self);\n        self.saveCss = self.saveCss.bind(self);\n        self.detach = self.detach.bind(self);\n    }\n\n    setInitialState() {\n        this.state = {\n            detached: this.props.detached || BDV2.editorDetached\n        };\n    }\n\n    componentDidMount() {\n        // this.updateLineCount();\n        this.editor = ace.edit(\"bd-customcss-editor\");\n        this.editor.setTheme(\"ace/theme/discord\");\n        this.editor.session.setMode(\"ace/mode/css\");\n        this.editor.setShowPrintMargin(false);\n        this.editor.setFontSize(14);\n        this.editor.on(\"change\", () => {\n            if (!settingsCookie[\"bda-css-0\"]) return;\n            this.saveCss();\n            this.updateCss();\n        });\n    }\n\n    componentWillUnmount() {\n        this.editor.destroy();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const self = this;\n        if (prevState.detached && !self.state.detached) {\n            BDV2.reactDom.unmountComponentAtNode(self.detachedRoot);\n        }\n    }\n\n    codeMirror() {\n    }\n\n    get options() {\n        return {\n            lineNumbers: true,\n            mode: \"css\",\n            indentUnit: 4,\n            theme: \"material\",\n            scrollbarStyle: \"simple\"\n        };\n    }\n\n    get css() {\n        const _ccss = DataStore.getBDData(\"bdcustomcss\");\n        let ccss = \"\";\n        if (_ccss && _ccss !== \"\") {\n            ccss = Buffer.from(_ccss, \"base64\").toString(\"utf8\");\n        }\n        return ccss;\n    }\n\n    updateLineCount() {\n        const lineCount = this.refs.editor.value.split(\"\\n\").length;\n        if (lineCount == this.props.lines) return;\n        this.refs.lines.textContent = Array.from(new Array(lineCount), (_, i) => i + 1).join(\".\\n\") + \".\";\n        this.props.lines = lineCount;\n    }\n\n    render() {\n        const self = this;\n\n        const {detached} = self.state;\n        return [\n            detached && BDV2.react.createElement(\n                \"div\",\n                {id: \"editor-detached\"},\n                BDV2.react.createElement(SettingsTitle, {text: \"Custom CSS Editor\"}),\n                BDV2.react.createElement(\n                    \"h3\",\n                    null,\n                    \"Editor Detached\"\n                ),\n                BDV2.react.createElement(\n                    \"button\",\n                    {className: \"btn btn-primary\", onClick: () => {\n                            self.attach();\n                        }},\n                    \"Attach\"\n                )\n            ),\n            !detached && BDV2.react.createElement(\n                \"div\",\n                null,\n                BDV2.react.createElement(SettingsTitle, {text: \"Custom CSS Editor\"}),\n                BDV2.react.createElement(\"div\", {className: \"editor-wrapper\"},\n                    BDV2.react.createElement(\"div\", {id: \"bd-customcss-editor\", className: \"editor\", ref: \"editor\"}, self.css)\n                ),\n                BDV2.react.createElement(\n                    \"div\",\n                    {id: \"bd-customcss-attach-controls\"},\n                    BDV2.react.createElement(\n                        \"ul\",\n                        {className: \"checkbox-group\"},\n                        BDV2.react.createElement(Checkbox, {id: \"live-update\", text: \"Live Update\", onChange: this.onChange, checked: settingsCookie[\"bda-css-0\"]})\n                    ),\n                    BDV2.react.createElement(\n                        \"div\",\n                        {id: \"bd-customcss-detach-controls-button\"},\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"3px 0 0 3px\", borderRight: \"1px solid #3f4146\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"update\");\n                                }},\n                            \"Update\"\n                        ),\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"0\", borderLeft: \"1px solid #2d2d2d\", borderRight: \"1px solid #2d2d2d\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"save\");\n                                }},\n                            \"Save\"\n                        ),\n                        BDV2.react.createElement(\n                            \"button\",\n                            {style: {borderRadius: \"0 3px 3px 0\", borderLeft: \"1px solid #3f4146\"}, className: \"btn btn-primary\", onClick: () => {\n                                    self.onClick(\"detach\");\n                                }},\n                            \"Detach\"\n                        ),\n                        BDV2.react.createElement(\n                            \"span\",\n                            {style: {fontSize: \"10px\", marginLeft: \"5px\"}},\n                            \"Unsaved changes are lost on detach\"\n                        ),\n                        BDV2.react.createElement(\"div\", {className: \"help-text\"},\n                            \"Press \",\n                            BDV2.react.createElement(\"code\", {className: \"inline\"}, \"ctrl\"),\n                            \"+\",\n                            BDV2.react.createElement(\"span\", {className: \"inline\"}, \",\"),\n                            \" with the editor focused to access the editor's settings.\"\n                        )\n                    )\n                )\n            )\n        ]\n    }\n\n    onClick(arg) {\n        const self = this;\n        switch (arg) {\n            case \"update\":\n                self.updateCss();\n                break;\n            case \"save\":\n                self.saveCss();\n                break;\n            case \"detach\":\n                self.detach();\n                break;\n        }\n    }\n\n    onChange(id, checked) {\n        switch (id) {\n            case \"live-update\":\n                settingsCookie[\"bda-css-0\"] = checked;\n                Settings.saveSettings();\n                break;\n        }\n    }\n\n    updateCss() {\n        DOM.removeStyle(\"customcss\");\n        DOM.addStyle(\"customcss\", this.editor.session.getValue());\n    }\n\n    saveCss() {\n        DataStore.setBDData(\"bdcustomcss\", Buffer.from(this.editor.session.getValue(), \"utf-8\").toString(\"base64\"));\n    }\n\n    detach() {\n        const self = this;\n        self.setState({\n            detached: true\n        });\n        const droot = self.detachedRoot;\n        if (!droot) {\n            console.log(\"FAILED TO INJECT ROOT: .app\");\n            return;\n        }\n        BDV2.reactDom.render(self.detachedEditor, droot);\n    }\n\n    get detachedRoot() {\n        const _root = DOM.query(\"#bd-customcss-detach-container\");\n        if (!_root) {\n            if (!this.injectDetachedRoot()) return null;\n            return this.detachedRoot;\n        }\n        return _root;\n    }\n\n    injectDetachedRoot() {\n        const app = DOM.query(\".app, .\"+Utils.removeDa(BDModules.get(e => e.app && e.layers)[0].app));\n        if (!app) return false;\n        DOM.insertAfter(DOM.createElement(`<div id=\"bd-customcss-detach-container\">`), app);\n        return true;\n    }\n\n    attach() {\n        const self = this;\n        self.setState({\n            detached: false\n        });\n    }\n}","import BDV2 from \"../modules/v2\";\r\n\r\nexport default class BDErrorBoundary extends BDV2.reactComponent {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {hasError: false};\r\n    }\r\n\r\n    componentDidCatch() {\r\n      this.setState({hasError: true});\r\n    }\r\n\r\n    render() {\r\n      if (this.state.hasError) return BDV2.react.createElement(\"div\", {className: \"react-error\"}, \"Component Error\");  \r\n      return this.props.children; \r\n    }\r\n}\r\n\r\nconst originalRender = BDErrorBoundary.prototype.render;\r\nObject.defineProperty(BDErrorBoundary.prototype, \"render\", {\r\n    enumerable: false,\r\n    configurable: false,\r\n    set: function() {console.warn(\"Addon policy for plugins #5 https://github.com/rauenzi/BetterDiscordApp/wiki/Addon-Policies#plugins\");},\r\n    get: () => originalRender\r\n}); ","import BDV2 from \"../modules/v2\";\r\n\r\nexport default class V2C_ContentColumn extends BDV2.reactComponent {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    static get displayName() {return \"ContentColumn\";}\r\n\r\n    render() {\r\n        //let contentModule = BDModules.get(e => e.contentColumn)[0]\r\n        let title = this.props.title ? BDV2.react.createElement(\"h2\", {className: \"ui-form-title h2 margin-reset margin-bottom-20\"}, this.props.title) : null\r\n        return [\r\n            title,\r\n            this.props.children\r\n        ]\r\n        return BDV2.react.createElement(\r\n            \"div\",\r\n            {className: contentModule.contentColumn + \" \"+contentModule.contentColumnDefault+\" content-column default\", style: {padding: \"60px 40px 0px\"}},\r\n            title,\r\n            this.props.children\r\n        );\r\n    }\r\n}","import BDV2 from \"../modules/v2\";\r\n\r\nexport default class V2C_ReloadIcon extends BDV2.reactComponent {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return BDV2.react.createElement(\"svg\", {\r\n                xmlns: \"http://www.w3.org/2000/svg\",\r\n                viewBox: \"0 0 24 24\",\r\n                fill: \"#dcddde\",\r\n                className: \"bd-reload \" + this.props.className,\r\n                onClick: this.props.onClick,\r\n                style: {width: this.props.size || \"24px\", height: this.props.size || \"24px\"}\r\n            },\r\n            BDV2.react.createElement(\"path\", {d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"}),\r\n            BDV2.react.createElement(\"path\", {fill: \"none\", d: \"M0 0h24v24H0z\"})\r\n        );\r\n    }\r\n}","import BDV2 from \"../modules/v2\";\r\n\r\nexport default class V2C_XSvg extends BDV2.reactComponent {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return BDV2.react.createElement(\r\n            \"svg\",\r\n            {xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 12 12\", style: {width: \"18px\", height: \"18px\"}},\r\n            BDV2.react.createElement(\r\n                \"g\",\r\n                {className: \"background\", fill: \"none\", fillRule: \"evenodd\"},\r\n                BDV2.react.createElement(\"path\", {d: \"M0 0h12v12H0\"}),\r\n                BDV2.react.createElement(\"path\", {className: \"fill\", fill: \"#dcddde\", d: \"M9.5 3.205L8.795 2.5 6 5.295 3.205 2.5l-.705.705L5.295 6 2.5 8.795l.705.705L6 6.705 8.795 9.5l.705-.705L6.705 6\"})\r\n            )\r\n        );\r\n    }\r\n}","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class Edit extends React.Component {\n    render() {\n        const size = this.props.size || \"24px\";\n        return <svg className={this.props.className || \"\"} viewBox=\"0 0 24 24\" fill=\"var(--text-normal)\" style={{width: size, height: size}} onClick={this.props.onClick}>\n                <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\n                <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n               </svg>;\n    }\n}","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class Delete extends React.Component {\n    render() {\n        const size = this.props.size || \"24px\";\n        return <svg className={this.props.className || \"\"} fill=\"var(--text-normal)\" viewBox=\"0 0 24 24\" style={{width: size, height: size}} onClick={this.props.onClick}>\n                    <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"/>\n                    <path fill=\"none\" d=\"M0 0h24v24H0z\"/>\n                </svg>;\n    }\n}","import {settingsCookie} from \"../0globals\";\nimport BDV2 from \"../modules/v2\";\nimport Utils from \"../modules/utils\";\nimport DOM from \"../modules/domtools\";\n\nimport XSvg from \"./xSvg\";\nimport ReloadIcon from \"./reloadIcon\";\nimport EditIcon from \"./icons/edit\";\nimport DeleteIcon from \"./icons/delete\";\nimport Switch from \"./components/switch\";\nimport TooltipWrap from \"./tooltipWrap\";\nimport { processFile } from \"../modules/pluginCertifier\";\nimport contentManager from \"../modules/contentManager\";\nimport { resolve } from \"path\";\n\nconst React = BDV2.React;\nconst anchorClasses = BDV2.anchorClasses;\n\nexport default class V2C_PluginCard extends BDV2.reactComponent {\n\n    constructor(props) {\n        super(props);\n        this.onChange = this.onChange.bind(this);\n        this.showSettings = this.showSettings.bind(this);\n        this.setInitialState();\n        this.hasSettings = this.props.addon.plugin && typeof(this.props.addon.plugin.getSettingsPanel) === \"function\";\n        this.settingsPanel = \"\";\n\n        this.edit = this.edit.bind(this);\n        this.delete = this.delete.bind(this);\n        this.reload = this.reload.bind(this);\n    }\n\n    setInitialState() {\n        this.state = {\n            checked: this.props.enabled,\n            settings: false,\n            reloads: 0,\n            trusted: false\n        };\n    }\n\n    showSettings() {\n        if (!this.hasSettings) return;\n        this.setState({settings: true});\n    }\n\n    closeSettings() {\n        this.panelRef.current.innerHTML = \"\";\n        this.setState({settingsOpen: false});\n    }\n\n    componentDidUpdate() {\n        if (!this.state.settings) return;\n        if (typeof this.settingsPanel === \"object\") {\n            this.refs.settingspanel.appendChild(this.settingsPanel);\n        }\n\n        if (!settingsCookie[\"fork-ps-3\"]) return;\n        setImmediate(() => {\n            const isHidden = (container, element) => {\n                if(!container){\n                    console.error(new Error(`Container is undefined.`))\n                    return false\n                }\n                const cTop = container.scrollTop;\n                const cBottom = cTop + container.clientHeight;\n                const eTop = element.offsetTop;\n                const eBottom = eTop + element.clientHeight;\n                return  (eTop < cTop || eBottom > cBottom);\n            };\n\n            const thisNode = this.refs.cardNode;\n            const container = thisNode.closest(\"div[class*=\\\"contentRegionScroller-\\\"]\")\n            if (!isHidden(container, thisNode)) return;\n            const thisNodeOffset = DOM.offset(thisNode);\n            const containerOffset = DOM.offset(container);\n            const original = container.scrollTop;\n            const endPoint = thisNodeOffset.top - containerOffset.top + container.scrollTop - 30;\n            DOM.animate({\n                duration: 300,\n                update: function(progress) {\n                    if (endPoint > original) container.scrollTop = original + (progress * (endPoint - original));\n                    else container.scrollTop = original - (progress * (original - endPoint));\n                }\n            });\n        });\n    }\n\n\n    getString(value) {\n        if (!value) return \"???\";\n        return typeof value == \"string\" ? value : value.toString();\n    }\n\n    get settingsComponent() {\n        try { this.settingsPanel = this.props.addon.plugin.getSettingsPanel(); }\n        catch (err) { Utils.err(\"Plugins\", \"Unable to get settings panel for \" + this.name + \".\", err); }\n\n        return BDV2.react.createElement(\"div\", {className: \"bd-card bd-addon-card settings-open ui-switch-item\", ref: \"cardNode\"},\n                BDV2.react.createElement(\"div\", {style: {\"float\": \"right\", \"cursor\": \"pointer\"}, onClick: () => {\n                        this.refs.settingspanel.innerHTML = \"\";\n                        this.setState({settings: false});\n                    }},\n                BDV2.react.createElement(XSvg, null)\n            ),\n            typeof this.settingsPanel === \"object\" && BDV2.react.createElement(\"div\", {id: `plugin-settings-${this.name}`, className: \"plugin-settings\", ref: \"settingspanel\"}),\n            typeof this.settingsPanel !== \"object\" && BDV2.react.createElement(\"div\", {id: `plugin-settings-${this.name}`, className: \"plugin-settings\", ref: \"settingspanel\", dangerouslySetInnerHTML: {__html: this.settingsPanel}})\n        );\n    }\n\n    buildTitle(name, version, author) {\n        const title = \"{{name}} v{{version}} by {{author}}\".split(/({{[A-Za-z]+}})/);\n        const nameIndex = title.findIndex(s => s == \"{{name}}\");\n        if (nameIndex) title[nameIndex] = React.createElement(\"span\", {className: \"name bda-name\"}, name);\n        const versionIndex = title.findIndex(s => s == \"{{version}}\");\n        if (nameIndex) title[versionIndex] = React.createElement(\"span\", {className: \"version bda-version\"}, version);\n        const authorIndex = title.findIndex(s => s == \"{{author}}\");\n        if (nameIndex) {\n            const props = {className: \"author bda-author\"};\n            if (author.link || author.id) {\n                props.className += ` ${anchorClasses.anchor} ${anchorClasses.anchorUnderlineOnHover}`;\n                props.target = \"_blank\";\n\n                if (author.link) props.href = author.link;\n                if (author.id) props.onClick = () => {BDV2.LayerStack.popLayer(); BDV2.openDM(author.id);};\n            }\n            title[authorIndex] = React.createElement(author.link || author.id ? \"a\" : \"span\", props, author.name);\n        }\n        return title.flat();\n    }\n\n    makeLink(title, url) {\n        const props = {className: \"bda-link bda-link-website\", target: \"_blank\"};\n        if (typeof(url) == \"string\") props.href = url;\n        if (typeof(url) == \"function\") props.onClick = (event) => {event.preventDefault(); event.stopPropagation(); url();};\n        return BDV2.react.createElement(\"a\", props, title);\n    }\n\n    makeButton(title, children, action) {\n        return <TooltipWrap color=\"black\" side=\"top\" text={title}>\n            <div className=\"bd-addon-button\" onClick={action}>{children}</div>\n        </TooltipWrap>;\n    }\n\n    componentWillUnmount(){\n        this.unmounted = true\n    }\n\n    get links() {\n        const links = [];\n        const addon = this.props.addon;\n        if (addon.website) links.push(this.makeLink(\"Website\", addon.website));\n        if (addon.source) links.push(this.makeLink(\"Source\", addon.source));\n        if (addon.invite) {\n            links.push(this.makeLink(\"Support Server\", () => {\n                const tester = /\\.gg\\/(.*)$/;\n                let code = addon.invite;\n                if (tester.test(code)) code = code.match(tester)[1];\n                BDV2.LayerStack.popLayer();\n                BDV2.InviteActions.acceptInviteAndTransitionToInviteChannel(code);\n            }));\n        }\n        if (addon.donate) links.push(this.makeLink(\"Donate\", addon.donate));\n        if (addon.patreon) links.push(this.makeLink(\"Patreon\", addon.patreon));\n        return links;\n    }\n\n    get footer() {\n        const links = this.links;\n        return (links.length || this.hasSettings) && BDV2.react.createElement(\"div\", {className: \"bd-card-footer bda-footer\"},\n            BDV2.react.createElement(\"span\", {className: \"bd-addon-links bda-links\"},\n                ...(links.map((element, index) => index < links.length - 1 ? [element, \" | \"] : element).flat())\n            ),\n            this.hasSettings && BDV2.react.createElement(\"button\", {onClick: this.showSettings, className: \"bd-button bda-settings-button\", disabled: !this.state.checked}, \"Settings\")\n        );\n    }\n\n    onChange() {\n        this.props.toggle && this.props.toggle(this.name);\n        this.setState({checked: !this.state.checked});\n    }\n\n    edit() {this.props.edit(this.name);}\n    delete() {this.props.remove(this.name);}\n    reload() {this.props.reload(this.name);}\n\n    get name() {return this.getString(this.props.addon.plugin ? this.props.addon.plugin.getName() : this.props.addon.name);}\n    get author() {return this.getString(this.props.addon.plugin ? this.props.addon.plugin.getAuthor() : this.props.addon.author);}\n    get description() {return this.getString(this.props.addon.plugin ? this.props.addon.plugin.getDescription() : this.props.addon.description);}\n    get version() {return this.getString(this.props.addon.plugin ? this.props.addon.plugin.getVersion() : this.props.addon.version);}\n\n    render() {\n        if (this.state.settings) return this.settingsComponent;\n        const {authorId, authorLink} = this.props.addon;\n\n        const style = {}\n        if(settingsCookie[\"fork-ps-6\"]){\n            if(!this.isScanning){\n                this.isScanning = true\n                processFile(resolve(this.props.addon.filename.endsWith(\".plugin.js\") ? contentManager.pluginsFolder : contentManager.themesFolder, this.props.addon.filename), (result) => {\n                    if(this.unmounted)return\n    \n                    this.setState({\n                        isTrusted: result.suspect ? \"suspect\" : true\n                    })\n                }, () => {})\n            }else{\n                if(this.state.isTrusted === true){\n                    style.borderColor = \"#4087ed\"\n                }\n                if(this.state.isTrusted === \"suspect\"){\n                    style.borderColor = \"rgb(240, 71, 71)\"\n                }\n            }\n        }\n        \n        return BDV2.react.createElement(\"div\", {className: \"bd-card bd-addon-card settings-closed ui-switch-item\", style},\n            BDV2.react.createElement(\"div\", {className: \"bd-addon-header bda-header\"},\n                    BDV2.react.createElement(\"div\", {className: \"bd-card-title bda-header-title\"}, this.buildTitle(this.name, this.version, {name: this.author, id: authorId, link: authorLink})),\n                    BDV2.react.createElement(\"div\", {className: \"bd-addon-controls bda-controls\"},\n                        this.props.edit && this.makeButton(\"Edit\", <EditIcon className=\"bd-icon\" />, this.edit),\n                        this.props.remove && this.makeButton(\"Delete\", <DeleteIcon className=\"bd-icon\" />, this.delete),\n                        this.props.reload && this.makeButton(\"Reload\", <ReloadIcon className=\"bd-icon\" />, this.reload),\n                        React.createElement(Switch, {onChange: this.onChange, checked: this.state.checked})\n                    )\n            ),\n            BDV2.react.createElement(\"div\", {className: \"bd-scroller-wrap bda-description-wrap scroller-wrap fade\"},\n                BDV2.react.createElement(\"div\", {className: \"bd-scroller bd-addon-description bda-description scroller\"}, this.description)\n            ),\n            this.footer\n        );\n    }\n}\n\nconst originalRender = V2C_PluginCard.prototype.render;\nObject.defineProperty(V2C_PluginCard.prototype, \"render\", {\n    enumerable: false,\n    configurable: false,\n    set: function() {console.warn(\"Addon policy for plugins #5 https://github.com/rauenzi/BetterDiscordApp/wiki/Addon-Policies#plugins\");},\n    get: () => originalRender\n});","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class DownArrow extends React.Component {\n    render() {\n        const size = this.props.size || \"16px\";\n        return <svg className={this.props.className || \"\"} fill=\"var(--text-normal)\" viewBox=\"0 0 24 24\" style={{width: size, height: size}}>\n                    <path d=\"M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z\"/>\n                </svg>;\n    }\n}","import BDV2 from \"../../modules/v2\";\r\nimport Arrow from \"../icons/downarrow\";\r\n\r\nconst React = BDV2.React;\r\n\r\n\r\nexport default class Select extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {open: false, value: this.props.value || this.props.options[0].value};\r\n        this.dropdown = React.createRef();\r\n        this.onChange = this.onChange.bind(this);\r\n        this.showMenu = this.showMenu.bind(this);\r\n        this.hideMenu = this.hideMenu.bind(this);\r\n    }\r\n\r\n    showMenu(event) {\r\n        event.preventDefault();\r\n        this.setState({open: true}, () => {\r\n            document.addEventListener(\"click\", this.hideMenu);\r\n        });\r\n    }\r\n\r\n    hideMenu() {\r\n        this.setState({open: false}, () => {\r\n            document.removeEventListener(\"click\", this.hideMenu);\r\n        });\r\n    }\r\n\r\n    onChange(value) {\r\n        this.setState({value});\r\n        if (this.props.onChange) this.props.onChange(value);\r\n    }\r\n\r\n    get selected() {return this.props.options.find(o => o.value == this.state.value);}\r\n\r\n    get options() {\r\n        const selected = this.selected;\r\n        return <div className=\"bd-select-options\">\r\n            {this.props.options.map(opt => \r\n                <div className={`bd-select-option${selected.value == opt.value ? \" selected\" : \"\"}`} onClick={this.onChange.bind(this, opt.value)}>{opt.label}</div>\r\n            )}\r\n        </div>;\r\n    }\r\n\r\n    render() {\r\n        const style = this.props.style == \"transparent\" ? \" bd-select-transparent\" : \"\";\r\n        const isOpen = this.state.open ? \" menu-open\" : \"\";\r\n        return  <div className={`bd-select${style}${isOpen}`} onClick={this.showMenu} ref={this.dropdown}>\r\n                    <div className=\"bd-select-value\">{this.selected.label}</div>\r\n                    <Arrow className=\"bd-select-arrow\" />\r\n                    {this.state.open && this.options}\r\n                </div>;\r\n    }\r\n}\r\n\r\n// return <div className=\"bd-select-wrap\">\r\n// <label className=\"bd-label\">{this.props.label}</label>\r\n// <div className={`bd-select${style}${isOpen}`} onClick={this.showMenu} ref={this.dropdown}>\r\n//     <div className=\"bd-select-controls\">\r\n//         <div className=\"bd-select-value\">{this.selected.label}</div>\r\n//         <Arrow className=\"bd-select-arrow\" />\r\n//     </div>\r\n// </div>\r\n// {this.state.open && this.options}\r\n// </div>;","import BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class Search extends React.Component {\n    render() {\n        const size = this.props.size || \"16px\";\n        return <svg className={this.props.className || \"\"} fill=\"var(--text-normal)\" viewBox=\"0 0 24 24\" style={{width: size, height: size}}>\n                    <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n                    <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n                </svg>;\n    }\n}","import BDV2 from \"../../modules/v2\";\nimport SearchIcon from \"../icons/search\";\n\nconst React = BDV2.React;\n\nexport default class Search extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            focused: false\n        }\n    }\n    render() {\n        const className = [\"bd-search-wrapper\"]\n        if(this.state.focused)className.push(\"focused\")\n        return <div className={className.join(\" \")}>\n                    <input onChange={this.props.onChange} onKeyDown={this.props.onKeyDown} type=\"text\" \n                    className=\"bd-search\" placeholder={this.props.placeholder} maxLength=\"50\" \n                    onFocus={() => {\n                        this.setState({focused: true})\n                    }} onBlur={() => {\n                        this.setState({focused: false})\n                    }}/>\n                    <SearchIcon />\n                </div>;\n    }\n}","import ErrorBoundary from \"./errorBoundary\";\nimport ContentColumn from \"./contentColumn\";\nimport ReloadIcon from \"./reloadIcon\";\nimport AddonCard from \"./addoncard\";\nimport Dropdown from \"./components/dropdown\";\nimport Search from \"./components/search\";\n\nimport {settingsCookie, pluginCookie, themeCookie, bdplugins, bdthemes} from \"../0globals\";\nimport ContentManager from \"../modules/contentManager\";\nimport BDV2 from \"../modules/v2\";\nimport pluginModule from \"../modules/pluginModule\";\nimport themeModule from \"../modules/themeModule\";\nimport WebpackModules from \"../modules/webpackModules\";\nimport BdApi from \"../modules/bdApi\";\nimport Utils from \"../modules/utils\";\nimport TooltipWrap from \"./tooltipWrap\";\nimport bdEvents from \"../modules/bdEvents\";\nimport EmulatedTooltip from \"./tooltip\";\n\nconst Tooltip = WebpackModules.findByDisplayName(\"Tooltip\");\n\nconst React = BDV2.react;\n\nexport default class CardList extends BDV2.reactComponent {\n    constructor(props) {\n        super(props);\n        this.state = {sort: \"name\", ascending: true, query: \"\"};\n        this.isPlugins = this.props.type == \"plugins\";\n        this.cookie = this.isPlugins ? pluginCookie : themeCookie;\n        this.manager = this.isPlugins ? pluginModule : themeModule;\n\n        this.sort = this.sort.bind(this);\n        this.reverse = this.reverse.bind(this);\n        this.search = this.search.bind(this);\n\n        this.onAddonChanges = function(){\n            this.forceUpdate()\n        }\n        this.onAddonChanges = this.onAddonChanges.bind(this)\n    }\n\n    componentDidMount(){\n        const type = (this.isPlugins ? \"plugin\" : \"theme\") + \"-\"\n        bdEvents.on(`${type}loaded`, this.onAddonChanges)\n        bdEvents.on(`${type}unloaded`, this.onAddonChanges)\n        bdEvents.on(`${type}reloaded`, this.onAddonChanges)\n    }\n\n    componentWillUnmount(){\n        const type = (this.isPlugins ? \"plugin\" : \"theme\") + \"-\"\n        bdEvents.off(`${type}loaded`, this.onAddonChanges)\n        bdEvents.off(`${type}unloaded`, this.onAddonChanges)\n        bdEvents.off(`${type}reloaded`, this.onAddonChanges)\n    }\n\n    openFolder() {\n        const shell = require(\"electron\").shell;\n        const open = shell.openPath || shell.openItem;\n        open(this.isPlugins ? ContentManager.pluginsFolder : ContentManager.themesFolder);\n    }\n\n    edit(name) {\n        console.log(name);\n        this.manager.edit(name);\n    }\n\n    async delete(name) {\n        const shouldDelete = await this.confirmDelete(name);\n        if (!shouldDelete) return;\n        this.manager.delete(name);\n    }\n\n    confirmDelete(name) {\n        return new Promise(resolve => {\n            BdApi.showConfirmationModal(\"Are You Sure?\", `Are you sure you want to delete ${name}?`, {\n                danger: true,\n                confirmText: \"Delete\",\n                onConfirm: () => {resolve(true);},\n                onCancel: () => {resolve(false);}\n            });\n        });\n    }\n\n    get sortOptions() {\n        return [\n            {label: \"Name\", value: \"name\"},\n            {label: \"Author\", value: \"author\"},\n            {label: \"Version\", value: \"version\"},\n            {label: \"Recently Added\", value: \"added\"},\n            {label: \"Last Modified\", value: \"modified\"},\n            {label: \"File Size\", value: \"size\"},\n        ];\n    }\n\n    get directions() {\n        return [\n            {label: \"Ascending\", value: true},\n            {label: \"Descending\", value: false}\n        ];\n    }\n\n    reverse(value) {\n        this.setState({ascending: value});\n    }\n\n    sort(value) {\n        this.setState({sort: value});\n    }\n\n    search(event) {\n        this.setState({query: event.target.value.toLocaleLowerCase()});\n    }\n\n    getProps(addon) {\n        return {\n            key: this.getName(addon),\n            enabled: this.cookie[this.getName(addon)],\n            toggle: this.manager.toggle.bind(this.manager),\n            edit: settingsCookie[\"fork-ps-7\"] ? this.edit.bind(this) : null,\n            remove: this.delete.bind(this),\n            addon: addon,\n            hash: addon.hash\n        };\n    }\n\n    getString(value) {\n        if (!value) return \"???\";\n        return typeof value == \"string\" ? value : value.toString();\n    }\n\n    get list(){\n        return this.props.type === \"plugins\" ? Object.values(bdplugins) : Object.values(bdthemes);\n    }\n\n    getAddons() {\n        const sortedAddons = this.list.sort((a, b) => {\n            const cap = this.state.sort.charAt(0).toUpperCase() + this.state.sort.slice(1);\n            const first = a.plugin && a.plugin[`get${cap}`] ? this.getString(a.plugin[`get${cap}`]()) : this.getString(a[this.state.sort]);\n            const second = b.plugin && b.plugin[`get${cap}`] ? this.getString(b.plugin[`get${cap}`]())  : this.getString(b[this.state.sort]);\n            if (typeof(first) == \"string\") return first.toLocaleLowerCase().localeCompare(second.toLocaleLowerCase());\n            if (first > second) return 1;\n            if (second > first) return -1;\n            return 0;\n        });\n        if (!this.state.ascending) sortedAddons.reverse();\n        const rendered = [];\n        for (let a = 0; a < sortedAddons.length; a++) {\n            const addon = sortedAddons[a];\n            if (this.state.query) {\n                let matches = null;\n                const name = this.getName(addon);\n                const author = this.getAuthor(addon);\n                const description = this.getDescription(addon);\n                const version = this.getVersion(addon);\n                if (name) matches = name.toLocaleLowerCase().includes(this.state.query);\n                if (author) matches = matches || author.toLocaleLowerCase().includes(this.state.query);\n                if (description) matches = matches || description.toLocaleLowerCase().includes(this.state.query);\n                if (version) matches = matches || version.toLocaleLowerCase().includes(this.state.query);\n                if (!matches) continue;\n            }\n            const props = this.getProps(addon);\n            rendered.push(<ErrorBoundary><AddonCard {...props} reload={!settingsCookie[\"fork-ps-5\"] && this.manager.reload.bind(this.manager)} /></ErrorBoundary>);\n        }\n        return rendered;\n    }\n\n    getName(addon) {return this.getString(addon.plugin ? addon.plugin.getName() : addon.name);}\n    getAuthor(addon) {return this.getString(addon.plugin ? addon.plugin.getAuthor() : addon.author);}\n    getDescription(addon) {return this.getString(addon.plugin ? addon.plugin.getDescription() : addon.description);}\n    getVersion(addon) {return this.getString(addon.plugin ? addon.plugin.getVersion() : addon.version);}\n\n    renderCheckUpdates(){\n        if(!window.ZeresPluginLibrary)return null\n        if(!window.PluginUpdates)return null\n        if(typeof window.PluginUpdates.checkAll !== \"function\")return null\n        if(!this.isPlugins)return null\n\n        let tooltipIsShowing = false\n        let tooltip\n        return <TooltipWrap text=\"Checks for updates of plugins that support this feature. Right-click for a list.\">\n            <span style={{marginLeft: \"10px\"}} onMouseLeave={() => {\n                    tooltipIsShowing = false\n                    tooltip.hide()\n                }}>\n                <Lightcord.Api.Components.inputs.Button ref=\"checkUpdateButton\" color=\"brand\" look=\"filled\" size=\"min\" hoverColor=\"default\" onClick={() => {\n                    try{\n                        Utils.showToast(\"Plugin update check in progress.\", {type: \"info\"})\n                        window.PluginUpdates.checkAll()\n                        .then(() => {\n                            Utils.showToast(\"Plugin update check complete.\", {type: \"success\"})\n                        }).catch(err => {\n                            console.error(err)\n                            Utils.showToast(\"An error occured while checking update.\", {type: \"error\"})\n                        })\n                    }catch(e){\n                        console.error(e)\n                        Utils.showToast(\"An error occured while checking update.\", {type: \"error\"})\n                    }\n                }} wrapper={false} disabled={false} onRightClick={() => {\n                    if(!this.refs.checkUpdateButton)return\n                    if (!window.PluginUpdates || !window.PluginUpdates.plugins) return;\n                    if(tooltipIsShowing)return\n                    tooltip = new EmulatedTooltip(this.refs.checkUpdateButton.refs.original.refs.button, Object.values(window.PluginUpdates.plugins).map(p => p.name).join(\", \"), {\n                        side: \"bottom\",\n                        attachEvents: false\n                    })\n                    tooltip.show()\n                    tooltipIsShowing = true\n                }}>\n                    Check for Updates\n                </Lightcord.Api.Components.inputs.Button>\n            </span>\n        </TooltipWrap>\n    }\n\n    render() {\n        const refreshIcon = <Tooltip color=\"black\" position=\"top\" text=\"Reload List\">\n            {(props) => \n            <ReloadIcon {...props} className=\"bd-icon bd-reload bd-reload-header\" size=\"18px\" onClick={async () => {\n                if (this.isPlugins) pluginModule.updatePluginList();\n                else themeModule.updateThemeList();\n                this.forceUpdate();\n            }} />\n            }</Tooltip>;\n        const addonCards = this.getAddons();\n\n        return <ContentColumn title={`${this.props.type.toUpperCase()}—${addonCards.length}`}>\n            <Lightcord.Api.Components.inputs.Button key=\"folder-button\" color=\"brand\" \n                look=\"filled\" size=\"min\" hoverColor=\"default\" onClick={this.openFolder.bind(this)} wrapper={false}\n                style={{\n                    marginLeft: \"10px\"\n                }}>\n                Open {this.isPlugins ? \"Plugin\" : \"Theme\"} Folder\n            </Lightcord.Api.Components.inputs.Button>\n            {this.renderCheckUpdates()}\n            {!settingsCookie[\"fork-ps-5\"] && refreshIcon}\n            <div className=\"bd-controls bd-addon-controls\">\n                <Search onChange={this.search} placeholder={`Search ${this.props.type}...`} />\n                <div className=\"bd-addon-dropdowns\">\n                    <div className=\"bd-select-wrapper\">\n                        <label className=\"bd-label\">Sort by:</label>\n                        <Dropdown options={this.sortOptions} onChange={this.sort} style=\"transparent\" />\n                    </div>\n                    <div className=\"bd-select-wrapper\">\n                        <label className=\"bd-label\">Order:</label>\n                        <Dropdown options={this.directions} onChange={this.reverse} style=\"transparent\" />\n                    </div>\n                    \n                </div>\n            </div>\n            <div className=\"bda-slist bd-addon-list\">{addonCards}</div>\n        </ContentColumn>\n    }\n}\n\nconst originalRender = CardList.prototype.render;\nObject.defineProperty(CardList.prototype, \"render\", {\n    enumerable: false,\n    configurable: false,\n    set: function() {console.warn(\"Addon policy for plugins #5 https://github.com/rauenzi/BetterDiscordApp/wiki/Addon-Policies#plugins\");},\n    get: () => originalRender\n});","import {settingsRPC, defaultRPC} from \"../0globals\";\r\n\r\nconst dispatcher = BDModules.get(m=>m.Dispatcher&&m.default&&m.default.dispatch)[0].default\r\nconst ActionTypes = BDModules.get(m=>m.ActionTypes)[0].ActionTypes\r\n\r\nconst socketId = \"lightcord-spoof-socket\"\r\nconst pid = process.pid\r\n\r\nexport default new class CustomRichPresence {\r\n    constructor(){\r\n        this.enabled = false\r\n\r\n        this.game = settingsRPC\r\n    }\r\n    \r\n    get formatedGame(){\r\n        if(!this.game)return null\r\n        if(this.enabled === false)return null\r\n        let game = {\r\n            name: this.game.name || defaultRPC.name,\r\n            application_id: this.game.application_id || defaultRPC.application_id,\r\n            details: this.game.details || undefined,\r\n            state: this.game.state || undefined,\r\n            timestamps: this.game[\"timestamps.start\"] ? {\r\n                start: this.game[\"timestamps.start\"]\r\n            } : undefined,\r\n            assets: this.game[\"assets.large\"] ? {\r\n                large_image: this.game[\"assets.large\"],\r\n                small_image: this.game[\"assets.small\"] || undefined\r\n            } : undefined\r\n        }\r\n        return game\r\n    }\r\n\r\n    sendGame(){\r\n        dispatcher.dispatch({\r\n            type: ActionTypes.LOCAL_ACTIVITY_UPDATE,\r\n            socketId,\r\n            pid,\r\n            activity: this.formatedGame\r\n        })   \r\n    }\r\n\r\n    enable() {\r\n        if(this.enabled)return\r\n        this.enabled = true\r\n        console.log(\"Enabling custom RichPresence\")\r\n\r\n        this.set(settingsRPC || Object.create(defaultRPC))\r\n\r\n        this.sendGame()\r\n    }\r\n\r\n    disable() {\r\n        if(!this.enabled)return\r\n        this.enabled = false\r\n        console.log(\"Disabling custom RichPresence\")\r\n\r\n        this.sendGame()\r\n    }\r\n\r\n    async fetchAssets(applicationId){\r\n        let assets = await BDModules.get(e => e.getAssets)[0].getAssets(applicationId)\r\n        if(assets.undefined && typeof assets.undefined === \"number\"){\r\n            throw new Error(\"Unknown Application\")\r\n        }\r\n        return assets\r\n    }\r\n\r\n    set(activity){\r\n        this.game = activity\r\n\r\n        this.sendGame()\r\n    }\r\n}","import BDV2 from \"../modules/v2\";\nimport V2C_SettingsTitle from \"./settingsTitle\";\nimport V2C_SettingsGroup from \"./settingsGroup\";\nimport dataStore from \"../modules/dataStore\";\nimport { defaultRPC, settingsRPC } from \"../0globals\";\nimport CustomRichPresence from \"../modules/CustomRichPresence\"\nimport { remote } from \"electron\";\nimport MarginTop from \"./margintop\";\nimport Utils from \"../modules/utils\";\n\nconst React = BDV2.React;\n\nlet V2C_PresenceSettingsModules\nexport default class V2C_PresenceSettings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: dataStore.getSettingGroup(\"rpc\") || defaultRPC,\n            assets: []\n        }\n\n        this.preview = null\n        this.isfetching = false\n        if(this.state.data.application_id){\n            this.fetchAssets()\n        }\n\n        this.assetComponents = new Set()\n    }\n\n    updateWhenFetched(comp){\n        this.assetComponents.add(comp)\n    }\n\n    /**\n     * \n     * @param {InputText} setting \n     */\n    onChange(setting, value){\n        let defaultSetting = RPCProps.find(e => e.id === setting.props.id)\n\n        this.setState({\n            data: Object.assign(settingsRPC, this.state.data, {\n                [defaultSetting.id]: !!value ? value : null\n            }),\n            assets: this.state.assets\n        })\n        if(setting.props.id === \"application_id\"){\n            this.fetchAssets()\n        }\n\n        dataStore.setSettingGroup(\"rpc\", settingsRPC);\n        this.preview.forceUpdate()\n        CustomRichPresence.set(settingsRPC)\n    }\n\n    fetchAssets(){\n        if(this.isfetching === true){\n            let app = this.state.data.application_id\n            setTimeout(() => {\n                if(this.state.data.application_id !== app){\n                    return\n                }\n                this.fetchAssets()\n            }, 5000);\n        }\n        if(!this.state.data.application_id){\n            this.setState({\n                data: this.state.data,\n                assets: []\n            })\n            this.forceUpdate()\n            this.assetComponents.forEach(e => e.forceUpdate())\n            return\n        }\n        this.isfetching = true\n        CustomRichPresence.fetchAssets(this.state.data.application_id)\n        .then(assets => {\n            this.isfetching = false\n            this.setState({\n                data: this.state.data,\n                assets: Object.keys(assets).map(k => {\n                    let asset = assets[k]\n                    return {\n                        id: asset.id,\n                        name: asset.name,\n                        type: asset.type\n                    }\n                })\n            })\n            this.forceUpdate()\n            this.assetComponents.forEach(e => e.forceUpdate())\n        }).catch(() => {\n            this.isfetching = false\n            this.setState({\n                data: this.state.data,\n                assets: []\n            })\n            this.forceUpdate()\n            this.assetComponents.forEach(e => e.forceUpdate())\n        })\n    }\n\n    updatePreview(data){\n        this.setState({\n            data\n        })\n    }\n\n    get modules(){\n        return V2C_PresenceSettingsModules || (V2C_PresenceSettingsModules = [\n            BDModules.get(e => e.marginBottom20)[0]\n        ])\n    }\n\n    render() {\n        let [\n            marginModule\n        ] = this.modules\n        return [\n            <V2C_SettingsGroup title=\"RichPresence Settings\" settings={this.props.settings} onChange={this.props.onChange}/>,\n            <MarginTop />,\n            <V2C_SettingsTitle text=\"RichPresence\"/>,\n            <div>\n                {/** options */}\n                {this.optionsComponents}\n            </div>,\n            <div>\n                <MarginTop />\n                <V2C_SettingsTitle text=\"Preview\"/>\n                {/** preview */}\n                <RpcPreview settings={this}/>\n            </div>,\n            <div className={marginModule.marginBottom20}></div>,\n            <button style={{opacity: 0.01}} onClick={window.ohgodohfuck}>\n                Oh god Oh fuck\n            </button>,\n            <button style={{opacity: 0.01}} onClick={() => {\n                remote.shell.openExternal(\"https://www.youtube.com/watch?v=LkYa7rps_g4\")\n            }}>\n                See ? I pulled a litle sneaky on ya\n            </button>\n        ]\n    }\n\n    get optionsComponents(){\n        return this._optionsComponents || (this._optionsComponents = RPCProps.map(e => {\n            if(e.type === \"text\"){\n                return <InputText setting={e} manager={this} id={e.id}/>\n            }else if(e.type === \"number\"){\n                let array = [<InputNumber setting={e} manager={this} id={e.id}/>]/*\n                if(e.id === \"timestamps.start\"){\n                    array.unshift(<DiscordButton title=\"Copy Current Timestamp\" onClick={() => {\n                        DiscordNative.clipboard.copy(Date.now()+\"\")\n                    }} />)\n                }*/\n                return array[0]\n            }else if(e.type === \"choice\"){\n                if([\"assets.small\", \"assets.large\"].includes(e.id)){\n                    return <InputChoice setting={e} manager={this} id={e.id} choices={[{value: \"none\", label: \"No assets\"}].concat(this.state.assets.map(e => {\n                        return {\n                            value: \"asset-\"+e.id,\n                            label: e.name\n                        }\n                    }))}/>\n                }else{\n                    return \"Unknown choice.\"\n                }\n            }\n        }))\n    }\n}\nconst RPCProps = [\n    {\n        title: \"Application ID\",\n        id: \"application_id\",\n        type: \"number\",\n        placeholder: \"711416957718757418\"\n    },\n    {\n        title: \"Name\",\n        id: \"name\",\n        type: \"text\",\n        placeholder: \"Lightcord\"\n    },\n    {\n        title: \"Details\",\n        id: \"details\",\n        type: \"text\",\n        placeholder: \"Browsing Discord\"\n    },\n    {\n        title: \"State\",\n        id: \"state\",\n        type: \"text\",\n        placeholder: \"Lightcord Client\"\n    },\n    {\n        title: \"Timestamp Start\",\n        id: \"timestamps.start\",\n        type: \"number\",\n        get placeholder(){\n            return Date.now()\n        }\n    },\n    {\n        title: \"LargeAsset\",\n        id: \"assets.large\",\n        type: \"choice\"\n    },\n    {\n        title: \"SmallAsset\",\n        id: \"assets.small\",\n        type: \"choice\"\n    },\n]\n\nlet inputTextModules\nclass InputText extends React.PureComponent {\n    get modules(){\n        if(inputTextModules && inputTextModules[0])return inputTextModules\n        return inputTextModules = [\n            BDModules.get(e => e.removeKeybind)[0],\n            BDModules.get(e => e.marginBottom20)[0],\n            BDModules.get(e => e.defaultMarginh5)[0],\n            BDModules.get(e => e.colorStandard)[0],\n            BDModules.get(e => e.size32)[0],\n            BDModules.get(e => e._horizontal)[0],\n            BDModules.get(e => e.inputMini)[0],\n            BDModules.get(e => e.size16 && e.size20)[0],\n        ]\n    }\n\n    constructor(props){\n        super(props)\n        let setting = this.props.setting\n        this.state = {\n            data: this.props.manager.state.data[setting.id]\n        }\n\n        this.input = <window.Lightcord.Api.Components.inputs.TextInput placeholder={setting.placeholder} name={setting.id} value={this.state.data} onChange={(value) => {\n            this.setState({\n                data: value\n            })\n            if(!this.lastEdited || this.lastEdited < Date.now() - 500){\n                this.props.manager.onChange(this, value)\n                this.lastEdited = Date.now()\n            }else if(!this.isTiming){\n                this.isTiming = setTimeout(() => {\n                    this.props.manager.onChange(this, this.state.data)\n                    this.isTiming = null\n                    this.lastEdited = Date.now()\n                }, 500);\n            }\n        }} type=\"text\"/>\n    }\n\n    render(){\n        let setting = this.props.setting\n\n        let [\n            rowModule,\n            marginModule,\n            marginModule2,\n            colorModule,\n            sizeModule,\n            flexModule,\n            inputModule,\n            sizeModule2,\n        ] = this.modules\n\n        return (<div className={rowModule.row+\" \"+marginModule.marginBottom20}>\n            <div className={`${rowModule.item} ${flexModule.flexChild}`}>\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    {setting.title}\n                </h5>\n                {this.input}\n            </div>\n            <Divider/>\n        </div>)\n    }\n}\n\nlet InputNumberModules\nclass InputNumber extends React.PureComponent {\n    get modules(){\n        return InputNumberModules || (InputNumberModules = [\n            BDModules.get(e => e.removeKeybind)[0],\n            BDModules.get(e => e.marginBottom20)[0],\n            BDModules.get(e => e.defaultMarginh5)[0],\n            BDModules.get(e => e.colorStandard)[0],\n            BDModules.get(e => e.size32)[0],\n            BDModules.get(e => e._horizontal)[0],\n            BDModules.get(e => e.inputMini)[0],\n            BDModules.get(e => e.size16 && e.size20)[0],\n            BDModules.get(e => e.colorTransparent)[0],\n        ])\n    }\n\n    constructor(props){\n        super(props)\n        let setting = this.props.setting\n        this.state = {\n            data: this.props.manager.state.data[setting.id]\n        }\n\n        this.input = <window.Lightcord.Api.Components.inputs.TextInput placeholder={setting.placeholder} name={setting.id} value={this.state.data} type=\"number\" onChange={(value, name, input) => {\n            value = value.replace(/[^\\d]+/g, \"\")\n            if(value == this.state.data){\n                input.setValue(value)\n                return\n            }\n\n            if(!this.lastEdited || this.lastEdited < Date.now() - 500){\n                this.props.manager.onChange(this, value)\n                this.lastEdited = Date.now()\n            }else if(!this.isTiming){\n                this.isTiming = setTimeout(() => {\n                    this.props.manager.onChange(this, this.state.data)\n                    this.isTiming = null\n                    this.lastEdited = Date.now()\n                }, 500);\n            }\n            this.setState({\n                data: value\n            })\n        }} type=\"text\"/>\n    }\n\n    render(){\n        let setting = this.props.setting\n\n        let [\n            rowModule,\n            marginModule,\n            marginModule2,\n            colorModule,\n            sizeModule,\n            flexModule,\n        ] = this.modules\n\n\n        return (<div className={rowModule.row+\" \"+marginModule.marginBottom20}>\n            <div className={`${rowModule.item} ${flexModule.flexChild}`}>\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    {setting.title}\n                </h5>\n                {this.input}\n                {setting.id === \"timestamps.start\" ? \n                <Lightcord.Api.Components.inputs.Button onClick={() => {\n                    DiscordNative.clipboard.copy(Date.now()+\"\")\n                }} color=\"brand\">Copy current timestamp</Lightcord.Api.Components.inputs.Button> : null}\n            </div>\n            <Divider/>\n        </div>)\n    }\n}\n\nlet InputChoiceModules\nclass InputChoice extends React.PureComponent {\n    constructor(props){\n        super(props)\n        let setting = this.props.setting\n        this.state = {\n            data: this.props.manager.state.data[setting.id] ? \"asset-\"+this.props.manager.state.data[setting.id] : \"none\"\n        }\n        this.props.manager.updateWhenFetched(this)\n    }\n\n    onChange(value){\n        if(!this.lastEdited || this.lastEdited < Date.now() - 500){\n            this.props.manager.onChange(this, value === \"none\" ? null : value.replace(\"asset-\", \"\"))\n            this.lastEdited = Date.now()\n        }else if(!this.isTiming){\n            this.isTiming = setTimeout(() => {\n                this.props.manager.onChange(this, this.state.data === \"none\" ? null : this.state.data.replace(\"asset-\", \"\"))\n                this.isTiming = null\n                this.lastEdited = Date.now()\n            }, 500);\n        }\n        this.setState({\n            data: value\n        })\n        this.forceUpdate()\n    }\n    \n    get modules(){\n        return InputChoiceModules || (InputChoiceModules = [\n            BDModules.get(e => e.removeKeybind)[0],\n            BDModules.get(e => e.marginBottom20)[0],\n            BDModules.get(e => e.defaultMarginh5)[0],\n            BDModules.get(e => e.colorStandard)[0],\n            BDModules.get(e => e.size32)[0],\n            BDModules.get(e => e._horizontal)[0]\n        ])\n    }\n\n    render(){\n        let setting = this.props.setting\n\n        let [\n            rowModule,\n            marginModule,\n            marginModule2,\n            colorModule,\n            sizeModule,\n            flexModule\n        ] = this.modules\n        \n        let options = this.props.manager.state.assets.map(e => {\n            return {\n                value: \"asset-\"+e.id,\n                label: e.name\n            }\n        })\n\n        options.unshift({\n            value: \"none\",\n            label: \"No assets\"\n        })\n\n        return (<div className={rowModule.row+\" \"+marginModule.marginBottom20}>\n            <div className={`${rowModule.item} ${flexModule.flexChild}`}>\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    {setting.title}\n                </h5>\n                <window.Lightcord.Api.Components.inputs.Dropdown value={this.state.data} options={options} onChange={this.onChange.bind(this)} />\n                {/*<Select value={this.state.data} onChange={this.onChange.bind(this)} options={options}/>*/}\n            </div>\n            <Divider/>\n        </div>)\n    }\n}\n\nlet DividerModules = []\nclass Divider extends React.PureComponent {\n    get modules(){\n        return DividerModules&&DividerModules[0] ? DividerModules : (DividerModules = [\n            BDModules.get(e => e.divider && Object.keys(e).length === 1)[0],\n            BDModules.get(e => e.dividerDefault)[0]\n        ])\n    }\n\n    render(){\n        let [\n            divider,\n            dividerDefault\n        ] = this.modules\n\n        return <div class={`${divider.divider} ${dividerDefault.dividerDefault}`}></div>\n    }\n}\n\nclass DiscordButton extends React.Component {\n    render(){\n        let rowModule = BDModules.get(e => e.removeKeybind)[0]\n        let marginModule = BDModules.get(e => e.marginBottom20)[0]\n        let flexModule = BDModules.get(e => e._horizontal)[0]\n\n        return (<div className={rowModule.row+\" \"+marginModule.marginBottom20}>\n            <div className={`${rowModule.item} ${flexModule.flexChild}`}>\n                <Lightcord.Api.Components.inputs.Button onClick={this.props.onClick} color=\"brand\">\n                    {this.props.title}\n                </Lightcord.Api.Components.inputs.Button>\n            </div>\n        </div>)\n    }\n}\n\nclass RpcPreview extends React.Component {\n    constructor(props = {}){\n        super(props)\n        this.state = {\n            active: \"profile\"\n        }\n        this.tabs = []\n\n        this.props.settings.preview = this\n    }\n\n    changeTab(tab){\n        let ancientTab = this.state.active\n        if(ancientTab === tab.props.id)return\n\n        this.tabs.forEach(e => {\n            e.setActive(false)\n        })\n        tab.setActive(true)\n        this.setState({\n            active: tab.props.id\n        })\n    }\n\n    render(){\n        return (<div className=\"lc-tabWrapper\">\n            <div className=\"lc-tabnav\" style={{flex: \"0 1 auto\"}}>\n                <Tab preview={this} title=\"Full Profile\" id=\"profile\"/>\n                <Tab preview={this} title=\"User Popout\" id=\"popout\"/>\n            </div>\n            <PresenceErrorCatcher preview={this.preview} state={this.state.rpc} props={{preview: this}} key={this.state.active} />\n        </div>)\n    }   \n\n    isActive(tab){\n        return this.state.active === tab\n    }\n\n    get preview(){\n        if(this.state.active === \"profile\")return Profile\n        return Popout\n    }\n}\n\nclass Tab extends React.Component {\n    constructor(props){\n        super(props)\n\n        this.state = {\n            active: props.preview.isActive(props.id)\n        }\n        props.preview.tabs.push(this)\n    }\n\n    setActive(isActive){\n        this.setState({\n            active: !!isActive\n        })\n    }\n\n    render(){\n        let className = `lc-navItem`\n        if(this.state.active){\n            className += ` lc-navItemActive`\n        }else{\n            className += ` lc-navItemInactive`\n        }\n        return (<div className={className} onClick={()=>{\n            this.props.preview.changeTab(this)\n        }}>\n            {this.props.title}\n        </div>)\n    }\n}\n\nlet emptyClasses\nclass PresenceErrorCatcher extends React.Component {\n    componentDidCatch(err, errInfo){\n        console.error(err, errInfo)\n        this.setState({\n            error: true\n        })\n    }\n    render(){\n        if(!this.state){\n            this.state = {\n                error: false\n            }\n        }\n        if(!this.state.error){\n            try{\n                const preview = new this.props.preview(this.props.props)\n                preview.setState(this.props.state)\n                return preview.render()\n            }catch(err){\n                console.error(err)\n                this.state.error = true\n                return this.render()\n            }\n        }else{\n            emptyClasses = emptyClasses || BDV2.WebpackModules.find(e => e.emptyStateImage && e.emptyState)\n            if(!emptyClasses){\n                Utils.showToast(\"An error occured. Please check the console for more informations.\")\n                return null\n            }\n            return <div style={{\n                margin: \"20px\"\n            }}>\n                <div style={{\n                    backgroundColor: \"var(--background-primary)\", \n                    padding: \"30px 30px\", \n                    borderRadius: \"8px\"\n                }} className={`lc-tab-box-shadow ${emptyClasses.emptyState}`}>\n                    <div className={emptyClasses.emptyStateImage} style={{\n                        marginTop: \"20px\"\n                    }}>\n\n                    </div>\n                    <div className={emptyClasses.emptyStateHeader}>An error occured</div>\n                    <p className={emptyClasses.emptyStateSubtext}>\n                        Please check the console for more informations. Join our ­\n                        <a className={`${BDV2.anchorClasses.anchor} ${BDV2.anchorClasses.anchorUnderlineOnHover}`} role=\"button\" tabindex={0} onClick={() => {\n                            BDV2.joinLC()\n                        }}>\n                            support server\n                        </a>\n                        ­ for help.\n                    </p>\n                </div>\n            </div>\n        }\n    }\n}\n\nlet popoutModules\nlet UserPopoutComponent\nlet PopoutProps\nclass Popout extends React.Component {\n    get modules(){\n        return popoutModules || (popoutModules = [\n            BDV2.WebpackModules.find(e => e.default && e.default.displayName === \"UserPopout\"),\n            BDV2.WebpackModules.find(e => e.default && e.default.getCurrentUser)\n        ])\n    }\n\n    getComponent(){\n        let [\n            UserPopout,\n            userModule\n        ] = this.modules\n\n        const user = userModule.default.getCurrentUser()\n        return React.createElement(() => {\n            let render1 = UserPopout.default({\n                userId: user.id, \n                guildId: null, \n                channelId: null, \n                disableUserProfileLink: true\n            })\n            UserPopoutComponent = render1.type\n            PopoutProps = render1.props\n            return this.render()\n        }, null)\n    }\n\n    render(){\n        if(!UserPopoutComponent)return this.getComponent()\n        let [\n            _UserPopout,\n            userModule\n        ] = this.modules\n\n        const user = userModule.default.getCurrentUser()\n\n        let data = Object.assign({}, defaultRPC, this.props.preview.props.settings.state.data)\n        const activity = (function(){\n            if(!this.game)return null\n            let game = {\n                name: this.game.name || defaultRPC.name,\n                application_id: this.game.application_id || defaultRPC.application_id,\n                details: this.game.details || undefined,\n                state: this.game.state || undefined,\n                timestamps: this.game[\"timestamps.start\"] ? {\n                    start: this.game[\"timestamps.start\"]\n                } : undefined,\n                assets: this.game[\"assets.large\"] ? {\n                    large_image: this.game[\"assets.large\"],\n                    small_image: this.game[\"assets.small\"] || undefined\n                } : undefined,\n                type: 0\n            }\n            return game\n        }).call({\n            game: data\n        })\n\n        const popout = new UserPopoutComponent(Object.assign({}, PopoutProps, {\n            activity: activity,\n            userId: user.id\n        })).render().props.children // bypass tracking\n\n        // remove the stop propagation shit.\n        const container = <div {...window.Lightcord.Api._.excludeProperties(popout.props, [\"onClick\", \"onContextMenu\"])} />\n\n        return <div className=\"lc-userPopout lc-tab-box-shadow\">\n            {container}\n        </div>\n    }\n}\n\nlet profileModules\nlet UserProfileComponent\nlet ProfileProps\nlet connectedProfileStore\nclass Profile extends React.Component {\n    get modules(){\n        return profileModules || (profileModules = [\n            BDV2.WebpackModules.find(e => e.default && e.default.displayName === \"UserProfile\"),\n            BDV2.WebpackModules.find(e => e.default && e.default.getCurrentUser)\n        ])\n    }\n\n    render(){\n        let [\n            UserProfile,\n            userModule\n        ] = this.modules\n\n        const user = userModule.default.getCurrentUser()\n        if(!UserProfileComponent){\n            const render1 = new UserProfile.default({\n                user: user\n            }).render()\n            connectedProfileStore = render1.type\n            const render2 = new render1.type(render1.props).render()\n            const render3 = render2.type.render(render2.props, null)\n            const render4 = new render3.type(render3.props).render()\n            UserProfileComponent = render4.type\n        }\n        if(!UserProfileComponent)throw new Error(`Couldn't find the UserProfileComponent component.`)\n\n        let data = Object.assign({}, defaultRPC, this.props.preview.props.settings.state.data)\n        const activity = (function(){\n            if(!this.game)return null\n            let game = {\n                name: this.game.name || defaultRPC.name,\n                application_id: this.game.application_id || defaultRPC.application_id,\n                details: this.game.details || undefined,\n                state: this.game.state || undefined,\n                timestamps: this.game[\"timestamps.start\"] ? {\n                    start: this.game[\"timestamps.start\"]\n                } : undefined,\n                assets: this.game[\"assets.large\"] ? {\n                    large_image: this.game[\"assets.large\"],\n                    small_image: this.game[\"assets.small\"] || undefined\n                } : undefined,\n                type: 0\n            }\n            return game\n        }).call({\n            game: data\n        })\n\n        ProfileProps = new connectedProfileStore({\n            user: user,\n            close: () => {}\n        }).render().props\n        const profile = new UserProfileComponent(Object.assign({}, ProfileProps, {\n            activity: activity\n        })).render().props.children // bypass tracking\n\n        profile.props.style = {\n            width: \"auto\"\n        }\n\n        return <div className=\"lc-tab lc-tab-box-shadow\">\n            {profile}\n        </div>\n    }\n}","import BDV2 from \"../modules/v2\";\nimport V2C_SettingsTitle from \"./settingsTitle\";\n\n/**\n * @type {typeof import(\"react\")}\n */\nconst React = BDV2.React;\n\nlet marginModule2 = BDModules.get(e => e.defaultMarginh5)[0]\nlet colorModule = BDModules.get(e => e.colorStandard)[0]\nlet sizeModule = BDModules.get(e => e.size32)[0]\nlet scrollbarModule1 = BDModules.get(e => e.scrollbarGhostHairline)[0]\nconst GuildModule = BDModules.get(e => e.default && e.default.getGuilds)[0].default\nconst relationShipModule = BDModules.get(e => e.default && e.default.getRelationships)[0].default\nconst sessionModule = BDModules.get(e => e.default && e.default.getSessions)[0].default\nconst userModule = BDModules.get(e => e.default && e.default.getCurrentUser)[0].default\n\nexport default class V2C_AccountInfos extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        if(!marginModule2)marginModule2 = BDModules.get(e => e.defaultMarginh5)[0]\n        if(!colorModule)colorModule = BDModules.get(e => e.colorStandard)[0]\n        if(!sizeModule)sizeModule = BDModules.get(e => e.size32)[0]\n        return [\n            <V2C_SettingsTitle text=\"Account Infos\"/>,\n            <div>\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    Profile\n                </h5>\n                <CodeContent content={this.getProfileValue()} language=\"diff\" />\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    Statistics\n                </h5>\n                <CodeContent content={this.getStatistics()} language=\"diff\" />\n                <h5 className={colorModule.colorStandard+\" \"+sizeModule.size14+\" \"+marginModule2.h5+\" \"+marginModule2.defaultMarginh5}>\n                    Connected Sessions\n                </h5>\n                <CodeContent content={this.getSessionValue()} language=\"diff\" />\n            </div>,\n            <div className={BDModules.get(e => e.marginBottom20)[0].marginBottom20}></div>\n        ]\n    }\n\n    getSessionValue(){\n        const sessionsRaw = sessionModule.getSessions()\n        const sessions = Object.keys(sessionsRaw).filter(e => e !== \"all\").map(e => sessionsRaw[e])\n\n        if(sessions.length === 0)return \"- No session detected. Please try in a few seconds\"\n        \n        return sessions.map(e => {\n            return `+ id: ${e.sessionId}\n+ os: ${e.clientInfo.os[0].toUpperCase()+e.clientInfo.os.slice(1)}\n+ client: ${e.clientInfo.client}\n+ status: ${e.status}\n+ Activities: ${e.activities.length}`\n        }).join(\"\\n\"+\"-\".repeat(38)+\"\\n\")\n    }\n\n    getProfileValue(){\n        const user = userModule.getCurrentUser()\n        /**\n         * @type {Date}\n         */\n        const createdAt = user.createdAt\n\n        let avatarURL = user.avatarURL\n        if(user.avatar && user.avatar.startsWith(\"a_\")){\n            avatarURL = user.getAvatarURL(\"gif\")\n        }\n\n        if(avatarURL.startsWith(\"/\")){\n            avatarURL = \"https://discord.com\"+avatarURL\n        }\n        if(avatarURL.endsWith(\"?size=128\")){\n            avatarURL = avatarURL.replace(\"?size=128\", \"?size=4096\")\n        }\n\n        return `+ Username: ${user.username}\n+ Discriminator: ${user.discriminator}\n+ Tag: ${user.tag}\n+ ID: ${user.id}\n+ Avatar: ${user.avatar}\n+ Avatar URL: ${avatarURL}\n+ Creation Date: ${(createdAt.getDate()).toString().padStart(2, \"0\")}/${(createdAt.getMonth()+1).toString().padStart(2, \"0\")}/${(createdAt.getFullYear()).toString().padStart(2, \"0\")} ${createdAt.getHours().toString().padStart(2, \"0\")}h ${createdAt.getMinutes().toString().padStart(2, \"0\")}min ${createdAt.getSeconds()}s\n+ Flags: ${user.flags}\n+ Has Nitro: ${user.hasPremiumSubscription ? \"Yes\" : \"No\"}\n- Email: ${user.email}\n- 2FA: ${user.mfaEnabled ? \"Yes\" : \"No\"}\n- Has Been On Mobile: ${user.mobile ? \"Yes\" : \"No\"}\n- Phone: ${user.phone || \"None\"}\n- Verified: ${user.verified}\n- Can See NSFW Channels: ${user.nsfwAllowed}`;\n    }\n\n    getStatistics(){\n\n        const guilds = Object.values(GuildModule.getGuilds())\n        const relations = Object.keys(relationShipModule.getRelationships())\n        const friends = relations.filter(e => relationShipModule.isFriend(e))\n        const blocked = relations.filter(e => relationShipModule.isBlocked(e))\n\n        return `+ Server Count: ${guilds.length} servers\n+ Relations: ${relations.length} relations\n+ Friends Count: ${friends.length} friends\n- Blocked Users Count: ${blocked.length} blocked users`\n    }\n}\n\n\nlet hightlightJS = BDModules.get(e => e.highlight)[0]\nlet messageModule1 = BDModules.get(e => e.markup)[0]\nlet messageModule2 = BDModules.get(e => e.messageContent)[0]\n\nclass CodeContent extends React.Component {\n    render(){\n        if(!messageModule1)messageModule1 = BDModules.get(e => e.markup)[0]\n        if(!messageModule2)messageModule2 = BDModules.get(e => e.messageContent)[0]\n        if(!scrollbarModule1)scrollbarModule1 = BDModules.get(e => e.scrollbarGhostHairline)[0]\n        if(!hightlightJS)hightlightJS = BDModules.get(e => e.listLanguages)[0]\n        return (<div class={`${messageModule1.markup} ${messageModule2.messageContent}`}>\n            <pre>\n                <code class={`${scrollbarModule1.scrollbarGhostHairline} hljs`} dangerouslySetInnerHTML={{__html: hightlightJS.highlight(this.props.language, this.props.content).value}}>\n\n                </code>\n            </pre>\n            <div className={BDModules.get(e => e.marginBottom8)[0].marginBottom8}></div>\n        </div>)\n    }\n}","import Utils from \"./utils\"\n\nconst dispatcher = window.Lightcord.DiscordModules.dispatcher\nconst ChannelModule = BDModules.get(e => e.default && e.default.getChannel && e.default.hasChannel)[0].default\nlet relationShipModule = BDModules.get(e => e.default && e.default.addRelationship)[0]\nlet DMModule = BDModules.get(e => e.default && e.default.closePrivateChannel)[0]\n\nconst blocked = {}\n\nlet userModule = BDModules.get(e => e.default && e.default.getCurrentUser)[0]\nfunction getCurrentUser(){\n    if(userModule)return userModule.default.getCurrentUser()\n    return null\n}\n\nexport default new class AntiBotDM {\n    constructor(){\n        this.antiDM = this.antiDM.bind(this)\n        this.enabled = false\n    }\n\n    enable(){\n        if(this.enabled)return\n        this.enabled = true\n\n        dispatcher.subscribe(\"MESSAGE_CREATE\", this.antiDM)\n    }\n\n    disable(){\n        if(!this.enabled)return\n        this.enabled = false\n\n        dispatcher.unsubscribe(\"MESSAGE_CREATE\", this.antiDM)\n    }\n\n    antiDM(ev){\n        if(!ev.message.author.bot)return\n        if(ev.message.author.id === getCurrentUser().id)\n        if(ev.message.guild_id)return\n\n        const channel = ChannelModule.getChannel(ev.message.channel_id)\n        if(!channel)return // might be broken\n\n        if(channel.type !== 1)return\n\n        if(blocked[ev.message.author.id])return // If the user unblock the bot, Don't block it again.\n\n        if(scanMessage(ev.message)){\n            blocked[ev.message.author.id] = true\n            Utils.showToast(`[AdBlock]: Blocked ${ev.message.author.username}#${ev.message.author.discriminator}`, {\n                \"type\": \"warning\"\n            })\n            if(!relationShipModule)relationShipModule = BDModules.get(e => e.default && e.default.addRelationship)[0]\n            relationShipModule.default.addRelationship(ev.message.author.id, {\n                location: \"ContextMenu\"\n            }, 2)\n            if(!DMModule)DMModule = BDModules.get(e => e.default && e.default.closePrivateChannel)[0]\n            DMModule.default.closePrivateChannel(channel.id, false)\n        }\n    }\n}\n\nfunction scanMessage(message){\n    if(/(discord\\.gg|discord\\.com\\/invite\\/|discordapp\\.com\\/invite\\/)/g.test(message.content))return true\n    if(EmbedsContains(message, \"discord.gg/\") || EmbedsContains(message, \"discord.com/invite/\") || EmbedsContains(message, \"discordapp.com/invite/\"))return true\n\n    return false\n}\nfunction EmbedsContains(message, search){\n    let embeds = message.embeds || []\n    if(embeds.length === 0)return false\n    return embeds.map(embed => {\n        if(embed.type !== \"rich\")return false\n        if((embed.title || \"\").includes(search))return true\n        if((embed.description || \"\").includes(search))return true\n        if(((embed.footer || \"\") && embed.footer.text || \"\").includes(search))return true\n        if((embed.fields || []).map(e => {\n            return e.value.includes(search) || e.name.includes(search)\n        }).includes(true))return true\n        return false\n\n    }).includes(true)\n}","/**\n * Credits to @hellbound1337 on github for the css\n */\n\nimport DOMTools from \"./domtools\"\nimport Utils from \"./utils\"\n\nlet selectors\nconst removeDa = Utils.removeDa\nfunction getSelectors(){\n    let standardSidebarView = BDModules.get(e => e.standardSidebarView)[0]\n    if(!standardSidebarView)return null\n    let defaultClassName = removeDa(standardSidebarView.standardSidebarView)\n    let selects = []\n    let userSettingsAccount = BDModules.get(e => e.userSettingsAccount)[0]\n    const children = BDModules.get(e => typeof e.children === \"string\")[0]\n    selects.push(`#app-mount .${defaultClassName} .payment-info .${removeDa(BDModules.get(e => e.description && typeof e.description === \"string\" && e.description.includes(\"formText\"))[0].description)}`)\n    selects.push(`#app-mount .${defaultClassName} .${removeDa(BDModules.get(e => e.paymentSourceRow)[0].paymentSourceRow)} .${removeDa(BDModules.get(e => e.subText && e.descriptionWrapper)[0].subText)}`)\n    if(userSettingsAccount){\n        selects.push(`#app-mount .${defaultClassName} .${removeDa(userSettingsAccount.userSettingsAccount)} div:nth-child(2)>div:nth-child(2)>.${removeDa(BDModules.get(e => e.viewBody)[0].viewBody)}`)\n        selects.push(`.${removeDa(userSettingsAccount.userSettingsSecurity)} .${removeDa(children.children)} > div:nth-child(2)`)\n    }\n    return selects\n}\n\nexport default new class BlurPrivate {\n    constructor(){\n        this.enabled = false\n    }\n\n    enable(){\n        if(this.enabled)return\n        this.enabled = true\n        selectors = selectors || getSelectors()\n\n        if(!selectors)console.error(new Error(\"Couldn't find selectors to blur personnal informations.\"))\n        DOMTools.addStyle(\"blurPrivate\", `\n${selectors.join(\", \")} {\n    transition: all 150ms cubic-bezier(.55,.085,.68,.53);\n    filter: blur(4px);\n    opacity: .8;\n}\n\n${selectors.map(e => e+\":hover\").join(\", \")}  {\n    transition: all 150ms cubic-bezier(.55,.09,.68,.53);\n    filter: none;\n    opacity: 1;\n}`)\n    }\n\n    disable(){\n        if(!this.enabled)return\n        this.enabled = false\n        DOMTools.removeStyle(\"blurPrivate\")\n    }\n}","export default new class DisableTyping {\r\n    constructor(){\r\n        window.Lightcord.Api.ensureExported(e => e.default && e.default.startTyping)\r\n        .then(typingModule => {\r\n            let self = this\r\n            const startTyping = typingModule.default.startTyping\r\n            typingModule.default.startTyping = function(){\r\n                if(self.disabled)return startTyping.call(this, ...arguments)\r\n            }\r\n            const stopTyping = typingModule.default.stopTyping\r\n            typingModule.default.stopTyping = function(){\r\n                if(self.disabled)return stopTyping.call(this, ...arguments)\r\n            }\r\n            this.disabled = true\r\n        })\r\n        window.Lightcord.BetterDiscord.DisableTyping = this\r\n    }\r\n\r\n    disable(){\r\n        this.disabled = true\r\n    }\r\n\r\n    enable(){\r\n        this.disabled = false\r\n    }\r\n}","// Good luck to read my code, Even me can't read it properly.\n\nimport { stat } from \"fs\"\nimport { uuidv4 } from \"../modules/distant\"\nimport webpackModules from \"../modules/webpackModules\"\nimport { remote } from \"electron\"\nimport MarginTop from \"./margintop\"\n\nlet formModule\nexport default class ApiPreview extends React.PureComponent {\n    constructor(){\n        super(...arguments)\n        this.state = {\n            states: []\n        }\n    }\n\n    render(){\n        if(!formModule)formModule = webpackModules.find(e => e.FormSection)\n        /** \n         * @type {Function[]}\n         */\n        const allComponents = [...new Set(Object.keys(window.Lightcord.Api.Components).map(e => {\n            return Object.keys(window.Lightcord.Api.Components[e]).map(k => window.Lightcord.Api.Components[e][k])\n        }).flat())]\n        return [\n            <formModule.FormSection tag=\"h2\" title=\"Lightcord's Api Availlable components\">\n                <formModule.FormText type=\"description\" className=\"\" selectable={false}>\n                    These components are here for the plugin devs. They can quickly embed any component below with this panel.\n                    <div style={{marginTop: \"20px\"}}></div>\n                    <Lightcord.Api.Components.general.AlertBox type=\"info\">All these components have error handling. If you want none, add `.original` after the component path.</Lightcord.Api.Components.general.AlertBox>\n                    <Lightcord.Api.Components.general.AlertBox type=\"warn\">We do not recommend modifying these component with plugins. Only do this if you know what you are doing.</Lightcord.Api.Components.general.AlertBox>\n                </formModule.FormText>\n                <MarginTop></MarginTop>\n                <Lightcord.Api.Components.inputs.Button color=\"brand\" look=\"outlined\" size=\"medium\" hoverColor=\"green\" onClick={() => {\n                    remote.shell.openExternal(\"https://lightcord.org/LightcordApi/\")\n                }} wrapper={false}>\n                    Documentation\n                </Lightcord.Api.Components.inputs.Button>\n            </formModule.FormSection>,\n            allComponents.map(comp => {\n                const compName = comp.displayName || comp.name\n                const compPath = `Lightcord.Api.Components.${Object.keys(window.Lightcord.Api.Components).find(e => window.Lightcord.Api.Components[e][compName])}.${compName}`\n                return <ComponentPreview key={compPath} comp={comp} />\n            })\n        ]\n    }\n\n    get renders(){\n\n    }\n}\n\nclass ComponentPreview extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            tab: \"preview\",\n            elem: props.comp,\n            options: {}\n        }\n    }\n\n    render(){\n        const comp = this.props.comp\n        let AllPreviews = []\n        if(comp.AllPreviews)AllPreviews = comp.AllPreviews\n        let state = this.state\n        let getProps = () => {\n            let final = {}\n            AllPreviews.forEach(category => {\n                final[Object.keys(category[0])[0]] = category[0][Object.keys(category[0])[0]]\n            })\n            Object.keys(state.options).forEach(key => {\n                final[key] = AllPreviews.find(e => e.find(e => e[key]))[state.options[key]][key]\n            })\n            return final\n        }\n        let renderPreview = () => {\n            return <div style={{margin: \"20px\"}}>\n                <div style={{\n                    backgroundColor: \"var(--background-secondary)\", \n                    padding: \"30px 30px\", \n                    borderRadius: \"8px\"\n                }} className=\"lc-tab-box-shadow\">\n                    {React.createElement(comp, getProps())}\n                </div>\n            </div>\n        }\n        let renderCode = () => {\n            return <div style={{margin: \"20px\"}}>\n                <div style={{\n                    backgroundColor: \"var(--background-secondary)\", \n                    padding: \"30px 30px\", \n                    borderRadius: \"8px\"\n                }} className=\"lc-tab-box-shadow\">\n                    <window.Lightcord.Api.Components.general.SettingSubTitle>\n                        JSX\n                    </window.Lightcord.Api.Components.general.SettingSubTitle>\n                    <window.Lightcord.Api.Components.general.ErrorCatcher>\n                        {React.createElement(() => {\n                            return <window.Lightcord.Api.Components.general.CodeBlock language=\"jsx\" content={generateCode(\"jsx\")}/>\n                        })}\n                    </window.Lightcord.Api.Components.general.ErrorCatcher>\n                    <window.Lightcord.Api.Components.general.SettingSubTitle>           \n                        React\n                    </window.Lightcord.Api.Components.general.SettingSubTitle>\n                    <window.Lightcord.Api.Components.general.ErrorCatcher>\n                        {React.createElement(() => {\n                            return <window.Lightcord.Api.Components.general.CodeBlock language=\"js\" content={generateCode(\"react\")}/>\n                        })}\n                    </window.Lightcord.Api.Components.general.ErrorCatcher>\n                </div>\n            </div>\n        }\n        let getStrForProp = (value, compPath, lang) => {\n            if(typeof value === \"string\"){\n                return value\n            }else if(typeof value === \"boolean\"){\n                return String(value)\n            }else if(typeof value === \"function\"){\n                return value.toString()\n            }else if(typeof value === \"object\"){\n                if(value && value.$$typeof && (value.$$typeof === Symbol.for(\"react.element\") || value.$$typeof === 0xeac7)){\n                    if(compPath === \"Lightcord.Api.Components.general.Tabs\"){\n                        if(lang === \"react\"){\n                            return `React.createElement(\"div\", {style: {\nmarginTop: \"20px\", marginBottom: \"20px\"\n}},\nReact.createElement(\"div\", {style: {\nbackgroundColor: \"var(--background-secondary)\",\npadding: \"30px 30px\",\nborderRadius: \"8px\"\n}, className: \"lc-tab-box-shadow\" },\nReact.createElement(Lightcord.Api.Components.general.Title, null, \"Preview tabs\")\n)\n)`\n                        }else if(lang === \"jsx\"){\n                            return `<div style={{\nmarginTop: \"20px\", marginBottom: \"20px\"\n}}>\n<div style={{\n    backgroundColor: \"var(--background-secondary)\", \n    padding: \"30px 30px\", \n    borderRadius: \"8px\"\n}} className=\"lc-tab-box-shadow\">\n    <Lightcord.Api.Components.general.Title>Preview tabs</Lightcord.Api.Components.general.Title>\n</div>\n</div>`\n                        }\n                    }\n                    return \"Your components here.\"\n                }\n                return JSON.stringify(value, null, \"    \")\n            }else if(typeof value === \"number\"){\n                return String(value)\n            }\n            return String(value)\n        }\n        let generateCode = function(lang){ // code formatting is hard\n            const compName = comp.displayName || comp.name\n            let categories = Object.keys(window.Lightcord.Api.Components)\n            const compCategory = categories.find(e => window.Lightcord.Api.Components[e][compName])\n            const compPath = `Lightcord.Api.Components.${compCategory}.${compName}`\n            const props = getProps()\n\n            if(lang === \"jsx\"){\n                let propStrings = []\n                let childrenProp = null\n                Object.keys(props).forEach(key => {\n                    if(key == \"children\"){\n                        childrenProp = getStrForProp(props[key], compPath, lang)\n                    }else{\n                        let str = key+\"=\"\n                        if(typeof props[key] === \"string\"){\n                            str += JSON.stringify(props[key])\n                        }else{\n                            str += `{${getStrForProp(props[key], compPath, lang)}}`\n                        }\n                        propStrings.push(str)\n                    }\n                })\n                let openTag\n                if(childrenProp){\n                    openTag = `<${compPath} ${propStrings.join(\" \")}>`\n                    let closeTag = `</${compPath}>`\n                    return `${openTag}\\n    ${childrenProp}\\n${closeTag}`\n                }else{\n                    openTag = `<${compPath} ${propStrings.join(\" \")}/>`\n                    return openTag\n                }\n            }else if(lang === \"react\"){\n                let children = props.children || null\n                delete props.children\n                if(children && children.$$typeof && (children.$$typeof === Symbol.for(\"react.element\") || children.$$typeof === 0xeac7)){\n                    children = getStrForProp(children, compPath, lang)\n                }\n                let propStrings = []\n                Object.keys(props).forEach(key => {\n                    let visibleKey = /[^\\w\\d_]/g.test(key) ? JSON.stringify(key) : key\n                    let str = visibleKey+\": \"\n                    if(typeof props[key] === \"string\"){\n                        str += JSON.stringify(props[key])\n                    }else{\n                        str += getStrForProp(props[key], compPath, lang).split(\"\\n\").map((str, i) => {\n                            if(i === 0)return str\n                            return \"    \" + str\n                        }).join(\"\\n\")\n                    }\n                    propStrings.push(str)\n                })\n                let propObject = \"{\"\n                if(propStrings.length){\n                    propStrings.forEach((str, i) => {\n                        let isLast = i === propStrings.length - 1\n                        let isFirst = i === 0\n                        if(!isFirst){\n                            propObject += \",\"\n                        }\n                        propObject += \"\\n    \"\n                        propObject += str\n                        if(isLast){\n                            propObject +=\"\\n}\"\n                        }\n                    })\n                }else{\n                    propObject += \"}\"\n                }\n                let childrenData = typeof children === \"string\" && children.startsWith(\"React.createElement\") ? children : JSON.stringify(children)\n                return `React.createElement(${compPath}, ${propObject}, ${childrenData})`\n            }\n        }\n        let help = comp.help || {}\n        let info = help.info ? <window.Lightcord.Api.Components.general.AlertBox type=\"info\">\n            {help.info}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        let warn = help.warn ? <window.Lightcord.Api.Components.general.AlertBox type=\"warn\">\n            {help.warn}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        let danger = help.danger ? <window.Lightcord.Api.Components.general.AlertBox type=\"danger\">\n            {help.danger}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        let error = help.error ? <window.Lightcord.Api.Components.general.AlertBox type=\"error\">\n            {help.error}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        let success = help.success ? <window.Lightcord.Api.Components.general.AlertBox type=\"success\">\n            {help.success}\n        </window.Lightcord.Api.Components.general.AlertBox> : null\n        return (<div>\n            <window.Lightcord.Api.Components.general.SettingsTitle>\n                {comp.displayName || comp.name}\n            </window.Lightcord.Api.Components.general.SettingsTitle>\n            {info}\n            {success}\n            {warn}\n            {error}\n            {danger}\n            {AllPreviews.map(category => {\n                if(category[0].onClick)return null\n                if(category[0].text)return null\n                if(category[0].children)return null\n                if(category.length === 1)return null\n                \n                let key = Object.keys(category[0])[0]\n                return [\n                    <window.Lightcord.Api.Components.general.SettingSubTitle>\n                        {key}\n                    </window.Lightcord.Api.Components.general.SettingSubTitle>,\n                    <window.Lightcord.Api.Components.inputs.Dropdown options={category.map((e, index) => {\n                        return {\n                            value: \"opt-\"+index,\n                            label: JSON.stringify(e[Object.keys(e)[0]])\n                        }\n                    })} value={\"opt-\"+(state.options[key] || \"0\")} onChange={(value) => {\n                        this.setState({\n                            options: Object.assign({}, state.options, {\n                                [key]: (value.value || \"0\").replace(\"opt-\", \"\")\n                            })\n                        })\n                    }} searchable={true}/>,\n                    <div style={{marginBottom: \"8px\"}}></div>\n                ]\n            })}\n            <window.Lightcord.Api.Components.general.Tabs tabs={[{label: \"Preview\", id: \"preview\"}, {label: \"Code\", id: \"code\"}]} \n                active={state.tab} children={state.tab === \"preview\" ? renderPreview() : renderCode()} onChange={(tab) => {\n                    this.setState({\n                        tab\n                    })\n                }}/>\n        </div>)\n    }\n}","{/* <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"white\" width=\"18px\" height=\"18px\">\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    <path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"/>\n</svg> */}\n\nimport BDV2 from \"../../modules/v2\";\n\nconst React = BDV2.React;\n\nexport default class History extends React.Component {\n    render() {\n        const size = this.props.size || \"18px\";\n        return <svg viewBox=\"0 0 24 24\" fill=\"var(--text-normal)\" className={this.props.className || \"\"} style={{width: size, height: size}} onClick={this.props.onClick}>\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n            <path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"/>\n        </svg>;\n    }\n}","import { themeCookie } from \"../0globals\"\nimport bdEvents from \"./bdEvents\"\nimport DOM from \"./domtools\"\n\nexport default new class popoutWindow {\n    constructor(){\n        /**\n         * @type {Map<string, Window>}\n         */\n        this.windows = new Map()\n        this.enabled = false\n        this.init()\n    }\n\n    async init(){\n        let popoutModule = await window.Lightcord.Api.ensureExported(e => e.default && e.default.getWindow)\n        window.Lightcord.DiscordModules.dispatcher.subscribe(\"POPOUT_WINDOW_OPEN\", (ev) => {\n            setImmediate(() => {\n                /**\n                 * @type {Window}\n                 */\n                const window = popoutModule.default.getWindow(ev.key)\n                this.windows.set(ev.key, window)\n\n                let classList = window.document.body.classList\n                classList.add(\"window-popout\")\n                classList.add(\"lightcord\")\n                classList.add(\"lightcord\")\n\n                this.update(ev.key)\n            })\n        })\n        window.Lightcord.DiscordModules.dispatcher.subscribe(\"POPOUT_WINDOW_CLOSE\", (ev) => {\n            setImmediate(() => {\n                this.windows.delete(ev.key)\n            })\n        })\n        bdEvents.on(\"theme-enabled\", () => {\n            this.update()\n        })\n        bdEvents.on(\"theme-disabled\", () => {\n            this.update()\n        })\n        bdEvents.on(\"theme-reloaded\", () => {\n            this.update()\n        })\n        bdEvents.on(\"theme-unloaded\", () => {\n            this.update()\n        })\n        bdEvents.on(\"theme-loaded\", () => {\n            this.update()\n        })\n    }\n\n    enable(){\n        this.enabled = true\n        this.update()\n    }\n\n    disable(){\n        this.enabled = false\n        this.update()\n    }\n\n    update(key){\n        if(!this.windows.size)return\n        if(!this.enabled){\n            return this.removeThemes(key)\n        }else{\n            return this.applyThemes(key)\n        }\n    }\n\n    removeThemes(key){\n        if(this.enabled)return\n        if(key){\n            let window = this.windows.get(key)\n            if(!window)return\n            let document = window.document\n\n            for(let style of document.querySelectorAll(\"style[data-lightcord-theme=true]\")){\n                style.remove()\n            }\n        }else{\n            for(let key of this.windows.keys()){\n                this.removeThemes(key)\n            }\n        }\n    }\n\n    applyThemes(key){\n        if(!this.enabled)return\n        if(key){\n            let window = this.windows.get(key)\n            if(!window)return\n            let document = window.document\n\n            for(let style of document.querySelectorAll(\"style[data-lightcord-theme=true]\")){\n                style.setAttribute(\"will-remove\", \"true\")\n            }\n\n            Object.keys(bdthemes)\n            .forEach(themeName => {\n                if(!themeCookie[themeName])return // theme disabled\n                const theme = bdthemes[themeName]\n                if(!theme)return //:shrug:\n\n                let existing = document.querySelector(\"style[data-lightcord-theme=true]#\"+DOM.escapeID(theme.id))\n                if(existing){\n                    existing.innerHTML = unescape(theme.css)\n                    existing.removeAttribute(\"will-remove\")\n                }else{\n                    const style = document.createElement(\"style\")\n                    style.id = DOM.escapeID(theme.id)\n                    style.innerHTML = unescape(theme.css)\n                    style.setAttribute(\"data-lightcord-theme\", \"true\")\n                    document.head.append(style)\n                }\n            })\n\n            for(let style of document.querySelectorAll(\"style[will-remove=true]\")){\n                style.remove()\n            }\n        }else{\n            for(let key of this.windows.keys()){\n                this.applyThemes(key)\n            }\n        }\n    }\n}","import BDV2 from \"../../modules/v2\";\r\n\r\nconst React = BDV2.React;\r\n\r\nexport default class TextInput extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {value: this.props.value};\r\n        this.onChange = this.onChange.bind(this);\r\n        this.emitChange = this.emitChange.bind(this);\r\n        this.input = <Lightcord.Api.Components.inputs.TextInput.original ref={console.log} onChange={this.onChange} value={this.state.value} placeholder={this.props.placeholder} onBlur={this.emitChange}/>\r\n    }\r\n\r\n    onChange(value) {\r\n        console.log(value, this.props)\r\n        if (this.props.disabled) return;\r\n        this.props.onChange(value);\r\n        this.setState({value: value});\r\n    }\r\n\r\n    emitChange(){\r\n        console.log(`Should emit changes.`)\r\n    }\r\n\r\n    render() {\r\n        return this.input\r\n    }\r\n}","import BDV2 from \"../modules/v2\";\r\nimport TextInput from \"./components/textinput\";\r\n\r\nlet classnames = []\r\nfunction getClassName(name){\r\n    let className = classnames.find(e => e.startsWith(name+\"-\"))\r\n    if(className)return className\r\n    className = BDModules.get(e => e[name])[0][name]\r\n    classnames.push(className)\r\n    return className\r\n}\r\n\r\nexport default class TextInputSetting extends BDV2.reactComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    onChange(value) {\r\n        this.props.onChange(this.props.id, value);\r\n    }\r\n\r\n    render() {\r\n        let {text, info} = this.props.data;\r\n        if(this.props.data.experimental){\r\n            if(!classnames.find(e => e.startsWith(\"beta-\"))){\r\n                classnames.push(BDModules.get(e => e.beta && (!e.container && !e.userSettingsVoice))[0].beta)\r\n            }\r\n            info = [\r\n                info,\r\n                <sup className={getClassName(\"beta\")}>(EXPERIMENTAL)</sup>\r\n            ]\r\n        }\r\n        return <div className={\"ui-flex flex-vertical flex-justify-start flex-align-stretch flex-nowrap ui-switch-item\"}>\r\n            <div className={\"ui-flex flex-horizontal flex-justify-start flex-align-stretch flex-nowrap\"}>\r\n                <h3 key=\"title\" className=\"ui-form-title h3 margin-reset margin-reset ui-flex-child\">\r\n                    {text}\r\n                </h3>\r\n                <TextInput key=\"input\" onChange={this.onChange} value={this.props.value} placeholder={this.props.placeholder||null} />\r\n            </div>\r\n            <div className=\"ui-form-text style-description margin-top-4\" style={{\r\n                flex: \"1 1 auto\"\r\n            }}>\r\n                {info}\r\n            </div>\r\n        </div>\r\n    }\r\n}","import {settings, settingsCookie, settingsRPC, lightcordSettings} from \"../0globals\";\nimport DataStore from \"./dataStore\";\nimport V2_SettingsPanel_Sidebar from \"./settingsPanelSidebar\";\nimport Utils from \"./utils\";\nimport BDV2 from \"./v2\";\nimport ContentManager from \"./contentManager\";\nimport coloredText from \"./coloredText\";\nimport tfHour from \"./24hour\";\nimport DOM from \"./domtools\";\n\nimport publicServersModule from \"./publicServers\";\nimport voiceMode from \"./voiceMode\";\nimport ClassNormalizer from \"./classNormalizer\";\nimport dMode from \"./devMode\";\n\nimport SectionedSettingsPanel from \"../ui/sectionedSettingsPanel\";\nimport CssEditor from \"../ui/cssEditor\";\nimport CardList from \"../ui/addonlist\";\nimport V2C_PresenceSettings from \"../ui/presenceSettings\";\nimport CustomRichPresence from \"./CustomRichPresence\";\nimport V2C_AccountInfos from \"../ui/AccountInfos\";\nimport { remote, ipcRenderer } from \"electron\";\nimport AntiAdDM from \"./AntiAdDM\";\nimport blurPrivate from \"./blurPrivate\";\nimport disableTyping from \"./disableTyping\";\nimport ApiPreview from \"../ui/ApiPreview\";\nimport Switch from \"../ui/switch\";\nimport MarginTop from \"../ui/margintop\";\nimport webpackModules from \"./webpackModules\";\nimport tooltipWrap from \"../ui/tooltipWrap\";\nimport History from \"../ui/icons/history\";\nimport core from \"./core\";\nimport popoutWindow from \"./popoutWindow\";\nimport TextInputSetting from \"../ui/TextInputSetting\";\nimport { useForceUpdate } from \"./hooks\";\n\nclass BDSidebarHeader extends React.PureComponent {\n    render(){\n        let sidebarComponents = webpackModules.find(e => e.Separator && e.Header && e.Item)\n\n        const changelogButton = React.createElement(tooltipWrap, {color: \"black\", side: \"top\", text: \"Changelog\"}, \n            React.createElement(\"span\", {style: {float: \"right\", cursor: \"pointer\"}, className: \"bd-changelog-button\", onClick: () => {Utils.showChangelogModal(bbdChangelog);}},\n                React.createElement(History, {className: \"bd-icon\", size: \"16px\"})\n            )\n        );\n        let rendered = new sidebarComponents.Header({\n            children: React.createElement(\"span\", null, \"Bandaged BD\", changelogButton),\n            className: \"ui-tab-bar-header\"\n        })\n        return rendered\n    }\n}\n\nlet isClearingCache = false\n\nexport default new class V2_SettingsPanel {\n\n    constructor() {\n        this.onChange = this.onChange.bind(this);\n        this.updateSettings = this.updateSettings.bind(this);\n        this.sidebar = new V2_SettingsPanel_Sidebar();\n\n        this.registerComponents()\n    }\n\n    registerComponents(){\n        /** Lightcord */\n        this.sidebar.register(\"lightcord\", makeComponent(this.lightcordComponent.bind(this)))\n        this.sidebar.register(\"status\", makeComponent(this.PresenceComponent.bind(this)))\n        this.sidebar.register(\"accountinfo\", makeComponent(this.AccountInfosComponent.bind(this)))\n        this.sidebar.register(\"lcapipreview\", makeComponent(this.ApiPreviewComponent.bind(this)))\n\n        /* Bandaged BD */\n        this.sidebar.register(\"BDChangelogTitle\", makeComponent(() => {\n            return new BDSidebarHeader().render()\n        }))\n        this.sidebar.register(\"core\", makeComponent(this.coreComponent.bind(this)))\n        this.sidebar.register(\"customcss\", makeComponent(this.customCssComponent.bind(this)))\n        this.sidebar.register(\"plugins\", makeComponent(this.renderAddonPane(\"plugins\")))\n        this.sidebar.register(\"themes\", makeComponent(this.renderAddonPane(\"themes\")))\n    }\n    \n    get coreSettings() {\n        const settings = this.getSettings(\"core\");\n        const categories = [...new Set(settings.map(s => s.category))];\n        const sections = categories.map(c => {return {title: c, settings: settings.filter(s => s.category == c)};});\n        return sections;\n    }\n\n    get lightcordSettings() {\n        const settings = this.getSettings(\"lightcord\");\n        const categories = [...new Set(settings.map(s => s.category))];\n        const sections = categories.map(c => {return {title: c, settings: settings.filter(s => s.category == c)};});\n        return sections;\n    }\n\n    get PresenceSettings() {\n        return this.getSettings(\"status\")\n    }\n\n    getSettings(category) {\n        return Object.keys(settings).reduce((arr, key) => {\n            const setting = settings[key];\n            if (setting.cat === category && setting.implemented && !setting.hidden) {\n                setting.text = key;\n                arr.push(setting);\n            }\n            return arr;\n        }, []);\n    }\n\n\n    onChange(id, checked, sidebar) {\n        this.updateSettings(id, checked, sidebar);\n    }\n\n    updateSettings(id, enabled, sidebar) {\n        if(![\"lightcord-8\", \"no_window_bound\", \"enable_glasstron\", \"lightcord-10\", \"lightcord-11\"].includes(id))settingsCookie[id] = enabled;\n\n        if (id == \"bda-gs-2\") {\n            if (enabled) DOM.addClass(document.body, \"bd-minimal\");\n            else DOM.removeClass(document.body, \"bd-minimal\");\n        }\n\n        if (id == \"bda-gs-3\") {\n            if (enabled) DOM.addClass(document.body, \"bd-minimal-chan\");\n            else DOM.removeClass(document.body, \"bd-minimal-chan\");\n        }\n\n        if (id == \"bda-gs-1\") {\n            if (enabled) publicServersModule.addButton();\n            else publicServersModule.removeButton();\n        }\n\n        if (id == \"bda-gs-4\") {\n            if (enabled) voiceMode.start();\n            else voiceMode.stop();\n        }\n\n        if (id == \"bda-gs-5\") {\n            if (enabled) DOM.addClass(DOM.query(\"#app-mount\"), \"bda-dark\");\n            else DOM.removeClass(DOM.query(\"#app-mount\"), \"bda-dark\");\n        }\n\n        if (enabled && id == \"bda-gs-6\") tfHour.inject24Hour();\n\n        if (id == \"bda-gs-7\") {\n            if (enabled) coloredText.injectColoredText();\n            else coloredText.removeColoredText();\n        }\n\n        if (id == \"fork-ps-4\") {\n            if (enabled) ClassNormalizer.start();\n            else ClassNormalizer.stop();\n        }\n\n        if (id == \"fork-ps-5\") {\n            if (enabled) {\n                ContentManager.watchContent(\"plugin\");\n                ContentManager.watchContent(\"theme\");\n            }\n            else {\n                ContentManager.unwatchContent(\"plugin\");\n                ContentManager.unwatchContent(\"theme\");\n            }\n        }\n\n        if (id == \"fork-wp-1\") {\n            Utils.setWindowPreference(\"transparent\", enabled);\n            if (enabled) Utils.setWindowPreference(\"backgroundColor\", null);\n            else Utils.setWindowPreference(\"backgroundColor\", \"#2f3136\");\n        }\n\n\n        if (id == \"bda-gs-8\") {\n            if (enabled) dMode.startDebugListener();\n            else dMode.stopDebugListener();\n        }\n\n        if (id == \"fork-dm-1\") {\n            if (enabled) dMode.startCopySelector();\n            else dMode.stopCopySelector();\n        }\n\n        if (id === \"lightcord-1\") {\n            if (enabled) window.Lightcord.Settings.devMode = true\n            else window.Lightcord.Settings.devMode = false\n            sidebar.forceUpdate()\n        }\n        if (id === \"lightcord-2\") {\n            if (enabled) window.Lightcord.Settings.callRingingBeat = true\n            else window.Lightcord.Settings.callRingingBeat = false\n        }\n        if (id === \"lightcord-presence-1\") {\n            if (enabled) {\n                CustomRichPresence.enable()\n                const settingsStore = BDModules.get(e => e.default && typeof e.default === \"object\" && \"showCurrentGame\" in e.default)[0]\n                if(settingsStore && !settingsStore.default.showCurrentGame){\n                    BDModules.get(e => e.default && e.default.updateRemoteSettings)[0].default.updateRemoteSettings({\n                        showCurrentGame: true\n                    })\n                }\n            }\n            else CustomRichPresence.disable()\n        }\n        if (id === \"lightcord-3\") {\n            ipcRenderer.sendSync(\"LIGHTCORD_SET_ALWAYS_ON_TOP\", enabled)\n        }\n        if (id === \"lightcord-4\") {\n            if(enabled){\n                AntiAdDM.enable()\n            }else{\n                AntiAdDM.disable()\n            }\n        }\n        if (id === \"lightcord-6\") {\n            if(enabled){\n                blurPrivate.enable()\n            }else{\n                blurPrivate.disable()\n            }\n        }\n        if (id === \"lightcord-7\") {\n            if(enabled){\n                disableTyping.enable()\n            }else{\n                disableTyping.disable()\n            }\n        }\n        if (id === \"lightcord-8\"){\n            let appSettings = window.Lightcord.Api.settings\n            appSettings.set(\"isTabs\", enabled)\n            appSettings.save()\n            DiscordNative.app.relaunch()\n        }\n        if (id === \"lightcord-9\") {\n            popoutWindow[enabled ? \"enable\" : \"disable\"]()\n        }\n        if (id === \"lightcord-10\"){\n            core.methods.NotificationsUseShim(enabled)\n            return\n        }\n        if (id === \"no_window_bound\"){\n            let appSettings = window.Lightcord.Api.settings\n            appSettings.set(\"NO_WINDOWS_BOUND\", enabled)\n\n            appSettings.delete(\"IS_MAXIMIZED\")\n            appSettings.delete(\"IS_MINIMIZED\") \n            appSettings.delete(\"WINDOW_BOUNDS\")\n            \n            appSettings.save()\n            DiscordNative.app.relaunch()\n        }\n        if (id === \"enable_glasstron\"){\n            let appSettings = window.Lightcord.Api.settings\n            appSettings.set(\"GLASSTRON\", enabled)\n            appSettings.save()\n            DiscordNative.app.relaunch()\n        }\n        \n        if(id === \"lightcord-11\"){\n            let appSettings = window.Lightcord.Api.settings\n            if(!enabled){\n                appSettings.delete(\"BD_\"+id)\n                appSettings.save()\n                return\n            }\n            appSettings.set(\"BD_\"+id, enabled)\n            appSettings.save()\n            return\n        }\n\n        this.saveSettings();\n    }\n\n    async initializeSettings() {\n        if (settingsCookie[\"bda-gs-2\"]) DOM.addClass(document.body, \"bd-minimal\");\n        if (settingsCookie[\"bda-gs-3\"]) DOM.addClass(document.body, \"bd-minimal-chan\");\n        if (settingsCookie[\"bda-gs-1\"]) publicServersModule.addButton();\n        if (settingsCookie[\"bda-gs-4\"]) voiceMode.start();\n        if (settingsCookie[\"bda-gs-5\"]) DOM.addClass(DOM.query(\"#app-mount\"), \"bda-dark\");\n        if (settingsCookie[\"bda-gs-6\"]) tfHour.inject24Hour();\n        if (settingsCookie[\"bda-gs-7\"]) coloredText.injectColoredText();\n        if (settingsCookie[\"fork-ps-4\"]) ClassNormalizer.start();\n        if (settingsCookie[\"lightcord-1\"]) window.Lightcord.Settings.devMode = true\n        if (settingsCookie[\"lightcord-2\"]) window.Lightcord.Settings.callRingingBeat = true\n        if (settingsCookie[\"lightcord-presence-1\"]) CustomRichPresence.enable()\n        if (settingsCookie[\"lightcord-3\"]) ipcRenderer.sendSync(\"LIGHTCORD_SET_ALWAYS_ON_TOP\", true)\n        if (settingsCookie[\"lightcord-4\"]) AntiAdDM.enable()\n        if (settingsCookie[\"lightcord-6\"]) blurPrivate.enable()\n        if (settingsCookie[\"lightcord-7\"]) disableTyping.enable()\n        if (settingsCookie[\"lightcord-9\"]) popoutWindow.enable()\n\n        if (settingsCookie[\"fork-ps-5\"]) {\n            ContentManager.watchContent(\"plugin\");\n            ContentManager.watchContent(\"theme\");\n        }\n\n        if (settingsCookie[\"bda-gs-8\"]) dMode.startDebugListener();\n        if (settingsCookie[\"fork-dm-1\"]) dMode.startCopySelector();\n\n        this.saveSettings();\n    }\n\n    saveSettings() {\n        DataStore.setSettingGroup(\"settings\", settingsCookie);\n        DataStore.setSettingGroup(\"rpc\", settingsRPC);\n    }\n\n    loadSettings() {\n        Object.assign(settingsCookie, DataStore.getSettingGroup(\"settings\"));\n        Object.assign(settingsRPC, DataStore.getSettingGroup(\"rpc\"));\n    }\n\n    renderSidebar(sidebar) {\n        return this.sidebar.render(sidebar);\n    }\n\n    coreComponent() {\n        return BDV2.react.createElement(SectionedSettingsPanel, {key: \"cspanel\", onChange: this.onChange, sections: this.coreSettings})\n    }\n\n    lightcordComponent(sidebar, forceUpdate) {\n        // this code is shit, I'm gonna rewritte everything in the next version\n        let appSettings = window.Lightcord.Api.settings\n        return [\n            this.lightcordSettings.map((section, i) => {\n                return [\n                    (i === 0 ? null : BDV2.react.createElement(MarginTop)),\n                    BDV2.react.createElement(\"h2\", {className: \"ui-form-title h2 margin-reset margin-bottom-20\"}, section.title),\n                    section.settings.map(setting => {\n                        return React.createElement(() => {\n                            const forceUpdate = useForceUpdate()\n                            let isChecked = settingsCookie[setting.id]\n                            if(setting.id === \"lightcord-8\")isChecked = appSettings.get(\"isTabs\", false);\n                            if(setting.id === \"no_window_bound\")isChecked = appSettings.get(\"NO_WINDOWS_BOUND\", false)\n                            if(setting.id === \"enable_glasstron\")isChecked = appSettings.get(\"GLASSTRON\", true)\n                            if(setting.id === \"lightcord-10\")isChecked = !appSettings.get(\"DEFAULT_NOTIFICATIONS\", true)\n                            let returnValue\n                            if([\"lightcord-11\"].includes(setting.id)){\n                                let value = appSettings.get(\"BD_\"+setting.id, setting.default || \"\")\n                                returnValue = BDV2.react.createElement(TextInputSetting, {id: setting.id, key: setting.id, data: setting, value, placeholder: setting.default || null, onChange: (id, value) => {\n                                    this.onChange(id, value, sidebar);\n                                }})\n                            }else{\n                                returnValue = BDV2.react.createElement(Switch, {id: setting.id, key: setting.id, data: setting, checked: isChecked, onChange: (id, checked) => {\n                                    this.onChange(id, checked, sidebar);\n                                    forceUpdate()\n                                }})\n                            }\n                            if(setting.id == \"lightcord-8\" && isChecked){\n                                return [\n                                    returnValue,\n                                    React.createElement(Lightcord.Api.Components.inputs.Button, {\n                                        color: \"green\",\n                                        look: \"outlined\",\n                                        size: \"small\",\n                                        hoverColor: \"brand\",\n                                        onClick: () => {\n                                            DiscordNative.ipc.send(\"NEW_TAB\")\n                                        },\n                                        wrapper: false,\n                                        disabled: false\n                                    }, \"Open a new Tab\")\n                                ]\n                            }\n                            if(setting.id === \"enable_glasstron\" && isChecked){\n                                if(process.platform !== \"linux\"){\n                                    let choices = []\n                                    let actual = null\n                                    if(process.platform === \"win32\"){\n                                        choices.push(\"blurbehind\", \"acrylic\", \"transparent\")\n                                        actual = appSettings.get(\"GLASSTRON_BLUR\", \"blurbehind\")\n                                    }else if(process.platform === \"darwin\"){\n                                        choices.push(\"titlebar\", \n                                            \"selection\", \n                                            \"menu\", \n                                            \"popover\", \n                                            \"sidebar\", \n                                            \"header\", \n                                            \"sheet\", \n                                            \"window\", \n                                            \"hud\", \n                                            \"fullscreen-ui\", \n                                            \"tooltip\", \n                                            \"content\", \n                                            \"under-window\", \n                                            \"under-page\", \n                                            \"none\"\n                                        )\n                                        actual = appSettings.get(\"GLASSTRON_VIBRANCY\", \"fullscreen-ui\")\n                                    }\n                                    return [\n                                        returnValue,\n                                        React.createElement(Lightcord.Api.Components.general.SettingSubTitle, {}, \"Glasstron Blur\"),\n                                        React.createElement(Lightcord.Api.Components.inputs.Dropdown, {\n                                            options: choices.map(e => {\n                                                return {\n                                                    value: e,\n                                                    label: e\n                                                }\n                                            }),\n                                            value: actual,\n                                            disabled: false,\n                                            searchable: true,\n                                            clearable: false,\n                                            onChange: (value) => {\n                                                if(process.platform === \"win32\"){\n                                                    ipcRenderer.invoke(\"LIGHTCORD_SET_BLUR_TYPE\", value)\n                                                }else{\n                                                    ipcRenderer.invoke(\"LIGHTCORD_SET_VIBRANCY\", value)\n                                                }\n                                            }\n                                        }, null)\n                                    ]\n                                }\n                            }\n                            return returnValue\n                        })\n                    })\n                ]\n            }), \n            BDV2.react.createElement(window.Lightcord.Api.Components.inputs.Button, {\n                color: \"yellow\",\n                look: \"ghost\",\n                size: \"medium\",\n                hoverColor: \"red\",\n                onClick(){\n                    ipcRenderer.sendSync(\"LIGHTCORD_RELAUNCH_APP\", {\n                        args: remote.process.argv.slice(1).concat([\"--disable-betterdiscord\"])\n                    })\n                },\n                wrapper: true\n            }, \"Relaunch without BetterDiscord\"),\n            React.createElement(Lightcord.Api.Components.inputs.Button, {\n                color: \"yellow\",\n                look: \"ghost\",\n                size: \"medium\",\n                hoverColor: \"red\",\n                onClick: () => {\n                    if(isClearingCache)return\n                    isClearingCache = true\n                    Utils.showToast(\"Clearing cache...\", {\n                        type: \"info\"\n                    })\n                    forceUpdate()\n                    remote.getCurrentWebContents().session.clearCache()\n                    .then(() => {\n                        Utils.showToast(\"Cache is cleared !\", {\n                            type: \"success\"\n                        })\n                        isClearingCache = false\n                        forceUpdate()\n                    }).catch(err => {\n                        console.error(err)\n                        Utils.showToast(\"An error occured. Check console for more informations.\", {\n                            type: \"error\"\n                        })\n                        isClearingCache = false\n                        forceUpdate()\n                    })\n                },\n                wrapper: true,\n                disabled: isClearingCache\n            }, \"Clear cache\"),\n            React.createElement(Lightcord.Api.Components.inputs.Button, {\n                color: \"yellow\",\n                look: \"ghost\",\n                size: \"medium\",\n                hoverColor: \"red\",\n                onClick: () => {\n                    forceUpdate()\n                    ContentManager.resetAddonCache()\n                    Utils.showToast(\"Cache is cleared !\", {\n                        type: \"success\"\n                    })\n                },\n                wrapper: true,\n                disabled: false\n            }, \"Clear Plugin Scan Cache\")\n        ]\n    }\n\n    PresenceComponent() {\n        return BDV2.react.createElement(V2C_PresenceSettings, {\n            key: \"lppannel\",\n            onChange: this.onChange, \n            settings: this.PresenceSettings\n        })\n    }\n\n    AccountInfosComponent() {\n        return BDV2.react.createElement(V2C_AccountInfos, {\n            key: \"lapannel\"\n        })\n    }\n\n    ApiPreviewComponent() {\n        return BDV2.react.createElement(ApiPreview, {\n            key: \"lapipannel\"\n        })\n    }\n\n    customCssComponent() {\n        return BDV2.react.createElement(CssEditor, {key: \"csseditor\"})\n    }\n\n    renderAddonPane(type) {\n        // I know this shouldn't be here, but when it isn't,\n        // React refuses to change the button when going\n        // between plugins and themes page... something\n        // to debug later.\n        class ContentList extends BDV2.react.Component {\n            constructor(props) {\n                super(props);\n                this.prefix = this.props.type.replace(\"s\", \"\");\n            }\n        \n            onChange() {\n                this.props.onChange(this.props.type);\n            }\n        \n            render() {return this.props.children;}\n        }\n        const originalRender = ContentList.prototype.render;\n        Object.defineProperty(ContentList.prototype, \"render\", {\n            enumerable: false,\n            configurable: false,\n            set: function() {console.warn(\"Addon policy for plugins #5 https://github.com/rauenzi/BetterDiscordApp/wiki/Addon-Policies#plugins\");},\n            get: () => originalRender\n        });\n        return function(){\n            return BDV2.react.createElement(ContentList, {type}, BDV2.react.createElement(CardList, {type}))\n        }\n    }\n};\n\n/**\n * No need to export settingsPanel on window\n */\n\nfunction makeComponent(children){\n    class SettingComponent extends React.Component {\n        render(){\n            return children(sidebar, () => this.forceUpdate())\n        }\n    }\n    let sidebar\n    return (s) => {\n        sidebar = s\n        return SettingComponent\n    }\n}","import BDV2 from \"../modules/v2\";\r\n\r\nexport default class BDLogo extends BDV2.reactComponent {\r\n    render() {\r\n        return BDV2.react.createElement(\r\n            \"svg\",\r\n            {height: \"100%\", width: this.props.size || \"16px\", className: \"bd-logo \" + this.props.className, style: {fillRule: \"evenodd\", clipRule: \"evenodd\", strokeLinecap: \"round\", strokeLinejoin: \"round\"}, viewBox: \"0 0 2000 2000\"},\r\n            BDV2.react.createElement(\"metadata\", null),\r\n            BDV2.react.createElement(\"defs\", null,\r\n                BDV2.react.createElement(\"filter\", {id: \"shadow1\"}, BDV2.react.createElement(\"feDropShadow\", {\"dx\": \"20\", \"dy\": \"0\", \"stdDeviation\": \"20\", \"flood-color\": \"rgba(0,0,0,0.35)\"})),\r\n                BDV2.react.createElement(\"filter\", {id: \"shadow2\"}, BDV2.react.createElement(\"feDropShadow\", {\"dx\": \"15\", \"dy\": \"0\", \"stdDeviation\": \"20\", \"flood-color\": \"rgba(255,255,255,0.15)\"})),\r\n                BDV2.react.createElement(\"filter\", {id: \"shadow3\"}, BDV2.react.createElement(\"feDropShadow\", {\"dx\": \"10\", \"dy\": \"0\", \"stdDeviation\": \"20\", \"flood-color\": \"rgba(0,0,0,0.35)\"}))\r\n            ),\r\n            BDV2.react.createElement(\"g\", null,\r\n                BDV2.react.createElement(\"path\", {style: {filter: \"url(#shadow3)\"}, d: \"M1195.44+135.442L1195.44+135.442L997.6+136.442C1024.2+149.742+1170.34+163.542+1193.64+179.742C1264.34+228.842+1319.74+291.242+1358.24+365.042C1398.14+441.642+1419.74+530.642+1422.54+629.642L1422.54+630.842L1422.54+632.042C1422.54+773.142+1422.54+1228.14+1422.54+1369.14L1422.54+1370.34L1422.54+1371.54C1419.84+1470.54+1398.24+1559.54+1358.24+1636.14C1319.74+1709.94+1264.44+1772.34+1193.64+1821.44C1171.04+1837.14+1025.7+1850.54+1000+1863.54L1193.54+1864.54C1539.74+1866.44+1864.54+1693.34+1864.54+1296.64L1864.54+716.942C1866.44+312.442+1541.64+135.442+1195.44+135.442Z\", fill: \"#171717\", opacity: \"1\"}),\r\n                BDV2.react.createElement(\"path\", {style: {filter: \"url(#shadow2)\"}, d: \"M1695.54+631.442C1685.84+278.042+1409.34+135.442+1052.94+135.442L361.74+136.442L803.74+490.442L1060.74+490.442C1335.24+490.442+1335.24+835.342+1060.74+835.342L1060.74+1164.84C1150.22+1164.84+1210.53+1201.48+1241.68+1250.87C1306.07+1353+1245.76+1509.64+1060.74+1509.64L361.74+1863.54L1052.94+1864.54C1409.24+1864.54+1685.74+1721.94+1695.54+1368.54C1695.54+1205.94+1651.04+1084.44+1572.64+999.942C1651.04+915.542+1695.54+794.042+1695.54+631.442Z\", fill: \"#3E82E5\", opacity: \"1\"}),\r\n                BDV2.react.createElement(\"path\", {style: {filter: \"url(#shadow1)\"}, d: \"M1469.25+631.442C1459.55+278.042+1183.05+135.442+826.65+135.442L135.45+135.442L135.45+1004C135.45+1004+135.427+1255.21+355.626+1255.21C575.825+1255.21+575.848+1004+575.848+1004L577.45+490.442L834.45+490.442C1108.95+490.442+1108.95+835.342+834.45+835.342L664.65+835.342L664.65+1164.84L834.45+1164.84C923.932+1164.84+984.244+1201.48+1015.39+1250.87C1079.78+1353+1019.47+1509.64+834.45+1509.64L135.45+1509.64L135.45+1864.54L826.65+1864.54C1182.95+1864.54+1459.45+1721.94+1469.25+1368.54C1469.25+1205.94+1424.75+1084.44+1346.35+999.942C1424.75+915.542+1469.25+794.042+1469.25+631.442Z\", fill: \"#FFFFFF\", opacity: \"1\"})\r\n            )\r\n        );\r\n    }\r\n}","export default class LightcordLogo extends React.Component {\r\n    render(){\r\n        const props = this.props\r\n        return (\r\n            <svg viewBox=\"0 0 168 168.69\" {...props} height=\"100%\" width={props.size}>\r\n                <defs>\r\n                    <linearGradient id=\"prefix__a\" x1={66.7} y1={-487.7} x2={66.7} y2={-508.73} gradientTransform=\"matrix(1 0 0 -1 0 -408)\" gradientUnits=\"userSpaceOnUse\">\r\n                        <stop offset={0} stopColor=\"#e30613\" />\r\n                        <stop offset={1} stopColor=\"#731a14\" />\r\n                    </linearGradient>\r\n                    <linearGradient id=\"prefix__b\" x1={101.7} y1={-487.7} x2={101.7} y2={-508.73} gradientTransform=\"matrix(1 0 0 -1 0 -408)\" gradientUnits=\"userSpaceOnUse\">\r\n                        <stop offset={0} stopColor=\"#e20613\" />\r\n                        <stop offset={1} stopColor=\"#731a13\" />\r\n                    </linearGradient>\r\n                    <linearGradient id=\"prefix__c\" x1={84} y1={-408} x2={84} y2={-576.69} gradientTransform=\"matrix(1 0 0 -1 0 -408)\" gradientUnits=\"userSpaceOnUse\">\r\n                        <stop offset={0} stopColor=\"#e30613\" />\r\n                        <stop offset={1} stopColor=\"#731a13\" />\r\n                    </linearGradient>\r\n                </defs>\r\n                <path fill=\"#fff\" d=\"M14.9 35.3h139.2V133H14.9z\" />\r\n                <path d=\"M66.7 79.7c-5.4 0-9.8 4.7-9.8 10.5s4.4 10.5 9.8 10.5 9.8-4.7 9.8-10.5-4.4-10.5-9.8-10.5z\" fill=\"url(#prefix__a)\" />\r\n                <path d=\"M101.7 79.7c-5.4 0-9.8 4.7-9.8 10.5s4.4 10.5 9.8 10.5 9.8-4.7 9.8-10.5-4.4-10.5-9.8-10.5z\" fill=\"url(#prefix__b)\" />\r\n                <path d=\"M0 0v168l168 .69V0zm111.3 124.1s-3.4-4.1-6.3-7.7c12.6-3.5 17.4-11.3 17.4-11.3a52.52 52.52 0 01-11.1 5.6 68.63 68.63 0 01-38.9 4 70.12 70.12 0 01-14.1-4.1 48.88 48.88 0 01-7.1-3.3c-.3-.2-.6-.3-.9-.5a.76.76 0 00-.4-.2c-1.7-1-2.6-1.6-2.6-1.6s4.6 7.6 16.8 11.2c-2.9 3.6-6.4 7.9-6.4 7.9-21.2-.6-29.3-14.5-29.3-14.5 0-30.6 13.8-55.4 13.8-55.4 13.8-10.3 26.9-10 26.9-10l1 1.1C52.8 50.3 45 57.9 45 57.9a56.2 56.2 0 015.7-2.7 72.19 72.19 0 0121.8-6 8.75 8.75 0 011.6-.2 89.1 89.1 0 0119.4-.2 78.45 78.45 0 0128.9 9.1s-7.5-7.2-23.9-12.1l1.3-1.5s13.1-.3 26.9 10c0 0 13.8 24.8 13.8 55.4.1-.1-8 13.8-29.2 14.4z\" fill=\"url(#prefix__c)\" />\r\n            </svg>\r\n        )\r\n    }\r\n}","import BDV2 from \"./v2\";\r\nimport Utils from \"./utils\";\r\nimport { settings } from \"../0globals\";\r\n\r\nconst Constants = {\r\n    EmojiRegex: /<a?\\.(\\w+)\\.(\\d+)>/g\r\n}\r\n\r\nlet CustomEmojiModule = BDModules.get(e => e.CustomEmoji)[0]\r\nlet EmojiModuleApi = BDModules.get(e => e.default && e.default.getCustomEmojiById)[0]\r\nlet AutocompleteModule = BDModules.get(e => e.default && e.default.displayName === \"Autocomplete\")[0]\r\nlet AutoCompletionTemplates = BDModules.get(e => e.getAutocompleteOptions)[0]\r\nlet EmojiModuleQuery = BDModules.get(e => e.default && e.default.queryEmojiResults)[0]\r\nlet Messages = BDModules.get(e => e.default && e.default.Messages && e.default.Messages.EMOJI_MATCHING)[0]\r\nlet guildModule = BDModules.get(e => e.default && e.default.getGuild && e.default.getGuilds && !e.default.isFetching)[0]\r\nlet emojiSearch = BDModules.get(e => e.default && e.default.getDisambiguatedEmojiContext)\r\nconst appSettings = Lightcord.Api.settings\r\n\r\nexport default new class EmojiModule {\r\n    constructor(){\r\n        this.init().catch(err => Utils.err(\"EmojiModule\", \"An error occured\", err)) // better logging\r\n    }\r\n\r\n    async init(){\r\n        /** Emoji AutoComplete */\r\n        if(!AutocompleteModule)AutocompleteModule = await window.Lightcord.Api.ensureExported(e => e.default && e.default.displayName === \"Autocomplete\")\r\n        if(!AutoCompletionTemplates)AutoCompletionTemplates = await window.Lightcord.Api.ensureExported(e => e.getAutocompleteOptions)\r\n        if(!EmojiModuleQuery)EmojiModuleQuery = await window.Lightcord.Api.ensureExported(e => e.default && e.default.queryEmojiResults)\r\n        if(!Messages)Messages = await window.Lightcord.Api.ensureExported(e => e.default && e.default.Messages && e.default.Messages.EMOJI_MATCHING)\r\n        if(!guildModule)guildModule = await window.Lightcord.Api.ensureExported(e => e.default && e.default.getGuild && e.default.getGuilds && !e.default.isFetching)\r\n        if(!emojiSearch)emojiSearch = await window.Lightcord.Api.ensureExported(e => e.default && e.default.getDisambiguatedEmojiContext)\r\n\r\n        const setting = settings[\"Emoji Prefix\"]\r\n        const getValue = () => {\r\n            const value = appSettings.get(\"BD_\"+setting.id, setting.default)\r\n            if(typeof value !== \"string\")return setting.default\r\n            return value\r\n        }\r\n\r\n        if(AutocompleteModule && AutoCompletionTemplates && EmojiModuleQuery && Messages && guildModule && emojiSearch){\r\n            console.log(`Patching getAutocompleteOptions of AutoCompletionTemplates`, AutoCompletionTemplates)\r\n            const getAutocompleteOptions = AutoCompletionTemplates.getAutocompleteOptions\r\n            AutoCompletionTemplates.getAutocompleteOptions = function(e, t, n, r, a){\r\n                const value = getAutocompleteOptions.call(this, ...arguments)\r\n                value.LIGHTCORD_EMOJIS = {\r\n                    matches(arg1, arg2){\r\n                        let condition = arg2.length > 1 && getValue() === arg1\r\n                        setEmojiUsable(condition)\r\n                        return condition\r\n                    },\r\n                    queryResults(t){\r\n                        let results = EmojiModuleQuery.default.queryEmojiResults(t, e)\r\n                        return results\r\n                    },\r\n                    renderResults(e, t, n, r, a){\r\n                        return D(e, t, a.emojis, n, r, Messages.default.Messages.EMOJI_MATCHING, Messages.default.Messages.EMOJI, AutocompleteModule.default.Emoji, (function(e) {\r\n                            return {\r\n                                emoji: e,\r\n                                key: e.id || e.uniqueName || e.name,\r\n                                sentinel: getValue(),\r\n                                guild: null != e.guildId ? guildModule.default.getGuild(e.guildId) : null\r\n                            }\r\n                        }), (function(e) {\r\n                            return getValue() + e + getValue()\r\n                        }))\r\n                    },\r\n                    getPlainText(id, guild){\r\n                        var emojis = guild.emojis;\r\n                        if (null == emojis || null == emojis[id]) return \"\";\r\n                        var emoji = emojis[id],\r\n                            isAnimated = emoji.animated ? \"a\" : \"\";\r\n                        return emoji.managed || null == emoji.id ? \".\" + emoji.name + \".\" : \"<\" + isAnimated + \".\" + (emoji.originalName || emoji.name) + \".\" + emoji.id + \">\"\r\n                    },\r\n                    getRawText(id, guild){\r\n                        var emojis = guild.emojis;\r\n                        if (null == emojis || null == emojis[id]) return \"\";\r\n                        var emoji = emojis[id],\r\n                            isAnimated = emoji.animated ? \"a\" : \"\";\r\n                        return emoji.managed || null == emoji.id ? \".\" + emoji.name + \".\" : \"<\" + isAnimated + \".\" + (emoji.originalName || emoji.name) + \".\" + emoji.id + \">\"\r\n                    }\r\n                }\r\n                return value\r\n            }\r\n        }else{\r\n            console.error(new Error(\"Couldn't start autocompletion of Lightcord's emojis.\"))\r\n        }\r\n\r\n        /** Emoji display */\r\n        while (!BDV2.MessageComponent) await new Promise(resolve => setTimeout(resolve, 100));\r\n\r\n        if (!this.cancelEmojiRender){ // TODO: Proper emoji formatting / rendering\r\n            this.cancelEmoteRender = Utils.monkeyPatch(BDV2.MessageComponent, \"default\", {before: (data) => {\r\n                const message = Utils.getNestedProp(data.methodArguments[0], \"childrenMessageContent.props.message\")\r\n                if(!message)return\r\n                const content = Utils.getNestedProp(data.methodArguments[0], \"childrenMessageContent.props.content\")\r\n                if(!content || !content.length)return\r\n    \r\n                /**\r\n                 * @type {{\r\n                 *  raw: string,\r\n                 *  name: string,\r\n                 *  id: string,\r\n                 *  animated: boolean\r\n                 * }[]}\r\n                 */\r\n                let emojis = []\r\n                \r\n                const newContent = []\r\n                for(let node of content){\r\n                    if (typeof(node) !== \"string\") {\r\n                        newContent.push(node)\r\n                        continue\r\n                    };\r\n                    let parsed;\r\n                    let hasParsed = false\r\n        \r\n                    do {\r\n                        parsed = Constants.EmojiRegex.exec(node);\r\n                        if (parsed) {\r\n                            hasParsed = true\r\n                            if(!EmojiModuleApi)EmojiModuleApi = BDModules.get(e => e.default && e.default.getCustomEmojiById)[0]\r\n                            const emoji = EmojiModuleApi.default.getCustomEmojiById(parsed[2])\r\n                            if(emoji){\r\n                                emojis.push({\r\n                                    animated: emoji.animated,\r\n                                    name: emoji.name,\r\n                                    id: emoji.id,\r\n                                    raw: parsed[0]\r\n                                })\r\n                            }else{\r\n                                emojis.push({\r\n                                    animated: parsed[0].startsWith(\"<a\"),\r\n                                    name: parsed[1],\r\n                                    id: parsed[2],\r\n                                    raw: parsed[0]\r\n                                })\r\n                            }\r\n                        }\r\n                    } while (parsed);\r\n    \r\n                    if(hasParsed){\r\n                        const words = node.split(\" \").map((word, index, arr) => {\r\n                            if(!word)return \"\"\r\n                            const emoji = emojis.find(e => e.raw == word)\r\n                            if(!emoji)return word\r\n                            if(!CustomEmojiModule)CustomEmojiModule = BDModules.get(e => e.CustomEmoji)[0]\r\n                            return React.createElement(CustomEmojiModule.CustomEmoji, {\r\n                                emoji: {\r\n                                    name: `${getValue()}${emoji.name}${getValue()}`,\r\n                                    emojiId: emoji.id,\r\n                                    animated: emoji.animated,\r\n                                    jumboable: arr.length === 1 && content.length === 1\r\n                                }\r\n                            })\r\n                        }).reduce((previous, current) => {\r\n                            if(previous.length === 0)return [current]\r\n                            if(typeof current === \"string\"){\r\n                                if(typeof previous[previous.length - 1] === \"string\"){\r\n                                    previous[previous.length - 1] += ` ${current}`\r\n                                    return previous\r\n                                }\r\n                                previous.push(\" \"+current)\r\n                                return previous\r\n                            }\r\n                            previous.push(\" \", current)\r\n                            return previous\r\n                        }, [])\r\n                        newContent.push(...words)\r\n                    }else{\r\n                        newContent.push(node)\r\n                    }\r\n                }\r\n                while(data.methodArguments[0].childrenMessageContent.props.content[0]){\r\n                    data.methodArguments[0].childrenMessageContent.props.content.shift()\r\n                }\r\n                while(newContent[0]){\r\n                    data.methodArguments[0].childrenMessageContent.props.content.push(newContent.shift())\r\n                }\r\n            }});\r\n        }/*\r\n        let userModule\r\n        window.Lightcord.Api.ensureExported(e => e.default && e.default.displayName === \"EmojiPickerListRow\")\r\n        .then(EmojiPickerListRow => {\r\n            let classs = EmojiPickerListRow.default\r\n            EmojiPickerListRow.default = class EmojiPickerListRow extends React.Component {\r\n                constructor(props){\r\n                    super(props)\r\n                }\r\n\r\n                render(){\r\n                    if(!userModule)userModule = BDModules.get(e => e.default && e.default.getCurrentUser)[0]\r\n                    if(!userModule)return React.createElement(classs, this.props)\r\n                    let user = userModule.default.getCurrentUser()\r\n                    if(!user.hasPremiumSubscription)return React.createElement(classs, this.props)\r\n\r\n                    return React.createElement(classs, Object.assign({}, this.props, {\r\n                        emojiDescriptors: this.props.emojiDescriptors.map(e => {\r\n                            e.isDisabled = false\r\n                        })\r\n                    }))                    \r\n                }\r\n            }\r\n            EmojiPickerListRow.default.displayName = \"EmojiPickerListRow\"\r\n        })*/\r\n    }\r\n\r\n    disable(){\r\n        if (!this.cancelEmoteRender) return;\r\n        this.cancelEmoteRender();\r\n        this.cancelEmoteRender = null;\r\n    }\r\n\r\n    start(){\r\n        \r\n    }\r\n}\r\n\r\nfunction D(e, t, n, r, o, i, s, u, l, c) {\r\n    if (null == n || 0 === n.length) return null;\r\n    var d = n.map((function(e, n) {\r\n        return React.createElement(u, Object.assign({\r\n            onClick: o,\r\n            onHover: r,\r\n            selected: t === n,\r\n            index: n\r\n        }, l(e, n)))\r\n    }));\r\n    return [R(i, s, e, c), d]\r\n}\r\n\r\nfunction R(e, t, n, r) {\r\n    var a = (n.length > 0 ? e.format({\r\n        prefix: r(n)\r\n    }) : t)\r\n    if(Array.isArray(a)){\r\n        a.unshift(React.createElement(\"strong\", {}, \"[Lightcord] \"))\r\n    }else{\r\n        a = \"[LIGHTCORD] \"+a\r\n    }\r\n    return React.createElement(AutocompleteModule.default.Title, {\r\n        title: a\r\n    }, a)\r\n}\r\nR.displayName = \"renderHeader\";\r\n\r\nlet EmojiFilterModule = BDModules.get(e => e.default && e.default.isEmojiDisabled)[0]\r\nlet isEmojiDisabled = EmojiFilterModule && EmojiFilterModule.default.isEmojiDisabled\r\nlet isUsable = false\r\nlet hasPatched = false\r\n\r\nfunction setEmojiUsable(usable){\r\n    isUsable = usable\r\n    if(hasPatched)return\r\n    if(!EmojiFilterModule)EmojiFilterModule = BDModules.get(e => e.default && e.default.isEmojiDisabled)[0]\r\n    if(!EmojiFilterModule)return\r\n    if(!isEmojiDisabled)isEmojiDisabled = EmojiFilterModule.default.isEmojiDisabled\r\n\r\n    hasPatched = true\r\n    EmojiFilterModule.default.isEmojiDisabled = function(emoji){\r\n        if(isUsable){\r\n            if(emoji.surrogates || emoji.diversity)return true\r\n            return false\r\n        }\r\n        return isEmojiDisabled.call(this, ...arguments)\r\n    }\r\n}","import {bdConfig, minSupportedVersion, bbdVersion, settingsCookie, bdpluginErrors, bdthemeErrors, bbdChangelog, defaultCookie, currentDiscordVersion, defaultRPC, settingsRPC, lightcordSettings} from \"../0globals\";\nimport Utils from \"./utils\";\n\nimport BDV2 from \"./v2\";\nimport settingsPanel from \"./settingsPanel\";\nimport pluginModule from \"./pluginModule\";\nimport themeModule from \"./themeModule\";\nimport DataStore from \"./dataStore\";\nimport WebpackModules from \"./webpackModules\";\nimport DOM from \"./domtools\";\n\nimport BDLogo from \"../ui/bdLogo\";\nimport TooltipWrap from \"../ui/tooltipWrap\";\nimport LightcordLogo from \"../svg/Lightcord\";\nimport PluginCertifier from \"./pluginCertifier\";\nimport distant, { uuidv4 } from \"./distant\";\nimport EmojiModule from \"./emojiModule\"\nimport * as electron from \"electron\"\nimport v2 from \"./v2\";\nimport contentManager from \"./contentManager\";\n\nlet methods\nfunction Core() {}\n\n\nCore.prototype.setConfig = function(config) {\n    if (this.hasStarted) return;\n    Object.assign(bdConfig, config);\n};\n\nObject.defineProperty(Core.prototype, \"methods\", {\n    get(){\n        return methods\n    }\n})\n\nCore.prototype.setMethods = function(m) {\n    if (this.hasStarted) return;\n    methods = m\n};\n\nCore.prototype.init = async function() {\n    if (this.hasStarted) return;\n    this.hasStarted = true;\n\n    if (!Array.prototype.flat) {\n        Utils.alert(\"Not Supported\", \"BetterDiscord v\" + bbdVersion + \" does not support this old version (\" + currentDiscordVersion + \") of Discord. Please update your Discord installation before proceeding.\");\n        return;\n    }\n\n    if (bdConfig.version < minSupportedVersion) {\n        Utils.alert(\"Not Supported\", \"BetterDiscord v\" + bdConfig.version + \" (your version)\" + \" is not supported by the latest js (\" + bbdVersion + \").<br><br> Please download the latest version from <a href='https://github.com/rauenzi/BetterDiscordApp/releases/latest' target='_blank'>GitHub</a>\");\n        return;\n    }\n\n    if (window.ED) {\n        Utils.alert(\"Not Supported\", \"BandagedBD does not work with EnhancedDiscord. Please uninstall one of them.\");\n        return;\n    }\n\n    if (window.WebSocket && window.WebSocket.name && window.WebSocket.name.includes(\"Patched\")) {\n        Utils.alert(\"Not Supported\", \"BandagedBD does not work with Powercord. Please uninstall one of them.\");\n        return;\n    }\n\n    Utils.suppressErrors(this.patchAttributes.bind(this), \"LC Plugin Certifier Patch\")();\n\n    Utils.log(\"Startup\", \"Initializing Settings\");\n    this.initSettings();\n\n    await this.checkForGuilds();\n    BDV2.initialize();\n    Utils.log(\"Startup\", \"Updating Settings\");\n    settingsPanel.initializeSettings();\n\n    Utils.log(\"Startup\", \"Loading Addons Cache\")\n    await contentManager.loadAddonCertifierCache()\n\n    Utils.log(\"Startup\", \"Loading Plugins\");\n    await pluginModule.loadPlugins();\n\n    Utils.log(\"Startup\", \"Loading Themes\");\n    await themeModule.loadThemes();\n\n    DOM.addStyle(\"customcss\", Buffer.from(DataStore.getBDData(\"bdcustomcss\"), \"base64\").toString(\"utf8\"));\n\n    window.addEventListener(\"beforeunload\", function() {\n        if (settingsCookie[\"bda-dc-0\"]) document.querySelector(\".btn.btn-disconnect\").click();\n    });\n\n    PluginCertifier.start()\n\n    Utils.log(\"Startup\", \"Removing Loading Icon\");\n    if (document.getElementsByClassName(\"bd-loaderv2\").length) document.getElementsByClassName(\"bd-loaderv2\")[0].remove();\n    Utils.log(\"Startup\", \"Initializing Main Observer\");\n    this.initObserver();\n\n    // Show loading errors\n    if (settingsCookie[\"fork-ps-1\"]) {\n        Utils.log(\"Startup\", \"Collecting Startup Errors\");\n        Utils.showContentErrors({plugins: bdpluginErrors, themes: bdthemeErrors});\n    }\n\n    const previousVersion = DataStore.getBDData(\"version\");\n    if (bbdVersion > previousVersion) {\n        if (bbdChangelog) this.showChangelogModal(bbdChangelog);\n        DataStore.setBDData(\"version\", bbdVersion);\n    }\n\n    EmojiModule.start()\n\n    Utils.suppressErrors(this.patchSocial.bind(this), \"BD Social Patch\")();\n    Utils.suppressErrors(this.patchGuildPills.bind(this), \"BD Guild Pills Patch\")();\n    Utils.suppressErrors(this.patchGuildListItems.bind(this), \"BD Guild List Items Patch\")();\n    Utils.suppressErrors(this.patchGuildSeparator.bind(this), \"BD Guild Separator Patch\")();\n    Utils.suppressErrors(this.patchMessageHeader.bind(this), \"BD Badge Chat Patch\")();\n    Utils.suppressErrors(this.patchMemberList.bind(this), \"BD Badge Member List Patch\")();\n    Utils.suppressErrors(this.patchAttachment.bind(this), \"LC Plugin Certifier Patch\")();\n\n    if(bdConfig.haveInstalledDefault){\n        let alert = Utils.alert(\"First Installation\", \"As it is the first time you install Lightcord, We added two default themes and one default plugin in your plugin/theme folder. Check it in the Plugin/Theme settings.\")\n        await new Promise((resolve) => {\n            alert.onClose(resolve)\n        })\n    }\n    const logo = document.querySelector(\"#app-mount > div.typeWindows-1za-n7.withFrame-haYltI.titleBar-AC4pGV.horizontalReverse-3tRjY7.flex-1O1GKY.directionRowReverse-m8IjIq.justifyStart-2NDFzi.alignStretch-DpGPf3.da-typeWindows.da-withFrame.da-titleBar.da-horizontalReverse.da-flex.da-directionRowReverse.da-justifyStart.da-alignStretch > div.wordmarkWindows-1v0lYD.wordmark-2iDDfm.da-wordmarkWindows.da-wordmark\")\n    if(logo){\n        logo.style.top = \"3px\"\n        logo.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"10\" width=\"70\" viewBox=\"0 0 72.54 10\" style=\"margin-left: -5px, margin-top: 10px\">\n    <path fill=\"currentColor\" d=\"M44.81,9.67V6.33c0-1.21,2.13-1.49,2.78-.28l2-.81A3.53,3.53,0,0,0,46.2,3c-1.92,0-3.81,1.13-3.81,3.33V9.67c0,2.21,1.89,3.33,3.77,3.33a3.87,3.87,0,0,0,3.45-2.18l-2.12-1C47,11.17,44.81,10.85,44.81,9.67ZM10.68,12.89h2.41V3.17H10.68ZM71.76,3.14H68.19V7.23L70.57,9.4v-4h1.27c.81,0,1.21.41,1.21,1v3c0,.63-.38,1.05-1.21,1.05H68.18v2.31h3.57c1.92,0,3.72-1,3.72-3.2V6.39C75.48,4.13,73.68,3.14,71.76,3.14ZM54.22,3c-2,0-4,1.1-4,3.34V9.66c0,2.23,2,3.34,4,3.34s3.95-1.11,3.95-3.34V6.34C58.19,4.11,56.2,3,54.22,3Zm1.55,6.66c0,.7-.78,1.06-1.54,1.06s-1.55-.35-1.55-1.06V6.34c0-.72.75-1.1,1.5-1.1s1.59.35,1.59,1.1ZM66.84,6.34c0-2.29-1.58-3.2-3.55-3.2H59.46v9.73h2.45V9.77h.43l2.22,3.09h3L65,9.52C66.13,9.15,66.84,8.14,66.84,6.34ZM63.33,7.65H61.91V5.43h1.42A1.11,1.11,0,1,1,63.33,7.65ZM29.83,13h2.42V3.06H29.83V6.73l-3,0V3.09H24.7v9.78h2.14V8.68l3,0ZM17.16,9.76V6.42c0-1.21,2.13-1.49,2.78-.28l2-.81a3.55,3.55,0,0,0-3.36-2.24c-1.92,0-3.81,1.13-3.81,3.33V9.76c0,2.21,2,3.15,3.9,3.15s3.58-1,3.58-3V7.58H18.79l0,1.36H20.3v.77C20.3,10.92,17.16,10.94,17.16,9.76Z\" transform=\"translate(-2.93 -3)\"/>\n    <polygon fill=\"currentColor\" points=\"35.91 0.06 38.43 0.06 38.43 1.84 35.92 1.81 35.97 10 33.55 10 33.49 1.75 30.98 1.74 30.98 0.06 33.49 0.06 35.91 0.06\"/>\n    <polygon fill=\"currentColor\" points=\"0 9.97 6.5 10 6.5 7.63 2.41 7.63 2.41 0.26 0 2.26 0 9.97\"/>\n</svg>`\n    }\n};\n\nCore.prototype.patchAttributes = async function() {\n    let attribsPatchs = []\n    this.cancelPatchAttributes = function() {\n        attribsPatchs.forEach(e => e())\n    }\n\n    while(!v2.MessageComponent)await new Promise(resolve => setTimeout(resolve, 100))\n    \n    // TODO: try to patch correctly the user popout on a next update\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    window.Lightcord.Api.ensureExported(e => e.default && e.default.displayName === \"DiscordTag\")\n    .then(DiscordTag => {\n        let DiscordTagComp = DiscordTag.default\n        DiscordTag.default = function(props){\n            let returnValue = DiscordTagComp(props)\n\n            let id = uuidv4()\n\n            let badgeDiv = BDV2.React.createElement(\"div\", {\n                style: {\n                    display: \"inline\",\n                    marginTop: \"5px\"\n                }\n            }, BDV2.React.createElement(\"span\", {\n                id: \"badges-\"+id,\n                key: \"badges-\"+id,\n                style: {\n                    display: \"inherit\"\n                }\n            }))\n\n            let children = [returnValue]\n\n            if (props.user.id === \"249746236008169473\") { // Rauenzi: BandagedBD Developer\n                children.push(\n                    BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"BandagedBD Developer\"},\n                        BDV2.React.createElement(Anchor, {className: \"bd-chat-badge\", href: \"https://github.com/rauenzi/BetterDiscordApp\", title: \"BandagedBD\", target: \"_blank\"},\n                            BDV2.React.createElement(BDLogo, {size: \"16px\", className: \"bd-logo\"})\n                        )\n                    )\n                );\n            } else if (props.user.id === \"696481194443014174\" || props.user.id === \"696003456611385396\"){ // Not Thomiz: Lightcord Developer, Phorcys: Lightcord Developer\n                children.push(\n                    BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"Lightcord Developer\"},\n                        BDV2.React.createElement(Anchor, {className: \"bd-chat-badge\", href: \"https://github.com/Lightcord/Lightcord\", title: \"Lightcord\", target: \"_blank\"},\n                            BDV2.React.createElement(LightcordLogo, {size: \"16px\", className: \"bd-logo\"})\n                        )\n                    )\n                );\n            }\n\n            children.push(badgeDiv)\n            let div = BDV2.React.createElement(\"div\", {\n                style: {\n                    display: \"block\"\n                }\n            }, children)\n            applyBadges(id, props.user, false)\n\n            return div\n        }\n        DiscordTag.default.displayName = DiscordTagComp.displayName\n    })\n\n    attribsPatchs.push(Utils.monkeyPatch(v2.MessageComponent, \"default\", {after: (data) => {\n        if(data.methodArguments[0].childrenMessageContent.props.message){ // this can be a blocked message (not opened)\n            data.returnValue.props[\"data-message-id\"] = data.methodArguments[0].childrenMessageContent.props.message.id\n        }\n    }}))\n        /*\n    attribsPatchs.push(Utils.monkeyPatch(v2.MessageComponent, \"default\", {after: (data) => {\n        data.returnValue.props[\"message-id\"] = data.methodArguments[0].childrenMessageContent.props.message.id\n    }}))*/\n}\n\nCore.prototype.checkForGuilds = function() {\n    let timesChecked = 0;\n    return new Promise(resolve => {\n        const checkForGuilds = function() {\n            const wrapper = BDV2.guildClasses.wrapper.split(\" \")[0];\n            if (document.querySelectorAll(`.${wrapper}`).length > 0) timesChecked++;\n            const guild = BDV2.guildClasses.listItem.split(\" \")[0];\n            const blob = BDV2.guildClasses.blobContainer.split(\" \")[0];\n            if (document.querySelectorAll(`.${wrapper} .${guild} .${blob}`).length > 0) return resolve(bdConfig.deferLoaded = true);\n            else if (timesChecked >= 50) return resolve(bdConfig.deferLoaded = true);\n            setTimeout(checkForGuilds, 100);\n        };\n        if (document.readyState != \"loading\") setTimeout(checkForGuilds, 100);\n        document.addEventListener(\"DOMContentLoaded\", () => {setTimeout(checkForGuilds, 100);});\n    });\n};\n\nCore.prototype.injectExternals = async function() {\n    // No externals\n};\n\nCore.prototype.initSettings = function () {\n    DataStore.initialize();\n    if(!DataStore.getSettingGroup(\"rpc\")){\n        Object.assign(settingsRPC, defaultRPC);\n    }\n    if(!DataStore.getSettingGroup(\"settings\")){\n            Object.assign(settingsCookie, defaultCookie);\n        settingsPanel.saveSettings();\n    } else {\n        settingsPanel.loadSettings();\n        for (const setting in defaultCookie) {\n            if (settingsCookie[setting] == undefined) {\n                settingsCookie[setting] = defaultCookie[setting];\n                settingsPanel.saveSettings();\n            }\n        }\n    }\n    window.Lightcord.Api.ensureExported(e => e.default && e.default.prototype && e.default.prototype.getPredicateSections)\n    .then(settingModule => {\n\n        let getPredicateSections = settingModule.default.prototype.getPredicateSections\n        settingModule.default.prototype.getPredicateSections = function(){\n            let result = getPredicateSections.call(this, ...arguments)\n\n            if(!result[1])return result\n            if(result[1].section === \"My Account\"){ // user settings, not guild settings\n                let poped = []\n                \n                poped.push(result.pop())\n                poped.push(result.pop())\n                poped.push(result.pop())\n                poped.push(result.pop())\n\n                result.push(...settingsPanel.renderSidebar(this))\n\n                while(poped[0]){\n                    result.push(poped.pop())\n                }\n            }\n            console.log(result)\n            return result\n        }\n    })\n};\n\n\nlet classNameLayer\nlet classNameSocialLinks\nlet classNameModal\n\nCore.prototype.initObserver = function () {\n    const mainObserver = new MutationObserver((mutations) => {\n        for (let i = 0, mlen = mutations.length; i < mlen; i++) {\n            const mutation = mutations[i];\n            if (typeof pluginModule !== \"undefined\") pluginModule.rawObserver(mutation);\n\n            // if there was nothing added, skip\n            if (!mutation.addedNodes.length || !(mutation.addedNodes[0] instanceof Element)) continue;\n\n            const node = mutation.addedNodes[0];\n\n            if(!classNameLayer)classNameLayer = BDModules.get((e) => e.layer && typeof e.layer === \"string\" && e.animating)[0].layer\n            if(!classNameSocialLinks)classNameSocialLinks = BDModules.get((e) => e.socialLinks && typeof e.socialLinks === \"string\")[0].socialLinks\n            if(!classNameModal)classNameModal = BDModules.get((e) => e.modal && typeof e.modal === \"string\" && e.inner && typeof e.inner === \"string\" && !e.responsiveWidthMobile)[0].modal\n\n            if (node.classList.contains(classNameLayer)) {\n                if (node.getAttribute(\"aria-label\") === \"GUILD_SETTINGS\"){\n                    node.setAttribute(\"layer-id\", \"server-settings\");\n                    node.setAttribute(\"id\", \"server-settings\");\n                }\n\n                if (node.getElementsByClassName(classNameSocialLinks).length) {\n                    node.setAttribute(\"layer-id\", \"user-settings\");\n                    node.setAttribute(\"id\", \"user-settings\");\n                }\n            }\n\n            if (node.parentElement == document.body && node.querySelector(\"#ace_settingsmenu\")) node.id = \"ace_settingsmenu_container\";\n\n            // Emoji Picker\n            //node.getElementsByClassName(\"emojiPicker-3m1S-j\").length && !node.querySelector(\".emojiPicker-3m1S-j\").parentElement.classList.contains(\"animatorLeft-1EQxU0\")\n            //if (node.classList.contains(classNameLayer2) && node.getElementsByClassName(classNameEmojiPicker).length  && !node.querySelector(\".\"+classNameEmojiPicker).parentElement.classList.contains(classNameAnimatorLeft)) quickEmoteMenu.obsCallback(node);\n\n        }\n    });\n\n    mainObserver.observe(document, {\n        childList: true,\n        subtree: true\n    });\n};\n\nCore.prototype.showChangelogModal = function(options = {}) {\n    return Utils.showChangelogModal(options);\n};\n\nCore.prototype.alert = function(title, content) {\n    return Utils.alert(title, content);\n};\n\nCore.prototype.patchSocial = function() {\n    if (this.socialPatch) return;\n    const TabBar = WebpackModules.find(m => m.displayName == \"TabBar\");\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    if (!TabBar) return;\n    this.socialPatch = Utils.monkeyPatch(TabBar.prototype, \"render\", {after: (data) => {\n        const children = data.returnValue.props.children;\n        if (!children || !children.length || children.length < 3) return;\n        if (children[children.length - 3].type.displayName !== \"Separator\") return;\n        if (!children[children.length - 2].type.toString().includes(\"socialLinks\")) return;\n        if (Anchor) {\n            let socialModule1 = BDModules.get(e => e.socialLinks)[0]\n            const original = children[children.length - 2].type;\n            const newOne = function() {\n                const returnVal = original(...arguments);\n                returnVal.props.children.push(\n                    BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"Lightcord\"},\n                        BDV2.React.createElement(Anchor, {className: \"bd-social-link \"+socialModule1.link, href: \"https://github.com/Lightcord/Lightcord\", title: \"Lightcord\", target: \"_blank\"},\n                            BDV2.React.createElement(LightcordLogo, {size: \"16px\", className: \"bd-social-logo\"})\n                        )\n                    )\n                );\n                returnVal.props.children.push(\n                    BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"BandagedBD\"},\n                        BDV2.React.createElement(Anchor, {className: \"bd-social-link \"+socialModule1.link, href: \"https://github.com/rauenzi/BetterDiscordApp\", title: \"BandagedBD\", target: \"_blank\"},\n                            BDV2.React.createElement(BDLogo, {size: \"16px\", className: \"bd-social-logo\"})\n                        )\n                    )\n                );\n                return returnVal;\n            };\n            children[children.length - 2].type = newOne;\n        }\n\n        let [\n            classNameColorMuted,\n            sizes,\n            classNameVersionHash\n        ] = [\n            BDModules.get(e => e.colorMuted)[0].colorMuted,\n            BDModules.get(e => e.size32)[0],\n            BDModules.get(e => e.versionHash)[0].versionHash\n        ]\n\n        const versionHash = `(${bdConfig.hash ? bdConfig.hash.substring(0, 7) : bdConfig.branch})`;\n        const buildInfo = electron.ipcRenderer.sendSync(\"LIGHTCORD_GET_BUILD_INFOS\")\n        const additional = [\n            BDV2.react.createElement(\"div\", {className: `${classNameColorMuted} ${sizes.size12}`}, `Lightcord ${buildInfo.version} `, BDV2.react.createElement(\"span\", {className: classNameVersionHash+\" da-versionHash\"}, `(${(buildInfo.commit || \"Unknown\").slice(0, 7)})`)),\n            BDV2.react.createElement(\"div\", {className: `${classNameColorMuted} ${sizes.size12}`}, `BBD ${bbdVersion} `, BDV2.react.createElement(\"span\", {className: classNameVersionHash+\" da-versionHash\"}, versionHash))\n        ]\n        \n\n        const originalVersions = children[children.length - 1].type;\n        children[children.length - 1].type = function() {\n            const returnVal = originalVersions(...arguments);\n            returnVal.props.children.splice(1, 0, additional);\n            return returnVal;\n        };\n    }});\n};\n\nconst getGuildClasses = function() {\n    const guildsWrapper = WebpackModules.findByProps(\"wrapper\", \"unreadMentionsBar\");\n    const guilds = WebpackModules.findByProps(\"guildsError\", \"selected\");\n    const pill = WebpackModules.findByProps(\"blobContainer\");\n    return Object.assign({}, guildsWrapper, guilds, pill);\n};\n\nCore.prototype.patchGuildListItems = function() {\n    if (this.guildListItemsPatch) return;\n    const GuildClasses = getGuildClasses();\n    const listItemClass = GuildClasses.listItem.split(\" \")[0];\n    const blobClass = GuildClasses.blobContainer.split(\" \")[0];\n    const reactInstance = BDV2.getInternalInstance(document.querySelector(`.${listItemClass} .${blobClass}`).parentElement);\n    const GuildComponent = reactInstance.return.type;\n    if (!GuildComponent) return;\n    this.guildListItemsPatch = Utils.monkeyPatch(GuildComponent.prototype, \"render\", {after: (data) => {\n        if (data.returnValue && data.thisObject) {\n            const returnValue = data.returnValue;\n            const guildData = data.thisObject.props;\n            let className = returnValue.props.className\n            className += \" bd-guild\";\n            if (guildData.unread) className += \" bd-unread\";\n            if (guildData.selected) className += \" bd-selected\";\n            if (guildData.audio) className += \" bd-audio\";\n            if (guildData.video) className += \" bd-video\";\n            if (guildData.badge) className += \" bd-badge\";\n            if (guildData.animatable) className += \" bd-animatable\";\n            returnValue.props.className = className\n            return returnValue;\n        }\n    }});\n};\n\nCore.prototype.patchGuildPills = function() {\n    if (this.guildPillPatch) return;\n    const guildPill = WebpackModules.find(m => m.default && !m.default.displayName && m.default.toString && m.default.toString().includes(\"translate3d\"));\n    if (!guildPill) return;\n    this.guildPillPatch = Utils.monkeyPatch(guildPill, \"default\", {after: (data) => {\n        const props = data.methodArguments[0];\n        if (props.unread) data.returnValue.props.className += \" bd-unread\";\n        if (props.selected) data.returnValue.props.className += \" bd-selected\";\n        if (props.hovered) data.returnValue.props.className += \" bd-hovered\";\n        return data.returnValue;\n    }});\n};\n\nCore.prototype.patchGuildSeparator = function() {\n    if (this.guildSeparatorPatch) return;\n    const Guilds = WebpackModules.findByDisplayName(\"Guilds\");\n    const guildComponents = WebpackModules.findByProps(\"renderListItem\");\n    if (!guildComponents || !Guilds) return;\n    const GuildSeparator = function() {\n        const returnValue = guildComponents.Separator(...arguments);\n        returnValue.props.className += \" bd-guild-separator\";\n        return returnValue;\n    };\n    this.guildSeparatorPatch = Utils.monkeyPatch(Guilds.prototype, \"render\", {after: (data) => {\n        data.returnValue.props.children[1].props.children[3].type = GuildSeparator;\n    }});\n};\n\nCore.prototype.patchAttachment = function() {\n    if (this.AttachmentPatch) return;\n    const Attachment = BDModules.get(e => e.default && e.default.displayName === \"Attachment\")[0] // temporary\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    if (!Anchor || !Attachment || !Attachment.default) return;\n    this.AttachmentPatch = Utils.monkeyPatch(Attachment, \"default\", {after: (data) => {\n        if(!settingsCookie[\"fork-ps-6\"])return\n        const attachment = data.methodArguments[0] || null\n        const children = Utils.getNestedProp(data.returnValue, \"props.children\");\n\n        if (!children || !attachment || !attachment.url)return\n        if (!Array.isArray(children)) return;\n\n        const id = uuidv4()\n        children.push(BDV2.react.createElement(\"span\", {\n            id: \"certified-\"+id\n        }))\n        PluginCertifier.patch(attachment, \"certified-\"+id)\n    }})\n}\n\nCore.prototype.patchMessageHeader = function() {\n    if (this.messageHeaderPatch) return;\n    const MessageHeader = WebpackModules.findByProps(\"MessageTimestamp\");\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    if (!Anchor || !MessageHeader || !MessageHeader.default) return;\n    this.messageHeaderPatch = Utils.monkeyPatch(MessageHeader, \"default\", {after: (data) => {\n        const author = Utils.getNestedProp(data.methodArguments[0], \"message.author\");\n        // const header = Utils.getNestedProp(data.returnValue, \"props.children.1.props\");\n        const children = Utils.getNestedProp(data.returnValue, \"props.children.1.props.children.1.props.children\");\n        if (!children || !author || !author.id)return\n        // if (header && header.className) header.className += \" \"\n        if (!Array.isArray(children)) return;\n        if (author.id === \"249746236008169473\") { // Rauenzi: BandagedBD Developer\n            children.push(\n                BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"BandagedBD Developer\"},\n                    BDV2.React.createElement(Anchor, {className: \"bd-chat-badge\", href: \"https://github.com/rauenzi/BetterDiscordApp\", title: \"BandagedBD\", target: \"_blank\"},\n                        BDV2.React.createElement(BDLogo, {size: \"16px\", className: \"bd-logo\"})\n                    )\n                )\n            );\n        } else if (author.id === \"696481194443014174\" || author.id === \"696003456611385396\"){ // Not Thomiz: Lightcord Developer, Phorcys: Lightcord Developer\n            children.push(\n                BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"Lightcord Developer\"},\n                    BDV2.React.createElement(Anchor, {className: \"bd-chat-badge\", href: \"https://github.com/Lightcord/Lightcord\", title: \"Lightcord\", target: \"_blank\"},\n                        BDV2.React.createElement(LightcordLogo, {size: \"16px\", className: \"bd-logo\"})\n                    )\n                )\n            );\n        }\n        const id = uuidv4()\n        children.push(\n            BDV2.React.createElement(\"div\", {\n                id: \"badges-\"+id,\n                style: {\n                    display: \"inline\"\n                }\n            })\n        )\n        applyBadges(id, author, true)\n    }});\n};\n\nfunction applyBadges(id, user, chat){\n    process.nextTick(() => {\n        const div = document.getElementById(\"badges-\"+id)\n        if(!div || div.childNodes.length > 0)return\n        if(div.childNodes.length)return\n        let blockDiv = document.createElement(\"div\")\n        blockDiv.style.display = \"none\"\n        div.appendChild(blockDiv)\n\n        const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n\n        distant.getBadges(user.id)\n        .then(badges => {\n            badges.forEach(badge => {\n                const props = {\n                    svg: {\n                        size: \"16px\", \n                        className: \"bd-logo\",\n                        width: \"16px\", \n                    }\n                }\n                badge.scopes.forEach(scope => {\n                    if(scope === \"user\"){// require user\n                        props.user = user\n                    }\n                }) \n                if(!badge.href){\n                    props.Anchor = Anchor\n                    props.href = {\n                        className: chat ? \"bd-chat-badge\" : \"bd-member-badge\", \n                        title: badge.name, \n                        target: \"_blank\"\n                    }\n                }\n                const element = BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: badge.name},\n                    badge.href ? BDV2.react.createElement(Anchor, {\n                        href: badge.href,\n                        className: chat ? \"bd-chat-badge\" : \"bd-member-badge\", \n                        title: badge.name, \n                        target: \"_blank\"\n                    }, BDV2.React.createElement(badge.component, props)) : BDV2.React.createElement(badge.component, props)\n                )\n                const div2 = document.createElement(\"div\")\n                BDV2.reactDom.render(element, div2)\n                div2.childNodes.forEach(node => {\n                    div.appendChild(node)\n                })\n            })\n        })\n    })\n}\n\nCore.prototype.patchMemberList = function() {\n    if (this.memberListPatch) return;\n    const MemberListItem = WebpackModules.findByDisplayName(\"MemberListItem\");\n    const Anchor = WebpackModules.find(m => m.displayName == \"Anchor\");\n    if (!Anchor || !MemberListItem || !MemberListItem.prototype || !MemberListItem.prototype.renderDecorators) return;\n    this.memberListPatch = Utils.monkeyPatch(MemberListItem.prototype, \"renderDecorators\", {after: (data) => {\n        const user = Utils.getNestedProp(data.thisObject, \"props.user\");\n        const children = Utils.getNestedProp(data.returnValue, \"props.children\");\n        if (!children || !user || !user.id)return\n        // if (header && header.className) header.className += \" \"\n        if (!Array.isArray(children)) return;\n        if (user.id === \"249746236008169473\") {\n            children.push(\n                BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"BandagedBD Developer\"},\n                    BDV2.React.createElement(Anchor, {className: \"bd-member-badge\", href: \"https://github.com/rauenzi/BetterDiscordApp\", title: \"BandagedBD\", target: \"_blank\"},\n                        BDV2.React.createElement(BDLogo, {size: \"16px\", className: \"bd-logo\"})\n                    )\n                )\n            );\n        } else if (user.id === \"696481194443014174\" || user.id === \"696003456611385396\"){\n            children.push(\n                BDV2.React.createElement(TooltipWrap, {color: \"black\", side: \"top\", text: \"Lightcord Developer\"},\n                    BDV2.React.createElement(Anchor, {className: \"bd-member-badge\", href: \"https://github.com/Lightcord/Lightcord\", title: \"Lightcord\", target: \"_blank\"},\n                        BDV2.React.createElement(LightcordLogo, {size: \"16px\", className: \"bd-logo\"})\n                    )\n                )\n            );\n        }\n        const id = uuidv4()\n        children.push(\n            BDV2.React.createElement(\"div\", {id: \"badges-\"+id})\n        )\n        applyBadges(id, user, false)\n    }});\n};\n\nCore.prototype.updateInjector = async function() {\n    // There will never be an injection path, so we do not need the code below. \n    // Insert comments so it will be erased when production.\n    \n    const injectionPath = DataStore.injectionPath;\n    if (!injectionPath) return false;\n\n    /*\n\n    const fs = require(\"fs\");\n    const path = require(\"path\");\n    const rmrf = require(\"rimraf\");\n    const yauzl = require(\"yauzl\");\n    const mkdirp = require(\"mkdirp\");\n    const request = require(\"request\");\n\n    const parentPath = path.resolve(injectionPath, \"..\");\n    const folderName = path.basename(injectionPath);\n    const zipLink = \"https://github.com/rauenzi/BetterDiscordApp/archive/injector.zip\";\n    const savedZip = path.resolve(parentPath, \"injector.zip\");\n    const extractedFolder = path.resolve(parentPath, \"BetterDiscordApp-injector\");\n\n    // Download the injector zip file\n    Utils.log(\"InjectorUpdate\", \"Downloading \" + zipLink);\n    let success = await new Promise(resolve => {\n        request.get({url: zipLink, encoding: null}, async (error, response, body) => {\n            if (error || response.statusCode !== 200) return resolve(false);\n            // Save a backup in case someone has their own copy\n            const alreadyExists = await new Promise(res => fs.exists(savedZip, res));\n            if (alreadyExists) await new Promise(res => fs.rename(savedZip, `${savedZip}.bak${Math.round(performance.now())}`, res));\n\n            Utils.log(\"InjectorUpdate\", \"Writing \" + savedZip);\n            fs.writeFile(savedZip, body, err => resolve(!err));\n        });\n    });\n    if (!success) return success;\n\n    // Check and delete rename extraction\n    const alreadyExists = await new Promise(res => fs.exists(extractedFolder, res));\n    if (alreadyExists) await new Promise(res => fs.rename(extractedFolder, `${extractedFolder}.bak${Math.round(performance.now())}`, res));\n    \n    // Unzip the downloaded zip file\n    const zipfile = await new Promise(r => yauzl.open(savedZip, {lazyEntries: true}, (err, zip) =>  r(zip)));\n    zipfile.on(\"entry\", function(entry) {\n        // Skip directories, they are handled with mkdirp\n        if (entry.fileName.endsWith(\"/\")) return zipfile.readEntry();\n\n        Utils.log(\"InjectorUpdate\", \"Extracting \" + entry.fileName);\n        // Make any needed parent directories\n        const fullPath = path.resolve(parentPath, entry.fileName);\n        mkdirp.sync(path.dirname(fullPath));\n        zipfile.openReadStream(entry, function(err, readStream) {\n            if (err) return success = false;\n            readStream.on(\"end\", function() {zipfile.readEntry();}); // Go to next file after this\n            readStream.pipe(fs.createWriteStream(fullPath));\n        });\n    });\n    zipfile.readEntry(); // Start reading\n\n    // Wait for the final file to finish\n    await new Promise(resolve => zipfile.once(\"end\", resolve));\n\n    // Save a backup in case something goes wrong during final step\n    const backupFolder = path.resolve(parentPath, `${folderName}.bak${Math.round(performance.now())}`);\n    await new Promise(resolve => fs.rename(injectionPath, backupFolder, resolve));\n\n    // Rename the extracted folder to what it should be\n    Utils.log(\"InjectorUpdate\", `Renaming ${path.basename(extractedFolder)} to ${folderName}`);\n    success = await new Promise(resolve => fs.rename(extractedFolder, injectionPath, err => resolve(!err)));\n    if (!success) {\n        Utils.err(\"InjectorUpdate\", \"Failed to rename the final directory\");\n        return success;\n    }\n\n    // If rename had issues, delete what we tried to rename and restore backup\n    if (!success) {\n        Utils.err(\"InjectorUpdate\", \"Something went wrong... restoring backups.\");\n        await new Promise(resolve => rmrf(extractedFolder, resolve));\n        await new Promise(resolve => fs.rename(backupFolder, injectionPath, resolve));\n        return success;\n    }\n\n    // If we've gotten to this point, everything should have gone smoothly.\n    // Cleanup the backup folder then remove the zip\n    await new Promise(resolve => rmrf(backupFolder, resolve));\n    await new Promise(resolve => fs.unlink(savedZip, resolve));\n\n    Utils.log(\"InjectorUpdate\", \"Injector Updated!\");\n    return success;*/\n};\n\nexport default new Core();\n\n/**\n * Don't expose core - could be dangerous for now\n */","import {pluginCookie, themeCookie, bdplugins, bdthemes, settingsCookie, settings} from \"../0globals\";\nimport mainCore from \"./core\";\nimport Utils from \"./utils\";\nimport BDV2 from \"./v2\";\nimport DataStore from \"./dataStore\";\nimport pluginModule from \"./pluginModule\";\nimport themeModule from \"./themeModule\";\nimport settingsPanel from \"./settingsPanel\";\nimport DOM from \"./domtools\";\n\nconst BdApi = {\n    get React() { return BDV2.React; },\n    get ReactDOM() { return BDV2.ReactDom; },\n    get ReactComponent() {return BDV2.ReactComponent;},\n    get WindowConfigFile() {return Utils.WindowConfigFile;},\n    get settings() {return settings;},\n    get emotes() {return null}, // deprecated, deleted all emotes from betterdiscord.\n    get screenWidth() { return Math.max(document.documentElement.clientWidth, window.innerWidth || 0); },\n    get screenHeight() { return Math.max(document.documentElement.clientHeight, window.innerHeight || 0); }\n};\n\nBdApi.getAllWindowPreferences = function() {\n    return Utils.getAllWindowPreferences();\n};\n\nBdApi.getWindowPreference = function(key) {\n    return Utils.getWindowPreference(key);\n};\n\nBdApi.setWindowPreference = function(key, value) {\n    return Utils.setWindowPreference(key, value);\n};\n\n//Inject CSS to document head\n//id = id of element\n//css = custom css\nBdApi.injectCSS = function (id, css) {\n    DOM.addStyle(DOM.escapeID(id), css);\n};\n\n//Clear css/remove any element\n//id = id of element\nBdApi.clearCSS = function (id) {\n    DOM.removeStyle(DOM.escapeID(id));\n};\n\n//Inject CSS to document head\n//id = id of element\n//css = custom css\nBdApi.linkJS = function (id, url) {\n    DOM.addScript(DOM.escapeID(id), url);\n};\n\n//Clear css/remove any element\n//id = id of element\nBdApi.unlinkJS = function (id) {\n    DOM.removeScript(DOM.escapeID(id));\n};\n\n//Get another plugin\n//name = name of plugin\nBdApi.getPlugin = function (name) {\n    if (bdplugins.hasOwnProperty(name)) {\n        return bdplugins[name].plugin;\n    }\n    return null;\n};\n\n//Get BetterDiscord Core\nBdApi.getCore = function () {\n    Utils.warn(\"Deprecation Notice\", `BdApi.getCore() will be removed in future versions.`);\n    return mainCore;\n};\n\n/**\n * Shows a generic but very customizable modal.\n * @param {string} title - title of the modal\n * @param {string} content - a string of text to display in the modal\n */\nBdApi.alert = function (title, content) {\n    return Utils.showConfirmationModal(title, content, {cancelText: null});\n};\n\n/**\n * Shows a generic but very customizable confirmation modal with optional confirm and cancel callbacks.\n * @param {string} title - title of the modal\n * @param {(string|ReactElement|Array<string|ReactElement>)} children - a single or mixed array of react elements and strings. Every string is wrapped in Discord's `Markdown` component so strings will show and render properly.\n * @param {object} [options] - options to modify the modal\n * @param {boolean} [options.danger=false] - whether the main button should be red or not\n * @param {string} [options.confirmText=Okay] - text for the confirmation/submit button\n * @param {string} [options.cancelText=Cancel] - text for the cancel button\n * @param {callable} [options.onConfirm=NOOP] - callback to occur when clicking the submit button\n * @param {callable} [options.onCancel=NOOP] - callback to occur when clicking the cancel button\n * @param {string} [options.key] - key used to identify the modal. If not provided, one is generated and returned\n * @returns {string} - the key used for this modal\n */\nBdApi.showConfirmationModal = function (title, content, options = {}) {\n    return Utils.showConfirmationModal(title, content, options);\n};\n\n//Show toast alert\nBdApi.showToast = function(content, options = {}) {\n    Utils.showToast(content, options);\n};\n\n// Finds module\nBdApi.findModule = function(filter) {\n    return BDV2.WebpackModules.find(filter);\n};\n\n// Finds module\nBdApi.findAllModules = function(filter) {\n    return BDV2.WebpackModules.findAll(filter);\n};\n\n// Finds module\nBdApi.findModuleByProps = function(...props) {\n    return BDV2.WebpackModules.findByUniqueProperties(props);\n};\n\nBdApi.findModuleByPrototypes = function(...protos) {\n    return BDV2.WebpackModules.findByPrototypes(protos);\n};\n\nBdApi.findModuleByDisplayName = function(name) {\n    return BDV2.WebpackModules.findByDisplayName(name);\n};\n\n// Gets react instance\nBdApi.getInternalInstance = function(node) {\n    if (!(node instanceof window.jQuery) && !(node instanceof Element)) return undefined;\n    if (node instanceof jQuery) node = node[0];\n    return BDV2.getInternalInstance(node);\n};\n\n// Gets data\nBdApi.loadData = function(pluginName, key) {\n    return DataStore.getPluginData(pluginName, key);\n};\n\nBdApi.getData = BdApi.loadData;\n\n// Sets data\nBdApi.saveData = function(pluginName, key, data) {\n    return DataStore.setPluginData(pluginName, key, data);\n};\n\nBdApi.setData = BdApi.saveData;\n\n// Deletes data\nBdApi.deleteData = function(pluginName, key) {\n    return DataStore.deletePluginData(pluginName, key);\n};\n\n// Patches other functions\nBdApi.monkeyPatch = function(what, methodName, options) {\n    return Utils.monkeyPatch(what, methodName, options);\n};\n\n// Event when element is removed\nBdApi.onRemoved = function(node, callback) {\n    return Utils.onRemoved(node, callback);\n};\n\n// Wraps function in try..catch\nBdApi.suppressErrors = function(method, message) {\n    return Utils.suppressErrors(method, message);\n};\n\n// Tests for valid JSON\nBdApi.testJSON = function(data) {\n    return Utils.testJSON(data);\n};\n\nBdApi.isPluginEnabled = function(name) {\n    return !!pluginCookie[name];\n};\n\nBdApi.isThemeEnabled = function(name) {\n    return !!themeCookie[name];\n};\n\nBdApi.isSettingEnabled = function(id) {\n    return !!settingsCookie[id];\n};\n\nBdApi.enableSetting = function(id) {\n    return settingsPanel.onChange(id, true);\n};\n\nBdApi.disableSetting = function(id) {\n    return settingsPanel.onChange(id, false);\n};\n\nBdApi.toggleSetting = function(id) {\n    return settingsPanel.onChange(id, !settingsCookie[id]);\n};\n\n// Gets data\nBdApi.getBDData = function(key) {\n    return DataStore.getBDData(key);\n};\n\n// Sets data\nBdApi.setBDData = function(key, data) {\n    return DataStore.setBDData(key, data);\n};\n\n\n\nconst makeAddonAPI = (cookie, list, manager) => new class AddonAPI {\n\n    get folder() {return manager.folder;}\n\n    isEnabled(name) {\n        return !!cookie[name];\n    }\n\n    enable(name) {\n        return manager.enable(name);\n    }\n\n    disable(name) {\n        return manager.disable(name);\n    }\n\n    toggle(name) {\n        if (cookie[name]) this.disable(name);\n        else this.enable(name);\n    }\n\n    reload(name) {\n        return manager.reload(name);\n    }\n\n    get(name) {\n        if (list.hasOwnProperty(name)) {\n            if (list[name].plugin) return list[name].plugin;\n            return list[name];\n        }\n        return null;\n    }\n\n    getAll() {\n        return Object.keys(list).map(k => this.get(k)).filter(a => a);\n    }\n};\n\nBdApi.Plugins = makeAddonAPI(pluginCookie, bdplugins, pluginModule);\nBdApi.Themes = makeAddonAPI(themeCookie, bdthemes, themeModule);\n\nexport default BdApi;\n\nwindow.Lightcord.BetterDiscord.BdApi = BdApi","export default function() {\r\n    const contentWindowGetter = Object.getOwnPropertyDescriptor(HTMLIFrameElement.prototype, \"contentWindow\").get;\r\n    Object.defineProperty(HTMLIFrameElement.prototype, \"contentWindow\", {\r\n        get: function () {\r\n            const contentWindow = Reflect.apply(contentWindowGetter, this, arguments);\r\n            return new Proxy(contentWindow, {\r\n                getOwnPropertyDescriptor: function(obj, prop) {\r\n                    if (prop === \"localStorage\") return undefined;\r\n                    return Object.getOwnPropertyDescriptor(obj, prop);\r\n                },\r\n                get: function(obj, prop) {\r\n                    if (prop === \"localStorage\") return null;\r\n                    const val = obj[prop];\r\n                    if (typeof val === \"function\") return val.bind(obj);\r\n                    return val;\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    // Prevent interception by patching Reflect.apply and Function.prototype.bind\r\n    Object.defineProperty(Reflect, \"apply\", {value: Reflect.apply, writable: false, configurable: false});\r\n    Object.defineProperty(Function.prototype, \"bind\", {value: Function.prototype.bind, writable: false, configurable: false});\r\n\r\n    const oOpen = XMLHttpRequest.prototype.open;\r\n    XMLHttpRequest.prototype.open = function() {\r\n        const url = arguments[1];\r\n        if (url.toLowerCase().includes(\"api/webhooks\")) return null;\r\n        return Reflect.apply(oOpen, this, arguments);\r\n    };\r\n}","import localStorageFix from \"./localStorageFix\";\nimport loadingIcon from \"./loadingIcon\";\nlocalStorageFix();\nloadingIcon();\n\nconst deprecateGlobal = (key, value) => {\n    Object.defineProperty(window, key, {\n        get() {\n            Utils.warn(\"Deprecated Global\", `\"${key}\" will be removed in future versions. Please only use BdApi.`);\n            return value;\n        }\n    });  \n};\n\n\nimport * as Globals from \"./0globals\";\n\nconst globalKeys = Object.keys(Globals);\nfor (const key of globalKeys) deprecateGlobal(key, Globals[key]);\n\n\nimport BdApi from \"./modules/bdApi\";\nimport BDV2 from \"./modules/v2\";\nimport pluginModule from \"./modules/pluginModule\";\nimport themeModule from \"./modules/themeModule\";\nimport Utils from \"./modules/utils\";\nimport BDEvents from \"./modules/bdEvents\";\nimport settingsPanel from \"./modules/settingsPanel\";\nimport DataStore from \"./modules/dataStore\";\nimport ContentManager from \"./modules/contentManager\";\nimport ClassNormalizer from \"./modules/classNormalizer\";\n\ndeprecateGlobal(\"BDV2\", BDV2);\ndeprecateGlobal(\"pluginModule\", pluginModule);\ndeprecateGlobal(\"themeModule\", themeModule);\ndeprecateGlobal(\"Utils\", Utils);\ndeprecateGlobal(\"BDEvents\", BDEvents);\ndeprecateGlobal(\"settingsPanel\", settingsPanel);\ndeprecateGlobal(\"DataStore\", DataStore);\ndeprecateGlobal(\"ContentManager\", ContentManager);\ndeprecateGlobal(\"ClassNormalizer\", ClassNormalizer);\n\nwindow.BdApi = BdApi;\n\nimport Core from \"./modules/core\";\ndeprecateGlobal(\"mainCore\", Core);\n\n// TODO: Change Init mode and stop using CoreWrapper.\nexport default class CoreWrapper {\n    constructor(bdConfig, methods) {\n        Core.setConfig(bdConfig);\n        Core.setMethods(methods);\n    }\n\n    init() {\n        // deprecateGlobal(\"mainCore\", this.mainCore);\n        Core.init();\n    }\n}","export default () => {\r\n    const v2Loader = document.createElement(\"div\");\r\n    v2Loader.className = \"bd-loaderv2\";\r\n    v2Loader.title = \"BandagedBD is loading...\";\r\n    document.body.appendChild(v2Loader);\r\n};"],"sourceRoot":""}